⁄ø
:D:\web_angular\moduleAuth\Controllers\AccountController.cs
	namespace 	
angular6DotnetCore
 
. 
Controllers (
{ 
[ 
Route 

(
 
$str 
) 
] 
public 

class 
AccountController "
:# $

Controller% /
{ 
private 
readonly 
SignInManager &
<& '
IdentityUser' 3
>3 4
_signInManager5 C
;C D
private 
readonly 
ILogger  
<  !

LoginModel! +
>+ ,
_logger- 4
;4 5
private 
readonly 
UserManager $
<$ %
IdentityUser% 1
>1 2
_userManager3 ?
;? @
private 
readonly 
IEmailSender %
_emailSender& 2
;2 3
private 
readonly 
IHostingEnvironment ,
_env- 1
;1 2
public 
RegisterInputEmail !
Input" '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
[ 	
TempData	 
] 
public 
string 
ErrorMessage "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
LoginProvider #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
string 
	ReturnUrl 
{  !
get" %
;% &
set' *
;* +
}, -
public!! 
System!! 
.!! 
Web!! 
.!! 
HttpUtility!! %
http!!& *
{!!+ ,
get!!- 0
;!!0 1
}!!2 3
public## 
AccountController##  
(##  !
IHostingEnvironment$$ 
env$$  #
,$$# $
SignInManager%% 
<%% 
IdentityUser%% &
>%%& '
signInManager%%( 5
,%%5 6
UserManager%%7 B
<%%B C
IdentityUser%%C O
>%%O P
userManager%%Q \
,%%\ ]
ILogger&& 
<&& 

LoginModel&& 
>&& 
logger&&  &
,&&& '
IEmailSender&&( 4
emailSender&&5 @
)&&@ A
{'' 	
_signInManager(( 
=(( 
signInManager(( *
;((* +
_userManager)) 
=)) 
userManager)) &
;))& '
_logger** 
=** 
logger** 
;** 
_emailSender++ 
=++ 
emailSender++ &
;++& '
_env,, 
=,, 
env,, 
;,, 
}-- 	
[.. 	
HttpPost..	 
(.. 
$str.. 
).. 
]..  
public// 
IActionResult// 

checkLogin// '
(//' (
)//( )
{00 	
var11 

isSignedIn11 
=11 
_signInManager11 +
.11+ ,

IsSignedIn11, 6
(116 7
User117 ;
)11; <
;11< =
var22 
email22 
=22 
_userManager22 $
.22$ %
GetUserName22% 0
(220 1
User221 5
)225 6
;226 7
return33 
Ok33 
(33 
new33 
{44 

isSignedIn55 
,55 
email66 
}77 
)77 
;77 
}88 	
[:: 	
HttpPost::	 
(:: 
$str:: 
):: 
]:: 
public;; 
async;; 
Task;; 
<;; 
IActionResult;; '
>;;' (
Register;;) 1
(;;1 2
[;;2 3
FromBody;;3 ;
];;; <
RegisterInput;;= J
account;;K R
);;R S
{<< 	
if>> 
(>> 

ModelState>> 
.>> 
IsValid>> "
)>>" #
{?? 
var@@ 
user@@ 
=@@ 
new@@ 
IdentityUser@@ +
{@@, -
UserName@@. 6
=@@7 8
account@@9 @
.@@@ A
Email@@A F
,@@F G
Email@@H M
=@@N O
account@@P W
.@@W X
Email@@X ]
}@@^ _
;@@_ `
varAA 
resultAA 
=AA 
awaitAA "
_userManagerAA# /
.AA/ 0
CreateAsyncAA0 ;
(AA; <
userAA< @
,AA@ A
accountAAB I
.AAI J
PasswordAAJ R
)AAR S
;AAS T
ifBB 
(BB 
resultBB 
.BB 
	SucceededBB $
)BB$ %
{CC 
_loggerDD 
.DD 
LogInformationDD *
(DD* +
$strDD+ V
)DDV W
;DDW X
varFF 
codeFF 
=FF 
awaitFF $
_userManagerFF% 1
.FF1 2/
#GenerateEmailConfirmationTokenAsyncFF2 U
(FFU V
userFFV Z
)FFZ [
;FF[ \
varGG 
callbackUrlGG #
=GG$ %
UrlGG& )
.GG) *
PageGG* .
(GG. /
$strHH /
,HH/ 0
pageHandlerII #
:II# $
nullII% )
,II) *
valuesJJ 
:JJ 
newJJ  #
{JJ$ %
userIdJJ& ,
=JJ- .
userJJ/ 3
.JJ3 4
IdJJ4 6
,JJ6 7
codeJJ8 <
=JJ= >
codeJJ? C
}JJD E
,JJE F
protocolKK  
:KK  !
RequestKK" )
.KK) *
SchemeKK* 0
)KK0 1
;KK1 2
awaitMM 
_emailSenderMM &
.MM& '
SendEmailAsyncMM' 5
(MM5 6
accountMM6 =
.MM= >
EmailMM> C
,MMC D
$strMME Y
,MMY Z
$"NN 4
(Please confirm your account by <a href='NN B
{NNB C
HtmlEncoderNNC N
.NNN O
DefaultNNO V
.NNV W
EncodeNNW ]
(NN] ^
callbackUrlNN^ i
)NNi j
}NNj k 
'>clicking here</a>.NNk 
"	NN Ä
)
NNÄ Å
;
NNÅ Ç
returnQQ 
OkQQ 
(QQ 
newQQ !
{RR 
messageSS 
=SS  !
$strSS" 7
}TT 
)TT 
;TT 
}UU 
foreachVV 
(VV 
varVV 
errorVV "
inVV# %
resultVV& ,
.VV, -
ErrorsVV- 3
)VV3 4
{WW 

ModelStateXX 
.XX 
AddModelErrorXX ,
(XX, -
stringXX- 3
.XX3 4
EmptyXX4 9
,XX9 :
errorXX; @
.XX@ A
DescriptionXXA L
)XXL M
;XXM N
}YY 
}ZZ 
return\\ 

BadRequest\\ 
(\\ 
new\\ !
{]] 
message^^ 
=^^ 

ModelState^^ $
.^^$ %
Values^^% +
}__ 
)__ 
;__ 
}`` 	
[bb 	
HttpPostbb	 
(bb 
$strbb 
)bb 
]bb 
publiccc 
asynccc 
Taskcc 
<cc 
IActionResultcc '
>cc' (
Logoutcc) /
(cc/ 0
)cc0 1
{dd 	
awaitee 
_signInManageree  
.ee  !
SignOutAsyncee! -
(ee- .
)ee. /
;ee/ 0
returnff 
Okff 
(ff 
newgg 
{hh 

isSignedInii 
=ii  
falseii! &
}jj 
)jj 
;jj 
}kk 	
[mm 	
HttpPostmm	 
(mm 
$strmm 
)mm 
]mm 
publicnn 
asyncnn 
Tasknn 
<nn 
objectnn  
>nn  !
Loginnn" '
(nn' (
[nn( )
FromBodynn) 1
]nn1 2

LoginInputnn3 =
accountnn> E
)nnE F
{oo 	
ifrr 
(rr 

ModelStaterr 
.rr 
IsValidrr "
)rr" #
{ss 
vartt 
usertt 
=tt 
_userManagertt '
.tt' (
GetUserNamett( 3
(tt3 4
Usertt4 8
)tt8 9
;tt9 :
varxx 
resultxx 
=xx 
awaitxx "
_signInManagerxx# 1
.xx1 2
PasswordSignInAsyncxx2 E
(xxE F
accountxxF M
.xxM N
EmailxxN S
,xxS T
accountxxU \
.xx\ ]
Passwordxx] e
,xxe f
accountxxg n
.xxn o

RememberMexxo y
,xxy z
lockoutOnFailure	xx{ ã
:
xxã å
true
xxç ë
)
xxë í
;
xxí ì
ifzz 
(zz 
resultzz 
.zz 
	Succeededzz $
)zz$ %
{{{ 
_logger|| 
.|| 
LogInformation|| *
(||* +
$str||+ <
)||< =
;||= >
return}} 
Ok}} 
(}} 
new}} !
Models}}" (
.}}( )

ViewModels}}) 3
.}}3 4
MessageModel}}4 @
{~~ 
	ReturnUrl !
=" #
account$ +
.+ ,
	ReturnUrl, 5
,5 6

IsSignedIn
ÄÄ "
=
ÄÄ# $
result
ÄÄ% +
.
ÄÄ+ ,
	Succeeded
ÄÄ, 5
,
ÄÄ5 6
	Succeeded
ÅÅ !
=
ÅÅ" #
result
ÅÅ$ *
.
ÅÅ* +
	Succeeded
ÅÅ+ 4
,
ÅÅ4 5
Email
ÇÇ 
=
ÇÇ 
account
ÇÇ  '
.
ÇÇ' (
Email
ÇÇ( -
,
ÇÇ- .
Message
ÉÉ 
=
ÉÉ  !
$str
ÉÉ" 3
}
ÑÑ 
)
ÑÑ 
;
ÑÑ 
}
ÖÖ 
}
ÜÜ 
return
àà 

BadRequest
àà 
(
àà 
new
àà !
Models
àà" (
.
àà( )

ViewModels
àà) 3
.
àà3 4
MessageModel
àà4 @
{
ââ 
	ReturnUrl
ää 
=
ää 
account
ää #
.
ää# $
	ReturnUrl
ää$ -
,
ää- .
Email
ãã 
=
ãã 
account
ãã 
.
ãã  
Email
ãã  %
,
ãã% &
Message
åå 
=
åå 
$str
åå &
}
çç 
)
çç 
;
çç 
}
éé 	
[
êê 	
HttpGet
êê	 
(
êê 
$str
êê 
)
êê 
]
êê  
public
ëë 
IActionResult
ëë 
LoginWithSocial
ëë ,
(
ëë, -
[
ëë- .
	FromQuery
ëë. 7
]
ëë7 8
string
ëë8 >
Provider
ëë? G
,
ëëG H
[
ëëI J
	FromQuery
ëëJ S
]
ëëS T
string
ëëT Z
	ReturnUrl
ëë[ d
)
ëëd e
{
íí 	
	ReturnUrl
ìì 
=
ìì 
	ReturnUrl
ìì !
??
ìì" $
$str
ìì% '
;
ìì' (
return
îî 
new
îî 
ChallengeResult
îî &
(
îî& '
Provider
îî' /
,
îî/ 0
_signInManager
îî1 ?
.
îî? @7
)ConfigureExternalAuthenticationProperties
îî@ i
(
îîi j
Provider
ïï 
,
ïï 
	CreateUrl
ïï '
(
ïï' (
$str
ïï( D
,
ïïD E
$"
ïïF H

returnUrl=
ïïH R
{
ïïR S
Uri
ïïS V
.
ïïV W
EscapeDataString
ïïW g
(
ïïg h
	ReturnUrl
ïïh q
)
ïïq r
}
ïïr s
"
ïïs t
)
ïït u
)
ïïu v
)
ïïv w
;
ïïw x
}
ññ 	
[
òò 	
HttpGet
òò	 
(
òò 
$str
òò !
)
òò! "
]
òò" #
public
ôô 
async
ôô 
Task
ôô 
<
ôô 
IActionResult
ôô '
>
ôô' (!
SocialCallbackAsync
ôô) <
(
ôô< =
string
ôô= C
	returnUrl
ôôD M
=
ôôN O
null
ôôP T
,
ôôT U
string
ôôV \
remoteError
ôô] h
=
ôôi j
null
ôôk o
)
ôôo p
{
öö 	
	returnUrl
õõ 
=
õõ 
	returnUrl
õõ !
??
õõ" $
Url
õõ% (
.
õõ( )
Content
õõ) 0
(
õõ0 1
$str
õõ1 :
)
õõ: ;
;
õõ; <
if
úú 
(
úú 
remoteError
úú 
!=
úú 
null
úú #
)
úú# $
{
ùù 
ErrorMessage
ûû 
=
ûû 
$"
ûû !,
Error from external provider: 
ûû! ?
{
ûû? @
remoteError
ûû@ K
}
ûûK L
"
ûûL M
;
ûûM N
return
üü 

BadRequest
üü !
(
üü! "
new
üü" %
Models
üü& ,
.
üü, -

ViewModels
üü- 7
.
üü7 8
MessageModel
üü8 D
{
†† 
Message
°° 
=
°° 
ErrorMessage
°° *
,
°°* +
	ReturnUrl
¢¢ 
=
¢¢ 
	returnUrl
¢¢  )
}
££ 
)
££ 
;
££ 
}
§§ 
var
•• 
info
•• 
=
•• 
await
•• 
_signInManager
•• +
.
••+ ,'
GetExternalLoginInfoAsync
••, E
(
••E F
)
••F G
;
••G H
if
¶¶ 
(
¶¶ 
info
¶¶ 
==
¶¶ 
null
¶¶ 
)
¶¶ 
{
ßß 
ErrorMessage
®® 
=
®® 
$str
®® J
;
®®J K
return
©© 

BadRequest
©© !
(
©©! "
new
©©" %
Models
©©& ,
.
©©, -

ViewModels
©©- 7
.
©©7 8
MessageModel
©©8 D
{
™™ 
Message
´´ 
=
´´ 
ErrorMessage
´´ *
,
´´* +
	ReturnUrl
¨¨ 
=
¨¨ 
	returnUrl
¨¨  )
}
≠≠ 
)
≠≠ 
;
≠≠ 
}
ÆÆ 
var
±± 
result
±± 
=
±± 
await
±± 
_signInManager
±± -
.
±±- .&
ExternalLoginSignInAsync
±±. F
(
±±F G
info
±±G K
.
±±K L
LoginProvider
±±L Y
,
±±Y Z
info
±±[ _
.
±±_ `
ProviderKey
±±` k
,
±±k l
isPersistent
±±m y
:
±±y z
false±±{ Ä
,±±Ä Å
bypassTwoFactor±±Ç ë
:±±ë í
true±±ì ó
)±±ó ò
;±±ò ô
if
≤≤ 
(
≤≤ 
result
≤≤ 
.
≤≤ 
	Succeeded
≤≤  
)
≤≤  !
{
≥≥ 
_logger
¥¥ 
.
¥¥ 
LogInformation
¥¥ &
(
¥¥& '
$str
¥¥' X
,
¥¥X Y
info
¥¥Z ^
.
¥¥^ _
	Principal
¥¥_ h
.
¥¥h i
Identity
¥¥i q
.
¥¥q r
Name
¥¥r v
,
¥¥v w
info
¥¥x |
.
¥¥| }
LoginProvider¥¥} ä
)¥¥ä ã
;¥¥ã å
return
µµ 

BadRequest
µµ !
(
µµ! "
new
µµ" %
Models
µµ& ,
.
µµ, -

ViewModels
µµ- 7
.
µµ7 8
MessageModel
µµ8 D
{
∂∂ 
Message
∑∑ 
=
∑∑ 
info
∑∑ "
.
∑∑" #
	Principal
∑∑# ,
.
∑∑, -
Identity
∑∑- 5
.
∑∑5 6
Name
∑∑6 :
+
∑∑; <
$str
∑∑= M
+
∑∑N O
info
∑∑P T
.
∑∑T U
LoginProvider
∑∑U b
,
∑∑b c
	ReturnUrl
∏∏ 
=
∏∏ 
	returnUrl
∏∏  )
}
ππ 
)
ππ 
;
ππ 
}
∫∫ 
if
ªª 
(
ªª 
result
ªª 
.
ªª 
IsLockedOut
ªª "
)
ªª" #
{
ºº 
return
ΩΩ 

BadRequest
ΩΩ !
(
ΩΩ! "
new
ΩΩ" %
Models
ΩΩ& ,
.
ΩΩ, -

ViewModels
ΩΩ- 7
.
ΩΩ7 8
MessageModel
ΩΩ8 D
{
ææ 
Message
øø 
=
øø 
$str
øø &
,
øø& '
	ReturnUrl
¿¿ 
=
¿¿ 
	returnUrl
¿¿  )
}
¡¡ 
)
¡¡ 
;
¡¡ 
}
¬¬ 
else
√√ 
{
ƒƒ 
	ReturnUrl
∆∆ 
=
∆∆ 
	returnUrl
∆∆ %
;
∆∆% &
LoginProvider
«« 
=
«« 
info
««  $
.
««$ %
LoginProvider
««% 2
;
««2 3
if
»» 
(
»» 
info
»» 
.
»» 
	Principal
»» "
.
»»" #
HasClaim
»»# +
(
»»+ ,
c
»», -
=>
»». 0
c
»»1 2
.
»»2 3
Type
»»3 7
==
»»8 :

ClaimTypes
»»; E
.
»»E F
Email
»»F K
)
»»K L
)
»»L M
{
…… 
Input
   
=
   
new
    
RegisterInputEmail
    2
{
ÀÀ 
Email
ÃÃ 
=
ÃÃ 
info
ÃÃ  $
.
ÃÃ$ %
	Principal
ÃÃ% .
.
ÃÃ. /
FindFirstValue
ÃÃ/ =
(
ÃÃ= >

ClaimTypes
ÃÃ> H
.
ÃÃH I
Email
ÃÃI N
)
ÃÃN O
}
ÕÕ 
;
ÕÕ 
}
ŒŒ 
return
œœ 
Ok
œœ 
(
œœ 
new
œœ 
Models
œœ $
.
œœ$ %

ViewModels
œœ% /
.
œœ/ 0
MessageModel
œœ0 <
{
–– 

IsSignedIn
—— 
=
——  
true
——! %
,
——% &
	Succeeded
““ 
=
““ 
true
““  $
,
““$ %
Message
”” 
=
”” 
$str
”” ;
,
””; <
	ReturnUrl
‘‘ 
=
‘‘ 
	returnUrl
‘‘  )
,
‘‘) *
Email
’’ 
=
’’ 
Input
’’ !
.
’’! "
Email
’’" '
}
÷÷ 
)
÷÷ 
;
÷÷ 
}
◊◊ 
}
ÿÿ 	
[
ŸŸ 	
HttpPost
ŸŸ	 
(
ŸŸ 
$str
ŸŸ !
)
ŸŸ! "
]
ŸŸ" #
public
⁄⁄ 
async
⁄⁄ 
Task
⁄⁄ 
<
⁄⁄ 
IActionResult
⁄⁄ '
>
⁄⁄' (%
SocialConfirmationAsync
⁄⁄) @
(
⁄⁄@ A
string
⁄⁄A G
	returnUrl
⁄⁄H Q
=
⁄⁄R S
null
⁄⁄T X
)
⁄⁄X Y
{
€€ 	
	returnUrl
‹‹ 
=
‹‹ 
	returnUrl
‹‹ !
??
‹‹" $
Url
‹‹% (
.
‹‹( )
Content
‹‹) 0
(
‹‹0 1
$str
‹‹1 5
)
‹‹5 6
;
‹‹6 7
var
ﬁﬁ 
info
ﬁﬁ 
=
ﬁﬁ 
await
ﬁﬁ 
_signInManager
ﬁﬁ +
.
ﬁﬁ+ ,'
GetExternalLoginInfoAsync
ﬁﬁ, E
(
ﬁﬁE F
)
ﬁﬁF G
;
ﬁﬁG H
if
ﬂﬂ 
(
ﬂﬂ 
info
ﬂﬂ 
==
ﬂﬂ 
null
ﬂﬂ 
)
ﬂﬂ 
{
‡‡ 
ErrorMessage
·· 
=
·· 
$str
·· ^
;
··^ _
return
‚‚ 
RedirectToPage
‚‚ %
(
‚‚% &
$str
‚‚& /
,
‚‚/ 0
new
‚‚1 4
{
‚‚5 6
	ReturnUrl
‚‚7 @
=
‚‚A B
	returnUrl
‚‚C L
}
‚‚M N
)
‚‚N O
;
‚‚O P
}
„„ 
if
ÂÂ 
(
ÂÂ 

ModelState
ÂÂ 
.
ÂÂ 
IsValid
ÂÂ "
)
ÂÂ" #
{
ÊÊ 
var
ÁÁ 
user
ÁÁ 
=
ÁÁ 
new
ÁÁ 
IdentityUser
ÁÁ +
{
ÁÁ, -
UserName
ÁÁ. 6
=
ÁÁ7 8
Input
ÁÁ9 >
.
ÁÁ> ?
Email
ÁÁ? D
,
ÁÁD E
Email
ÁÁF K
=
ÁÁL M
Input
ÁÁN S
.
ÁÁS T
Email
ÁÁT Y
}
ÁÁZ [
;
ÁÁ[ \
var
ËË 
result
ËË 
=
ËË 
await
ËË "
_userManager
ËË# /
.
ËË/ 0
CreateAsync
ËË0 ;
(
ËË; <
user
ËË< @
)
ËË@ A
;
ËËA B
if
ÈÈ 
(
ÈÈ 
result
ÈÈ 
.
ÈÈ 
	Succeeded
ÈÈ $
)
ÈÈ$ %
{
ÍÍ 
result
ÎÎ 
=
ÎÎ 
await
ÎÎ "
_userManager
ÎÎ# /
.
ÎÎ/ 0
AddLoginAsync
ÎÎ0 =
(
ÎÎ= >
user
ÎÎ> B
,
ÎÎB C
info
ÎÎD H
)
ÎÎH I
;
ÎÎI J
if
ÏÏ 
(
ÏÏ 
result
ÏÏ 
.
ÏÏ 
	Succeeded
ÏÏ (
)
ÏÏ( )
{
ÌÌ 
await
ÓÓ 
_signInManager
ÓÓ ,
.
ÓÓ, -
SignInAsync
ÓÓ- 8
(
ÓÓ8 9
user
ÓÓ9 =
,
ÓÓ= >
isPersistent
ÓÓ? K
:
ÓÓK L
false
ÓÓM R
)
ÓÓR S
;
ÓÓS T
_logger
ÔÔ 
.
ÔÔ  
LogInformation
ÔÔ  .
(
ÔÔ. /
$str
ÔÔ/ _
,
ÔÔ_ `
info
ÔÔa e
.
ÔÔe f
LoginProvider
ÔÔf s
)
ÔÔs t
;
ÔÔt u
return
 
LocalRedirect
 ,
(
, -
	returnUrl
- 6
)
6 7
;
7 8
}
ÒÒ 
}
ÚÚ 
foreach
ÛÛ 
(
ÛÛ 
var
ÛÛ 
error
ÛÛ "
in
ÛÛ# %
result
ÛÛ& ,
.
ÛÛ, -
Errors
ÛÛ- 3
)
ÛÛ3 4
{
ÙÙ 

ModelState
ıı 
.
ıı 
AddModelError
ıı ,
(
ıı, -
string
ıı- 3
.
ıı3 4
Empty
ıı4 9
,
ıı9 :
error
ıı; @
.
ıı@ A
Description
ııA L
)
ııL M
;
ııM N
}
ˆˆ 
}
˜˜ 
LoginProvider
˘˘ 
=
˘˘ 
info
˘˘  
.
˘˘  !
LoginProvider
˘˘! .
;
˘˘. /
	ReturnUrl
˙˙ 
=
˙˙ 
	returnUrl
˙˙ !
;
˙˙! "
return
˚˚ 
Ok
˚˚ 
(
˚˚ 
new
˚˚ 
{
¸¸ 
message
˝˝ 
=
˝˝ 
$str
˝˝ #
,
˝˝# $
	returnUrl
˛˛ 
}
ˇˇ 
)
ˇˇ 
;
ˇˇ 
}
ÄÄ 	
private
ÇÇ 
string
ÇÇ 
	CreateUrl
ÇÇ  
(
ÇÇ  !
string
ÇÇ! '
path
ÇÇ( ,
,
ÇÇ, -
string
ÇÇ. 4
query
ÇÇ5 :
)
ÇÇ: ;
{
ÉÉ 	
var
ÑÑ 

uriBuilder
ÑÑ 
=
ÑÑ 
new
ÑÑ  

UriBuilder
ÑÑ! +
{
ÖÖ 
Scheme
ÜÜ 
=
ÜÜ 
Request
ÜÜ  
.
ÜÜ  !
IsHttps
ÜÜ! (
?
ÜÜ) *
Uri
ÜÜ+ .
.
ÜÜ. /
UriSchemeHttps
ÜÜ/ =
:
ÜÜ> ?
Uri
ÜÜ@ C
.
ÜÜC D
UriSchemeHttp
ÜÜD Q
,
ÜÜQ R
Host
áá 
=
áá 
Request
áá 
.
áá 
Host
áá #
.
áá# $
Host
áá$ (
,
áá( )
Port
àà 
=
àà 
-
àà 
$num
àà 
,
àà 
Path
ââ 
=
ââ 
$"
ââ 
{
ââ 
Request
ââ !
.
ââ! "
PathBase
ââ" *
}
ââ* +
/
ââ+ ,
{
ââ, -
path
ââ- 1
??
ââ2 4
string
ââ5 ;
.
ââ; <
Empty
ââ< A
}
ââA B
"
ââB C
,
ââC D
Query
ää 
=
ää 
query
ää 
??
ää  
string
ää! '
.
ää' (
Empty
ää( -
}
ãã 
;
ãã 
if
çç 
(
çç 
_env
çç 
.
çç 
IsDevelopment
çç "
(
çç" #
)
çç# $
)
çç$ %
{
éé 

uriBuilder
èè 
.
èè 
Port
èè 
=
èè  !
Request
èè" )
.
èè) *
Host
èè* .
.
èè. /
Port
èè/ 3
??
èè4 6
-
èè7 8
$num
èè8 9
;
èè9 :
}
êê 
return
íí 

uriBuilder
íí 
.
íí 
Uri
íí !
.
íí! "
AbsoluteUri
íí" -
;
íí- .
}
ìì 	
}
îî 
}ïï Ã†
8D:\web_angular\moduleAuth\Controllers\AdminController.cs
	namespace 	
angular6DotnetCore
 
. 
Controllers (
{ 
[ 
Route 

(
 
$str 
) 
] 
public 

class 
AdminController  
:! "

Controller# -
{ 
private 
readonly 
SignInManager &
<& '
IdentityUser' 3
>3 4
_signInManager5 C
;C D
private 
readonly 
ILogger  
<  !

LoginModel! +
>+ ,
_logger- 4
;4 5
private 
readonly 
UserManager $
<$ %
IdentityUser% 1
>1 2
_userManager3 ?
;? @
private 
readonly 
IEmailSender %
_emailSender& 2
;2 3
private 
readonly 
UserDbContext &
_context' /
;/ 0
private 
IHostingEnvironment #
_hostingEnvironment$ 7
;7 8
public 
AdminController 
( 
SignInManager 
< 
IdentityUser &
>& '
signInManager( 5
,5 6
UserManager 
< 
IdentityUser $
>$ %
userManager& 1
,1 2
ILogger 
< 

LoginModel 
> 
logger  &
,& '
IEmailSender   
emailSender   $
,  $ %
UserDbContext!! 
context!! !
,!!! "
IHostingEnvironment"" 
hostingEnvironment""  2
)""2 3
{## 	
_context$$ 
=$$ 
context$$ 
;$$ 
_signInManager%% 
=%% 
signInManager%% *
;%%* +
_userManager&& 
=&& 
userManager&& &
;&&& '
_logger'' 
='' 
logger'' 
;'' 
_emailSender(( 
=(( 
emailSender(( &
;((& '
_hostingEnvironment)) 
=))  !
hostingEnvironment))" 4
;))4 5
}++ 	
[,, 	
HttpGet,,	 
(,, 
$str,, "
),," #
],,# $
public-- 
IActionResult-- 
GetCurrencyUnit-- ,
(--, -
)--- .
{.. 	
return// 
Ok// 
(// 
)// 
;// 
}00 	
[11 	
HttpPost11	 
(11 
$str11 $
)11$ %
]11% &
public22 
IActionResult22 
SaveCurrencyUnit22 -
(22- .
)22. /
{33 	
return44 
Ok44 
(44 
)44 
;44 
}55 	
[88 	
HttpGet88	 
(88 
$str88  
)88  !
]88! "
public99 
IActionResult99 
GetCategories99 *
(99* +
string99+ 1
category992 :
)99: ;
{:: 	
var;; 

isSignedIn;; 
=;; 
_signInManager;; +
.;;+ ,

IsSignedIn;;, 6
(;;6 7
User;;7 ;
);;; <
;;;< =
var<< 
message<< 
=<< 
new<< 
MessageModel<< *
(<<* +
)<<+ ,
;<<, -
message== 
.== 

IsSignedIn== 
===  

isSignedIn==! +
;==+ ,
if>> 
(>> 

isSignedIn>> 
)>> 
{?? 
varAA 
typesAA 
=AA 
categoryAA $
!=AA% '
nullAA( ,
?BB 
_contextBB 
.BB 
TypesBB $
.BB$ %
WhereBB% *
(BB* +
mBB+ ,
=>BB- /
mBB0 1
.BB1 2
ClassBB2 7
==BB8 :
categoryBB; C
)BBC D
.BBD E
ToListBBE K
(BBK L
)BBL M
:CC 
_contextCC 
.CC 
TypesCC $
.CC$ %
ToListCC% +
(CC+ ,
)CC, -
;CC- .
messageDD 
.DD 
ResultsDD 
=DD  !
typesDD" '
;DD' (
messageEE 
.EE 
MessageEE 
=EE  !
$strEE" <
;EE< =
returnGG 
OkGG 
(GG 
messageGG !
)GG! "
;GG" #
}HH 
elseII 
{JJ 
messageKK 
.KK 
MessageKK 
=KK  !
$strKK" 9
;KK9 :
returnLL 

BadRequestLL !
(LL! "
messageLL" )
)LL) *
;LL* +
}MM 
}NN 	
[QQ 	
HttpGetQQ	 
(QQ 
$strQQ 
)QQ 
]QQ  
publicRR 
IActionResultRR 
GetCategoryRR (
(RR( )
stringRR) /
IdRR0 2
)RR2 3
{SS 	
returnTT 
OkTT 
(TT 
)TT 
;TT 
}UU 	
[WW 	
HttpPostWW	 
(WW 
$strWW  
)WW  !
]WW! "
publicXX 
asyncXX 
TaskXX 
<XX 
IActionResultXX '
>XX' (
SaveCategoryXX) 5
(XX5 6
[XX6 7
FromBodyXX7 ?
]XX? @
ModelsXX@ F
.XXF G
TypeXXG K
categoryXXL T
)XXT U
{YY 	
varZZ 

isSignedInZZ 
=ZZ 
_signInManagerZZ +
.ZZ+ ,

IsSignedInZZ, 6
(ZZ6 7
UserZZ7 ;
)ZZ; <
;ZZ< =
var[[ 
message[[ 
=[[ 
new[[ 
MessageModel[[ *
([[* +
)[[+ ,
;[[, -
message\\ 
.\\ 

IsSignedIn\\ 
=\\  

isSignedIn\\! +
;\\+ ,
if]] 
(]] 
!]] 

isSignedIn]] 
)]] 
{^^ 
message__ 
.__ 
Message__ 
=__  !
$str__" >
;__> ?
return`` 

BadRequest`` !
(``! "
message``" )
)``) *
;``* +
}aa 
categorybb 
.bb 
CreatedDatebb  
=bb! "
categorybb# +
.bb+ ,
CreatedDatebb, 7
!=bb8 :
nullbb; ?
?bb@ A
categorybbB J
.bbJ K
CreatedDatebbK V
:bbW X
DateTimebbY a
.bba b
Nowbbb e
;bbe f
categorycc 
.cc 
Classcc 
=cc 
categorycc %
.cc% &
Classcc& +
!=cc, .
nullcc/ 3
?cc4 5
categorycc6 >
.cc> ?
Classcc? D
:ccE F
$strccG Q
;ccQ R
categorydd 
.dd 
	Activateddd 
=dd  
categorydd! )
.dd) *
	Activateddd* 3
==dd4 6
falsedd7 <
?dd= >
falsedd? D
:ddE F
trueddG K
;ddK L
ifee 
(ee 
categoryee 
.ee 
	Activatedee "
)ee" #
{ff 
categorygg 
.gg 
ActivatedDategg &
=gg' (
categorygg) 1
.gg1 2
ActivatedDategg2 ?
!=gg@ B
nullggC G
?ggH I
categoryggJ R
.ggR S
ActivatedDateggS `
:gga b
DateTimeggc k
.ggk l
Nowggl o
;ggo p
}hh 
ifjj 
(jj 

ModelStatejj 
.jj 
IsValidjj "
)jj" #
{kk 
trymm 
{nn 
varoo 
cateOldoo 
=oo  !
awaitoo" '
_contextoo( 0
.oo0 1
Typesoo1 6
.oo6 7
	FindAsyncoo7 @
(oo@ A
categoryooA I
.ooI J
IdooJ L
)ooL M
;ooM N
ifpp 
(pp 
cateOldpp 
!=pp  "
nullpp# '
)pp' (
{qq 
cateOldrr 
.rr  
ImageUrlrr  (
=rr) *
categoryrr+ 3
.rr3 4
ImageUrlrr4 <
;rr< =
cateOldss 
.ss  
Namess  $
=ss% &
categoryss' /
.ss/ 0
Namess0 4
;ss4 5
cateOldtt 
.tt  
ThumbUrltt  (
=tt) *
categorytt+ 3
.tt3 4
ThumbUrltt4 <
;tt< =
cateOlduu 
.uu  
TopIndexuu  (
=uu) *
categoryuu+ 3
.uu3 4
TopIndexuu4 <
;uu< =
cateOldvv 
.vv  
UploadedDatevv  ,
=vv- .
DateTimevv/ 7
.vv7 8
Nowvv8 ;
;vv; <
cateOldww 
.ww  
TypeParentIdww  ,
=ww- .
categoryww/ 7
.ww7 8
TypeParentIdww8 D
;wwD E
cateOldxx 
.xx  
Urlxx  #
=xx$ %
categoryxx& .
.xx. /
Urlxx/ 2
;xx2 3
cateOldyy 
.yy  
	Activatedyy  )
=yy* +
categoryyy, 4
.yy4 5
	Activatedyy5 >
;yy> ?
cateOldzz 
.zz  
ActivatedDatezz  -
=zz. /
categoryzz0 8
.zz8 9
ActivatedDatezz9 F
;zzF G
cateOld{{ 
.{{  
Class{{  %
={{& '
category{{( 0
.{{0 1
Class{{1 6
;{{6 7
_context||  
.||  !
Entry||! &
(||& '
cateOld||' .
)||. /
.||/ 0
State||0 5
=||6 7
EntityState||8 C
.||C D
Modified||D L
;||L M
}}} 
else~~ 
{ 
_context
ÄÄ  
.
ÄÄ  !
Types
ÄÄ! &
.
ÄÄ& '
Add
ÄÄ' *
(
ÄÄ* +
category
ÄÄ+ 3
)
ÄÄ3 4
;
ÄÄ4 5
}
ÅÅ 
var
ÇÇ 

saveResult
ÇÇ "
=
ÇÇ# $
await
ÇÇ% *
_context
ÇÇ+ 3
.
ÇÇ3 4
SaveChangesAsync
ÇÇ4 D
(
ÇÇD E
)
ÇÇE F
;
ÇÇF G
if
ÉÉ 
(
ÉÉ 

saveResult
ÉÉ "
>
ÉÉ# $
$num
ÉÉ% &
)
ÉÉ& '
{
ÑÑ 
message
ÖÖ 
.
ÖÖ  
Message
ÖÖ  '
=
ÖÖ( )
$str
ÖÖ* H
;
ÖÖH I
return
ÜÜ 
Ok
ÜÜ !
(
ÜÜ! "
message
ÜÜ" )
)
ÜÜ) *
;
ÜÜ* +
}
áá 
else
àà 
{
ââ 
message
ää 
.
ää  
Message
ää  '
=
ää( )
$str
ää* E
;
ääE F
return
ãã 

BadRequest
ãã )
(
ãã) *
message
ãã* 1
)
ãã1 2
;
ãã2 3
}
åå 
}
çç 
catch
éé 
(
éé 
	Exception
éé  
ex
éé! #
)
éé# $
{
èè 
message
êê 
.
êê 
Message
êê #
=
êê$ %
$str
êê& C
+
êêD E
ex
êêF H
.
êêH I
Message
êêI P
;
êêP Q
return
ëë 

BadRequest
ëë %
(
ëë% &
message
ëë& -
)
ëë- .
;
ëë. /
}
íí 
}
ìì 
else
îî 
{
ïï 
message
ññ 
.
ññ 
Message
ññ 
=
ññ  !
$str
ññ" 9
;
ññ9 :
return
óó 

BadRequest
óó !
(
óó! "
message
óó" )
)
óó) *
;
óó* +
}
ôô 
}
öö 	
[
úú 	
HttpPost
úú	 
(
úú 
$str
úú !
)
úú! "
]
úú" #
public
ùù 
async
ùù 
Task
ùù 
<
ùù 
IActionResult
ùù '
>
ùù' (
BlockCategory
ùù) 6
(
ùù6 7
[
ùù7 8
FromBody
ùù8 @
]
ùù@ A
int
ùùA D
id
ùùE G
)
ùùG H
{
ûû 	
var
üü 

isSignedIn
üü 
=
üü 
_signInManager
üü +
.
üü+ ,

IsSignedIn
üü, 6
(
üü6 7
User
üü7 ;
)
üü; <
;
üü< =
var
†† 
message
†† 
=
†† 
new
†† 
MessageModel
†† *
(
††* +
)
††+ ,
;
††, -
message
°° 
.
°° 

IsSignedIn
°° 
=
°°  

isSignedIn
°°! +
;
°°+ ,
if
¢¢ 
(
¢¢ 
!
¢¢ 

isSignedIn
¢¢ 
)
¢¢ 
{
££ 
message
§§ 
.
§§ 
Message
§§ 
=
§§  !
$str
§§" >
;
§§> ?
return
•• 

BadRequest
•• !
(
••! "
message
••" )
)
••) *
;
••* +
}
¶¶ 
var
ßß 
category
ßß 
=
ßß 
await
ßß  
_context
ßß! )
.
ßß) *
Types
ßß* /
.
ßß/ 0
	FindAsync
ßß0 9
(
ßß9 :
id
ßß: <
)
ßß< =
;
ßß= >
category
®® 
.
®® 
	Activated
®® 
=
®®  
false
®®! &
;
®®& '
category
©© 
.
©© 
UploadedDate
©© !
=
©©" #
DateTime
©©$ ,
.
©©, -
Now
©©- 0
;
©©0 1
_context
™™ 
.
™™ 
Entry
™™ 
(
™™ 
category
™™ #
)
™™# $
.
™™$ %
State
™™% *
=
™™+ ,
EntityState
™™- 8
.
™™8 9
Modified
™™9 A
;
™™A B
var
´´ 

saveResult
´´ 
=
´´ 
await
´´ "
_context
´´# +
.
´´+ ,
SaveChangesAsync
´´, <
(
´´< =
)
´´= >
;
´´> ?
if
¨¨ 
(
¨¨ 

saveResult
¨¨ 
>
¨¨ 
$num
¨¨ 
)
¨¨ 
{
≠≠ 
message
ÆÆ 
.
ÆÆ 
Message
ÆÆ 
=
ÆÆ  !
$str
ÆÆ" @
;
ÆÆ@ A
return
ØØ 
Ok
ØØ 
(
ØØ 
message
ØØ !
)
ØØ! "
;
ØØ" #
}
∞∞ 
else
±± 
{
≤≤ 
message
≥≥ 
.
≥≥ 
Message
≥≥ 
=
≥≥  !
$str
≥≥" =
;
≥≥= >
return
¥¥ 

BadRequest
¥¥ !
(
¥¥! "
message
¥¥" )
)
¥¥) *
;
¥¥* +
}
µµ 
}
∂∂ 	
[
∏∏ 	
HttpPost
∏∏	 
(
∏∏ 
$str
∏∏ "
)
∏∏" #
]
∏∏# $
public
ππ 
async
ππ 
Task
ππ 
<
ππ 
IActionResult
ππ '
>
ππ' (
DeleteCategory
ππ) 7
(
ππ7 8
[
ππ8 9
FromBody
ππ9 A
]
ππA B
int
ππB E
id
ππF H
)
ππH I
{
∫∫ 	
var
ªª 

isSignedIn
ªª 
=
ªª 
_signInManager
ªª +
.
ªª+ ,

IsSignedIn
ªª, 6
(
ªª6 7
User
ªª7 ;
)
ªª; <
;
ªª< =
var
ºº 
message
ºº 
=
ºº 
new
ºº 
MessageModel
ºº *
(
ºº* +
)
ºº+ ,
;
ºº, -
message
ΩΩ 
.
ΩΩ 

IsSignedIn
ΩΩ 
=
ΩΩ  

isSignedIn
ΩΩ! +
;
ΩΩ+ ,
if
ææ 
(
ææ 
!
ææ 

isSignedIn
ææ 
)
ææ 
{
øø 
message
¿¿ 
.
¿¿ 
Message
¿¿ 
=
¿¿  !
$str
¿¿" >
;
¿¿> ?
return
¡¡ 

BadRequest
¡¡ !
(
¡¡! "
message
¡¡" )
)
¡¡) *
;
¡¡* +
}
¬¬ 
var
√√ 
category
√√ 
=
√√ 
await
√√  
_context
√√! )
.
√√) *
Types
√√* /
.
√√/ 0
	FindAsync
√√0 9
(
√√9 :
id
√√: <
)
√√< =
;
√√= >
_context
ƒƒ 
.
ƒƒ 
Types
ƒƒ 
.
ƒƒ 
Remove
ƒƒ !
(
ƒƒ! "
category
ƒƒ" *
)
ƒƒ* +
;
ƒƒ+ ,
var
≈≈ 

saveResult
≈≈ 
=
≈≈ 
await
≈≈ "
_context
≈≈# +
.
≈≈+ ,
SaveChangesAsync
≈≈, <
(
≈≈< =
)
≈≈= >
;
≈≈> ?
if
∆∆ 
(
∆∆ 

saveResult
∆∆ 
>
∆∆ 
$num
∆∆ 
)
∆∆ 
{
«« 
message
»» 
.
»» 
Message
»» 
=
»»  !
$str
»»" C
+
»»D E

saveResult
»»F P
;
»»P Q
return
…… 
Ok
…… 
(
…… 
message
…… !
)
……! "
;
……" #
}
   
else
ÀÀ 
{
ÃÃ 
message
ÕÕ 
.
ÕÕ 
Message
ÕÕ 
=
ÕÕ  !
$str
ÕÕ" @
+
ÕÕA B

saveResult
ÕÕC M
;
ÕÕM N
return
ŒŒ 

BadRequest
ŒŒ !
(
ŒŒ! "
message
ŒŒ" )
)
ŒŒ) *
;
ŒŒ* +
}
œœ 
}
–– 	
[
”” 	
HttpPost
””	 
(
”” 
$str
”” 
)
””  
]
””  !
public
‘‘ 
async
‘‘ 
Task
‘‘ 
<
‘‘ 
IActionResult
‘‘ '
>
‘‘' (
UploadFiles
‘‘) 4
(
‘‘4 5
)
‘‘5 6
{
’’ 	
var
÷÷ 
files
÷÷ 
=
÷÷ 
Request
÷÷ 
.
÷÷  
Form
÷÷  $
.
÷÷$ %
Files
÷÷% *
;
÷÷* +
long
◊◊ 
size
◊◊ 
=
◊◊ 
files
◊◊ 
.
◊◊ 
Sum
◊◊ !
(
◊◊! "
f
◊◊" #
=>
◊◊$ &
f
◊◊' (
.
◊◊( )
Length
◊◊) /
)
◊◊/ 0
;
◊◊0 1
string
€€ 

folderName
€€ 
=
€€ 
$str
€€  ,
;
€€, -
string
‹‹ 
webRootPath
‹‹ 
=
‹‹  !
_hostingEnvironment
‹‹! 4
.
‹‹4 5
WebRootPath
‹‹5 @
;
‹‹@ A
string
›› 
newPath
›› 
=
›› 
Path
›› !
.
››! "
Combine
››" )
(
››) *
webRootPath
››* 5
,
››5 6

folderName
››7 A
)
››A B
;
››B C
if
ﬁﬁ 
(
ﬁﬁ 
!
ﬁﬁ 
	Directory
ﬁﬁ 
.
ﬁﬁ 
Exists
ﬁﬁ !
(
ﬁﬁ! "
newPath
ﬁﬁ" )
)
ﬁﬁ) *
)
ﬁﬁ* +
{
ﬂﬂ 
	Directory
‡‡ 
.
‡‡ 
CreateDirectory
‡‡ )
(
‡‡) *
newPath
‡‡* 1
)
‡‡1 2
;
‡‡2 3
}
·· 
foreach
„„ 
(
„„ 
var
„„ 
formFile
„„ !
in
„„" $
files
„„% *
)
„„* +
{
‰‰ 
if
ÊÊ 
(
ÊÊ 
formFile
ÊÊ 
.
ÊÊ 
Length
ÊÊ #
>
ÊÊ$ %
$num
ÊÊ& '
)
ÊÊ' (
{
ÁÁ 
using
ËË 
(
ËË 
var
ËË 
stream
ËË %
=
ËË& '
new
ËË( +

FileStream
ËË, 6
(
ËË6 7
newPath
ËË7 >
+
ËË? @
$str
ËËA E
+
ËËF G
formFile
ËËH P
.
ËËP Q
FileName
ËËQ Y
,
ËËY Z
FileMode
ËË[ c
.
ËËc d
Create
ËËd j
)
ËËj k
)
ËËk l
{
ÈÈ 
await
ÍÍ 
formFile
ÍÍ &
.
ÍÍ& '
CopyToAsync
ÍÍ' 2
(
ÍÍ2 3
stream
ÍÍ3 9
)
ÍÍ9 :
;
ÍÍ: ;
}
ÎÎ 
}
ÏÏ 
}
ÌÌ 
return
ÚÚ 
Ok
ÚÚ 
(
ÚÚ 
new
ÚÚ 
{
ÚÚ 
count
ÚÚ !
=
ÚÚ" #
files
ÚÚ$ )
.
ÚÚ) *
Count
ÚÚ* /
,
ÚÚ/ 0
size
ÚÚ1 5
,
ÚÚ5 6
newPath
ÚÚ7 >
}
ÚÚ? @
)
ÚÚ@ A
;
ÚÚA B
}
ÛÛ 	
}
ÙÙ 
}ıı ∏ä
=D:\web_angular\moduleAuth\Controllers\StatisticsController.cs
	namespace 	
angular6DotnetCore
 
. 
Controllers (
{ 
[ 
Route 

(
 
$str 
) 
] 
public 

class  
StatisticsController %
:& '

Controller( 2
{ 
private 
readonly 
SignInManager &
<& '
IdentityUser' 3
>3 4
_signInManager5 C
;C D
private 
readonly 
ILogger  
<  !

LoginModel! +
>+ ,
_logger- 4
;4 5
private 
readonly 
UserManager $
<$ %
IdentityUser% 1
>1 2
_userManager3 ?
;? @
private 
readonly 
IEmailSender %
_emailSender& 2
;2 3
private 
readonly 
UserDbContext &
_context' /
;/ 0
private 
IHostingEnvironment #
_hostingEnvironment$ 7
;7 8
public  
StatisticsController #
(# $
SignInManager 
< 
IdentityUser &
>& '
signInManager( 5
,5 6
UserManager 
< 
IdentityUser $
>$ %
userManager& 1
,1 2
ILogger 
< 

LoginModel 
> 
logger  &
,& '
IEmailSender   
emailSender   $
,  $ %
UserDbContext!! 
context!! !
,!!! "
IHostingEnvironment"" 
hostingEnvironment""  2
)""2 3
{## 	
_context$$ 
=$$ 
context$$ 
;$$ 
_signInManager%% 
=%% 
signInManager%% *
;%%* +
_userManager&& 
=&& 
userManager&& &
;&&& '
_logger'' 
='' 
logger'' 
;'' 
_emailSender(( 
=(( 
emailSender(( &
;((& '
_hostingEnvironment)) 
=))  !
hostingEnvironment))" 4
;))4 5
Console** 
.** 
	WriteLine** 
(** 
$str** 1
)**1 2
;**2 3
}++ 	
public,, 
async,, 
Task,, 
<,, 
bool,, 
>,, 
CrawlerExcute,,  -
(,,- .
),,. /
{-- 	
Console.. 
... 
	WriteLine.. 
(.. 
$str.. 5
)..5 6
;..6 7

InfoPeople// 

infoPeople// !
=//" #
new//$ '

InfoPeople//( 2
(//2 3
)//3 4
;//4 5
return00 
await00 

infoPeople00 #
.00# $
	CrawlFull00$ -
(00- .
_context00. 6
)006 7
;007 8
}11 	
public33 
async33 
Task33 
<33 
IActionResult33 '
>33' (
SaveUpdatedSocial33) :
(33: ;
[33; <
FromBody33< D
]33D E
PeopleSocials33F S
social33T Z
)33Z [
{44 	
var55 

isSignedIn55 
=55 
_signInManager55 +
.55+ ,

IsSignedIn55, 6
(556 7
User557 ;
)55; <
;55< =
var66 
message66 
=66 
new66 
MessageModel66 *
(66* +
)66+ ,
;66, -
message77 
.77 

IsSignedIn77 
=77  

isSignedIn77! +
;77+ ,
if88 
(88 

isSignedIn88 
)88 
{99 
_context:: 
.:: 
Entry:: 
(:: 
social:: %
)::% &
.::& '
State::' ,
=::- .
EntityState::/ :
.::: ;
Modified::; C
;::C D
await;; 
_context;; 
.;; 
SaveChangesAsync;; /
(;;/ 0
);;0 1
;;;1 2
message<< 
.<< 
Message<< 
=<<  !
$str<<" ,
;<<, -
return== 
Ok== 
(== 
message== !
)==! "
;==" #
}>> 
else?? 
{@@ 
messageAA 
.AA 
MessageAA 
+=AA  "
$strAA# K
;AAK L
returnBB 

BadRequestBB !
(BB! "
messageBB" )
)BB) *
;BB* +
}CC 
}DD 	
[EE 	
HttpGetEE	 
(EE 
$strEE !
)EE! "
]EE" #
publicFF 
asyncFF 
TaskFF 
<FF 
IActionResultFF '
>FF' (
GetFullSocialsFF) 7
(FF7 8
)FF8 9
{GG 	
varHH 

isSignedInHH 
=HH 
_signInManagerHH +
.HH+ ,

IsSignedInHH, 6
(HH6 7
UserHH7 ;
)HH; <
;HH< =
varII 
messageII 
=II 
newII 
MessageModelII *
(II* +
)II+ ,
;II, -
messageJJ 
.JJ 

IsSignedInJJ 
=JJ  

isSignedInJJ! +
;JJ+ ,
returnKK 
OkKK 
(KK 
awaitKK 
_contextKK $
.KK$ %
SocialsKK% ,
.KK, -
AsNoTrackingKK- 9
(KK9 :
)KK: ;
.KK; <
SelectKK< B
(KKB C
mKKC D
=>KKE G
newKKH K
SocialKKL R
{LL 
IdMM 
=MM 
mMM 
.MM 
IdMM 
,MM 
IndexNN 
=NN 
mNN 
.NN 
IndexNN 
,NN  
NameOO 
=OO 
mOO 
.OO 
NameOO 
,OO 
UpdatedDatePP 
=PP 
mPP 
.PP  
UpdatedDatePP  +
,PP+ ,
CreatedDateQQ 
=QQ 
mQQ 
.QQ  
CreatedDateQQ  +
,QQ+ ,
EnabledRR 
=RR 
mRR 
.RR 
EnabledRR #
}SS 
)SS 
.SS 
OrderBySS 
(SS 
mSS 
=>SS 
mSS 
.SS 
IndexSS #
)SS# $
.SS$ %
ToListAsyncSS% 0
(SS0 1
)SS1 2
)SS2 3
;SS3 4
}TT 	
[VV 	
HttpGetVV	 
(VV 
$strVV 
)VV 
]VV 
publicWW 
asyncWW 
TaskWW 
<WW 
IActionResultWW '
>WW' (

GetSocialsWW) 3
(WW3 4
)WW4 5
{XX 	
varYY 

isSignedInYY 
=YY 
_signInManagerYY +
.YY+ ,

IsSignedInYY, 6
(YY6 7
UserYY7 ;
)YY; <
;YY< =
varZZ 
messageZZ 
=ZZ 
newZZ 
MessageModelZZ *
(ZZ* +
)ZZ+ ,
;ZZ, -
message[[ 
.[[ 

IsSignedIn[[ 
=[[  

isSignedIn[[! +
;[[+ ,
return\\ 
Ok\\ 
(\\ 
await\\ 
_context\\ $
.\\$ %
Socials\\% ,
.\\, -
AsNoTracking\\- 9
(\\9 :
)\\: ;
.\\; <
OrderBy\\< C
(\\C D
m\\D E
=>\\F H
m\\I J
.\\J K
Index\\K P
)\\P Q
.\\Q R
Select\\R X
(\\X Y
m\\Y Z
=>\\[ ]
new\\^ a
{]] 
m^^ 
.^^ 
Id^^ 
,^^ 
m__ 
.__ 
Name__ 
}`` 
)`` 
.`` 
ToListAsync`` 
(`` 
)`` 
)`` 
;`` 
}aa 	
[bb 	
HttpGetbb	 
(bb 
$strbb (
)bb( )
]bb) *
publiccc 
asynccc 
Taskcc 
<cc 
IActionResultcc '
>cc' ("
GetSocialsWidthPeoplescc) ?
(cc? @
)cc@ A
{dd 	
varee 

isSignedInee 
=ee 
_signInManageree +
.ee+ ,

IsSignedInee, 6
(ee6 7
Useree7 ;
)ee; <
;ee< =
varff 
messageff 
=ff 
newff 
MessageModelff *
{gg 

IsSignedInhh 
=hh 

isSignedInhh '
}ii 
;ii 
Listjj 
<jj 
PeopleSocialsTotaljj #
>jj# $
peopleSocialsjj% 2
=jj3 4
awaitjj5 :
_contextjj; C
.jjC D
PeopleSocialsjjD Q
.jjQ R
AsNoTrackingjjR ^
(jj^ _
)jj_ `
.jj` a
Selectjja g
(jjg h
mkk 
=>kk 
newkk 
PeopleSocialsTotalkk +
{ll 
Idmm 
=mm 
mmm 
.mm 
Idmm 
,mm 
PeopleIdnn 
=nn 
mnn  
.nn  !
PeopleIdnn! )
,nn) *
SocialIdoo 
=oo 
moo  
.oo  !
SocialIdoo! )
,oo) *
Sharepp 
=pp 
mpp 
.pp 
Sharepp #
,pp# $
Viewqq 
=qq 
mqq 
.qq 
Viewqq !
,qq! "
Likerr 
=rr 
mrr 
.rr 
Likerr !
,rr! "
Followss 
=ss 
mss 
.ss 
Followss %
,ss% &
Totaltt 
=tt 
mtt 
.tt 
Likett "
??tt# %
$numtt& '
+tt( )
mtt* +
.tt+ ,
Sharett, 1
??tt2 4
$numtt5 6
+tt7 8
mtt9 :
.tt: ;
Viewtt; ?
??tt@ B
$numttC D
+ttE F
mttG H
.ttH I
FollowttI O
??ttP R
$numttS T
}uu 
)uu 
.uu 
OrderByDescendinguu $
(uu$ %
muu% &
=>uu' )
muu* +
.uu+ ,
Totaluu, 1
)uu1 2
.uu2 3
ToListAsyncuu3 >
(uu> ?
)uu? @
;uu@ A
Listvv 
<vv 
Careervv 
>vv 
careersvv  
=vv! "
awaitvv# (
_contextvv) 1
.vv1 2
Careersvv2 9
.vv9 :
OrderByvv: A
(vvA B
mvvB C
=>vvD F
mvvG H
.vvH I
IndexvvI N
)vvN O
.vvO P
AsNoTrackingvvP \
(vv\ ]
)vv] ^
.vv^ _
Selectvv_ e
(vve f
mvvf g
=>vvh j
newvvk n
Careervvo u
{ww 
Idxx 
=xx 
mxx 
.xx 
Idxx 
,xx 
Nameyy 
=yy 
myy 
.yy 
Nameyy 
,yy 
Indexzz 
=zz 
mzz 
.zz 
Indexzz 
}{{ 
){{ 
.{{ 
ToListAsync{{ 
({{ 
){{ 
;{{ 
var|| 
socials|| 
=|| 
await|| 
_context||  (
.||( )
Socials||) 0
.||0 1
OrderBy||1 8
(||8 9
m||9 :
=>||; =
m||> ?
.||? @
Index||@ E
)||E F
.||F G
AsNoTracking||G S
(||S T
)||T U
.||U V
Select||V \
(||\ ]
m||] ^
=>||_ a
new||b e
Social||f l
{}} 
Id~~ 
=~~ 
m~~ 
.~~ 
Id~~ 
,~~ 
Name 
= 
m 
. 
Name 
, 
Index
ÄÄ 
=
ÄÄ 
m
ÄÄ 
.
ÄÄ 
Index
ÄÄ 
}
ÅÅ 
)
ÅÅ 
.
ÅÅ 
ToListAsync
ÅÅ 
(
ÅÅ 
)
ÅÅ 
;
ÅÅ 
var
ÇÇ 
peoples
ÇÇ 
=
ÇÇ 
await
ÇÇ 
_context
ÇÇ  (
.
ÇÇ( )
Peoples
ÇÇ) 0
.
ÇÇ0 1
Select
ÇÇ1 7
(
ÇÇ7 8
m
ÇÇ8 9
=>
ÇÇ: <
new
ÇÇ= @
People
ÇÇA G
{
ÉÉ 
Id
ÑÑ 
=
ÑÑ 
m
ÑÑ 
.
ÑÑ 
Id
ÑÑ 
,
ÑÑ 
Index
ÖÖ 
=
ÖÖ 
m
ÖÖ 
.
ÖÖ 
Index
ÖÖ 
,
ÖÖ  
FullName
ÜÜ 
=
ÜÜ 
m
ÜÜ 
.
ÜÜ 
FullName
ÜÜ %
,
ÜÜ% &
	ShortName
áá 
=
áá 
m
áá 
.
áá 
	ShortName
áá '
,
áá' (
Avatar
àà 
=
àà 
m
àà 
.
àà 
Avatar
àà !
,
àà! "
	ImagesUrl
ââ 
=
ââ 
m
ââ 
.
ââ 
	ImagesUrl
ââ '
,
ââ' (
Url
ää 
=
ää 
m
ää 
.
ää 
Url
ää 
,
ää 
Message
ãã 
=
ãã 
m
ãã 
.
ãã 
Message
ãã #
,
ãã# $
CountryCode
åå 
=
åå 
m
åå 
.
åå  
CountryCode
åå  +
,
åå+ ,
CareerId
çç 
=
çç 
m
çç 
.
çç 
CareerId
çç %
}
éé 
)
éé 
.
éé 
OrderBy
éé 
(
éé 
m
éé 
=>
éé 
m
éé 
.
éé 
CountryCode
éé )
)
éé) *
.
éé* +
ThenBy
éé+ 1
(
éé1 2
m
éé2 3
=>
éé4 6
m
éé7 8
.
éé8 9
CareerId
éé9 A
)
ééA B
.
ééB C
ToListAsync
ééC N
(
ééN O
)
ééO P
;
ééP Q
return
èè 
Ok
èè 
(
èè 
socials
èè 
.
èè 
Select
èè $
(
èè$ %
m
èè% &
=>
èè' )
new
èè* -
{
êê 
m
ëë 
.
ëë 
Id
ëë 
,
ëë 
m
íí 
.
íí 
Name
íí 
,
íí 
m
ìì 
.
ìì 
Index
ìì 
,
ìì 
careers
îî 
=
îî !
GetPeopleBySocialId
îî -
(
îî- .
m
îî. /
.
îî/ 0
Id
îî0 2
,
îî2 3
careers
îî4 ;
,
îî; <
peopleSocials
îî= J
,
îîJ K
peoples
îîL S
)
îîS T
}
ïï 
)
ïï 
.
ïï 
ToList
ïï 
(
ïï 
)
ïï 
)
ïï 
;
ïï 
}
ññ 	
[
óó 	
HttpGet
óó	 
(
óó 
$str
óó 
)
óó 
]
óó 
public
òò 
async
òò 
Task
òò 
<
òò 
IActionResult
òò '
>
òò' (

GetCareers
òò) 3
(
òò3 4
)
òò4 5
{
ôô 	
var
öö 

isSignedIn
öö 
=
öö 
_signInManager
öö +
.
öö+ ,

IsSignedIn
öö, 6
(
öö6 7
User
öö7 ;
)
öö; <
;
öö< =
var
õõ 
message
õõ 
=
õõ 
new
õõ 
MessageModel
õõ *
(
õõ* +
)
õõ+ ,
;
õõ, -
message
úú 
.
úú 

IsSignedIn
úú 
=
úú  

isSignedIn
úú! +
;
úú+ ,
if
ùù 
(
ùù 

isSignedIn
ùù 
)
ùù 
{
ûû 
return
üü 
Ok
üü 
(
üü 
await
üü 
_context
üü  (
.
üü( )
Careers
üü) 0
.
üü0 1
AsNoTracking
üü1 =
(
üü= >
)
üü> ?
.
üü? @
OrderBy
üü@ G
(
üüG H
m
üüH I
=>
üüJ L
m
üüM N
.
üüN O
Index
üüO T
)
üüT U
.
üüU V
ToListAsync
üüV a
(
üüa b
)
üüb c
)
üüc d
;
üüd e
}
†† 
else
°° 
{
¢¢ 
message
££ 
.
££ 
Message
££ 
+=
££  "
$str
££# K
;
££K L
return
§§ 

BadRequest
§§ !
(
§§! "
message
§§" )
)
§§) *
;
§§* +
}
•• 
}
¶¶ 	
[
¨¨ 	
HttpGet
¨¨	 
(
¨¨ 
$str
¨¨ 
)
¨¨ 
]
¨¨ 
public
≠≠ 
async
≠≠ 
Task
≠≠ 
<
≠≠ 
IActionResult
≠≠ '
>
≠≠' (

GetPeoples
≠≠) 3
(
≠≠3 4
[
≠≠4 5
	FromQuery
≠≠5 >
]
≠≠> ?
int
≠≠@ C
socialId
≠≠D L
)
≠≠L M
{
ÆÆ 	
var
ØØ 

isSignedIn
ØØ 
=
ØØ 
_signInManager
ØØ +
.
ØØ+ ,

IsSignedIn
ØØ, 6
(
ØØ6 7
User
ØØ7 ;
)
ØØ; <
;
ØØ< =
var
∞∞ 
careers
∞∞ 
=
∞∞ 
await
∞∞ 
_context
∞∞  (
.
∞∞( )
Careers
∞∞) 0
.
∞∞0 1
AsNoTracking
∞∞1 =
(
∞∞= >
)
∞∞> ?
.
∞∞? @
OrderBy
∞∞@ G
(
∞∞G H
m
∞∞H I
=>
∞∞J L
m
∞∞M N
.
∞∞N O
Index
∞∞O T
)
∞∞T U
.
∞∞U V
Select
∞∞V \
(
∞∞\ ]
m
±± 
=>
±± 
new
±± 
Career
±± 
{
≤≤ 
Id
≥≥ 
=
≥≥ 
m
≥≥ 
.
≥≥ 
Id
≥≥ 
,
≥≥ 
Index
¥¥ 
=
¥¥ 
m
¥¥ 
.
¥¥ 
Index
¥¥ #
,
¥¥# $
Name
µµ 
=
µµ 
m
µµ 
.
µµ 
Name
µµ !
}
∂∂ 
)
∑∑ 
.
∑∑ 
ToListAsync
∑∑ 
(
∑∑ 
)
∑∑ 
;
∑∑  
List
∏∏ 
<
∏∏  
PeopleSocialsTotal
∏∏ #
>
∏∏# $
peopleSocials
∏∏% 2
=
∏∏3 4
await
∏∏5 :
_context
∏∏; C
.
∏∏C D
PeopleSocials
∏∏D Q
.
∏∏Q R
AsNoTracking
∏∏R ^
(
∏∏^ _
)
∏∏_ `
.
∏∏` a
Select
∏∏a g
(
∏∏g h
m
ππ 
=>
ππ 
new
ππ  
PeopleSocialsTotal
ππ +
{
∫∫ 
Id
ªª 
=
ªª 
m
ªª 
.
ªª 
Id
ªª 
,
ªª 
PeopleId
ºº 
=
ºº 
m
ºº  
.
ºº  !
PeopleId
ºº! )
,
ºº) *
SocialId
ΩΩ 
=
ΩΩ 
m
ΩΩ  
.
ΩΩ  !
SocialId
ΩΩ! )
,
ΩΩ) *
Share
ææ 
=
ææ 
m
ææ 
.
ææ 
Share
ææ #
,
ææ# $
View
øø 
=
øø 
m
øø 
.
øø 
View
øø !
,
øø! "
Like
¿¿ 
=
¿¿ 
m
¿¿ 
.
¿¿ 
Like
¿¿ !
,
¿¿! "
Follow
¡¡ 
=
¡¡ 
m
¡¡ 
.
¡¡ 
Follow
¡¡ %
,
¡¡% &
Total
¬¬ 
=
¬¬ 
m
¬¬ 
.
¬¬ 
Like
¬¬ "
??
¬¬# %
$num
¬¬& '
+
¬¬( )
m
¬¬* +
.
¬¬+ ,
Share
¬¬, 1
??
¬¬2 4
$num
¬¬5 6
+
¬¬7 8
m
¬¬9 :
.
¬¬: ;
View
¬¬; ?
??
¬¬@ B
$num
¬¬C D
+
¬¬E F
m
¬¬G H
.
¬¬H I
Follow
¬¬I O
??
¬¬P R
$num
¬¬S T
}
√√ 
)
√√ 
.
√√ 
OrderByDescending
√√ $
(
√√$ %
m
√√% &
=>
√√' )
m
√√* +
.
√√+ ,
Total
√√, 1
)
√√1 2
.
√√2 3
ToListAsync
√√3 >
(
√√> ?
)
√√? @
;
√√@ A
var
ƒƒ 
peoples
ƒƒ 
=
ƒƒ 
await
ƒƒ 
_context
ƒƒ  (
.
ƒƒ( )
Peoples
ƒƒ) 0
.
ƒƒ0 1
AsNoTracking
ƒƒ1 =
(
ƒƒ= >
)
ƒƒ> ?
.
ƒƒ? @
Select
ƒƒ@ F
(
ƒƒF G
m
ƒƒG H
=>
ƒƒI K
new
ƒƒL O
People
ƒƒP V
{
≈≈ 
Id
∆∆ 
=
∆∆ 
m
∆∆ 
.
∆∆ 
Id
∆∆ 
,
∆∆ 
Index
«« 
=
«« 
m
«« 
.
«« 
Index
«« 
,
««  
FullName
»» 
=
»» 
m
»» 
.
»» 
FullName
»» %
,
»»% &
	ShortName
…… 
=
…… 
m
…… 
.
…… 
	ShortName
…… '
,
……' (
Avatar
   
=
   
m
   
.
   
Avatar
   !
,
  ! "
	ImagesUrl
ÀÀ 
=
ÀÀ 
m
ÀÀ 
.
ÀÀ 
	ImagesUrl
ÀÀ '
,
ÀÀ' (
Url
ÃÃ 
=
ÃÃ 
m
ÃÃ 
.
ÃÃ 
Url
ÃÃ 
,
ÃÃ 
Message
ÕÕ 
=
ÕÕ 
m
ÕÕ 
.
ÕÕ 
Message
ÕÕ #
,
ÕÕ# $
CountryCode
ŒŒ 
=
ŒŒ 
m
ŒŒ 
.
ŒŒ  
CountryCode
ŒŒ  +
,
ŒŒ+ ,
CareerId
œœ 
=
œœ 
m
œœ 
.
œœ 
CareerId
œœ %
}
–– 
)
–– 
.
–– 
ToListAsync
–– 
(
–– 
)
–– 
;
–– 
var
—— 
message
—— 
=
—— 
new
—— 
MessageModel
—— *
{
““ 

IsSignedIn
”” 
=
”” 

isSignedIn
”” '
,
””' (
Results
‘‘ 
=
‘‘ 
GetFullPeople
‘‘ '
(
‘‘' (
careers
‘‘( /
,
‘‘/ 0
peopleSocials
‘‘1 >
,
‘‘> ?
peoples
‘‘@ G
)
‘‘G H
}
’’ 
;
’’ 
return
÷÷ 
Ok
÷÷ 
(
÷÷ 
message
÷÷ 
)
÷÷ 
;
÷÷ 
}
◊◊ 	
public
ŸŸ 
List
ŸŸ 
<
ŸŸ 
object
ŸŸ 
>
ŸŸ 
GetFullPeople
ŸŸ )
(
ŸŸ) *
List
ŸŸ* .
<
ŸŸ. /
Career
ŸŸ/ 5
>
ŸŸ5 6
careers
ŸŸ7 >
,
ŸŸ> ?
List
ŸŸ@ D
<
ŸŸD E 
PeopleSocialsTotal
ŸŸE W
>
ŸŸW X
peopleSocials
ŸŸY f
,
ŸŸf g
List
ŸŸh l
<
ŸŸl m
People
ŸŸm s
>
ŸŸs t
peoples
ŸŸu |
)
ŸŸ| }
{
⁄⁄ 	
List
€€ 
<
€€ 
object
€€ 
>
€€ 
listData
€€ !
=
€€" #
new
€€$ '
List
€€( ,
<
€€, -
object
€€- 3
>
€€3 4
(
€€4 5
)
€€5 6
;
€€6 7
List
‹‹ 
<
‹‹  
PeopleSocialsTotal
‹‹ #
>
‹‹# $ 
peopleSocialsTotal
‹‹% 7
=
‹‹8 9
peopleSocials
‹‹: G
.
‹‹G H
ToList
‹‹H N
(
‹‹N O
)
‹‹O P
;
‹‹P Q
careers
›› 
.
›› 
ForEach
›› 
(
›› 
e
›› 
=>
››  
{
ﬁﬁ 
object
ﬂﬂ 
career
ﬂﬂ 
=
ﬂﬂ 
new
ﬂﬂ  #
object
ﬂﬂ$ *
(
ﬂﬂ* +
)
ﬂﬂ+ ,
;
ﬂﬂ, -
var
‡‡ 
resultPeoples
‡‡ !
=
‡‡" #
peoples
‡‡$ +
.
‡‡+ ,
Where
‡‡, 1
(
‡‡1 2
m
‡‡2 3
=>
‡‡4 6
m
‡‡7 8
.
‡‡8 9
CareerId
‡‡9 A
==
‡‡B D
e
‡‡E F
.
‡‡F G
Id
‡‡G I
)
‡‡I J
.
‡‡J K
Select
‡‡K Q
(
‡‡Q R
m
‡‡R S
=>
‡‡T V
new
‡‡W Z
{
·· 
m
‚‚ 
.
‚‚ 
Id
‚‚ 
,
‚‚ 
m
„„ 
.
„„ 
Index
„„ 
,
„„ 
m
‰‰ 
.
‰‰ 
Avatar
‰‰ 
,
‰‰ 
m
ÂÂ 
.
ÂÂ 
FullName
ÂÂ 
,
ÂÂ 
m
ÊÊ 
.
ÊÊ 
	ShortName
ÊÊ 
,
ÊÊ  
m
ÁÁ 
.
ÁÁ 
	ImagesUrl
ÁÁ 
,
ÁÁ  
m
ËË 
.
ËË 
Url
ËË 
,
ËË 
socials
ÈÈ 
=
ÈÈ  
peopleSocialsTotal
ÈÈ 0
.
ÈÈ0 1
Where
ÈÈ1 6
(
ÈÈ6 7
x
ÈÈ7 8
=>
ÈÈ9 ;
x
ÈÈ< =
.
ÈÈ= >
PeopleId
ÈÈ> F
==
ÈÈG I
m
ÈÈJ K
.
ÈÈK L
Id
ÈÈL N
)
ÈÈN O
.
ÈÈO P
Select
ÈÈP V
(
ÈÈV W
n
ÈÈW X
=>
ÈÈY [
new
ÈÈ\ _
{
ÍÍ 
n
ÎÎ 
.
ÎÎ 
Id
ÎÎ 
,
ÎÎ 
n
ÏÏ 
.
ÏÏ 
SocialId
ÏÏ "
,
ÏÏ" #
n
ÌÌ 
.
ÌÌ 
PeopleId
ÌÌ "
,
ÌÌ" #
n
ÓÓ 
.
ÓÓ 
Like
ÓÓ 
,
ÓÓ 
n
ÔÔ 
.
ÔÔ 
Share
ÔÔ 
,
ÔÔ  
n
 
.
 
Follow
  
,
  !
n
ÒÒ 
.
ÒÒ 
View
ÒÒ 
,
ÒÒ 
n
ÚÚ 
.
ÚÚ 
Total
ÚÚ 
}
ÛÛ 
)
ÛÛ 
.
ÛÛ 
OrderByDescending
ÛÛ (
(
ÛÛ( )
t
ÛÛ) *
=>
ÛÛ+ -
t
ÛÛ. /
.
ÛÛ/ 0
Total
ÛÛ0 5
)
ÛÛ5 6
}
ÙÙ 
)
ÙÙ 
.
ÙÙ 
ToList
ÙÙ 
(
ÙÙ 
)
ÙÙ 
;
ÙÙ 
career
¸¸ 
=
¸¸ 
new
¸¸ 
{
˝˝ 
id
˛˛ 
=
˛˛ 
e
˛˛ 
.
˛˛ 
Id
˛˛ 
,
˛˛ 
name
ˇˇ 
=
ˇˇ 
e
ˇˇ 
.
ˇˇ 
Name
ˇˇ !
,
ˇˇ! "
peoples
ÄÄ 
=
ÄÄ 
resultPeoples
ÄÄ +
}
ÅÅ 
;
ÅÅ 
listData
ÉÉ 
.
ÉÉ 
Add
ÉÉ 
(
ÉÉ 
career
ÉÉ #
)
ÉÉ# $
;
ÉÉ$ %
}
ÑÑ 
)
ÑÑ 
;
ÑÑ 
return
ÖÖ 
listData
ÖÖ 
;
ÖÖ 
}
ÜÜ 	
public
àà 
List
àà 
<
àà 
object
àà 
>
àà !
GetPeopleBySocialId
àà /
(
àà/ 0
int
àà0 3
socialId
àà4 <
,
àà< =
List
àà> B
<
ààB C
Career
ààC I
>
ààI J
careers
ààK R
,
ààR S
List
ààT X
<
ààX Y 
PeopleSocialsTotal
ààY k
>
ààk l
peopleSocials
ààm z
,
ààz {
Listàà| Ä
<ààÄ Å
PeopleààÅ á
>ààá à
peoplesààâ ê
)ààê ë
{
ââ 	
List
ää 
<
ää 
object
ää 
>
ää 
listData
ää !
=
ää" #
new
ää$ '
List
ää( ,
<
ää, -
object
ää- 3
>
ää3 4
(
ää4 5
)
ää5 6
;
ää6 7
List
ãã 
<
ãã  
PeopleSocialsTotal
ãã #
>
ãã# $ 
peopleSocialsTotal
ãã% 7
=
ãã8 9
peopleSocials
ãã: G
.
ããG H
Where
ããH M
(
ããM N
m
ããN O
=>
ããP R
m
ããS T
.
ããT U
SocialId
ããU ]
==
ãã^ `
socialId
ããa i
)
ããi j
.
ããj k
ToList
ããk q
(
ããq r
)
ããr s
;
ããs t
careers
åå 
.
åå 
ForEach
åå 
(
åå 
e
åå 
=>
åå  
{
çç 
object
éé 
career
éé 
=
éé 
new
éé  #
object
éé$ *
(
éé* +
)
éé+ ,
;
éé, -
var
èè 
resultPeoples
èè !
=
èè" #
peoples
èè$ +
.
èè+ ,
Where
èè, 1
(
èè1 2
m
èè2 3
=>
èè4 6
m
èè7 8
.
èè8 9
CareerId
èè9 A
==
èèB D
e
èèE F
.
èèF G
Id
èèG I
)
èèI J
.
èèJ K
Select
èèK Q
(
èèQ R
m
èèR S
=>
èèT V
new
èèW Z
{
êê 
m
ëë 
.
ëë 
Id
ëë 
,
ëë 
m
íí 
.
íí 
Index
íí 
,
íí 
m
ìì 
.
ìì 
Avatar
ìì 
,
ìì 
m
îî 
.
îî 
FullName
îî 
,
îî 
m
ïï 
.
ïï 
	ShortName
ïï 
,
ïï  
m
ññ 
.
ññ 
	ImagesUrl
ññ 
,
ññ  
m
óó 
.
óó 
Url
óó 
,
óó 
socials
òò 
=
òò  
peopleSocialsTotal
òò 0
.
òò0 1
Where
òò1 6
(
òò6 7
x
òò7 8
=>
òò9 ;
x
òò< =
.
òò= >
PeopleId
òò> F
==
òòG I
m
òòJ K
.
òòK L
Id
òòL N
)
òòN O
.
òòO P
Select
òòP V
(
òòV W
n
òòW X
=>
òòY [
new
òò\ _
{
ôô 
n
öö 
.
öö 
Id
öö 
,
öö 
n
õõ 
.
õõ 
SocialId
õõ "
,
õõ" #
n
úú 
.
úú 
PeopleId
úú "
,
úú" #
n
ùù 
.
ùù 
Like
ùù 
,
ùù 
n
ûû 
.
ûû 
Share
ûû 
,
ûû  
n
üü 
.
üü 
Follow
üü  
,
üü  !
n
†† 
.
†† 
View
†† 
,
†† 
n
°° 
.
°° 
Total
°° 
}
¢¢ 
)
¢¢ 
.
¢¢ 
OrderByDescending
¢¢ (
(
¢¢( )
t
¢¢) *
=>
¢¢+ -
t
¢¢. /
.
¢¢/ 0
Total
¢¢0 5
)
¢¢5 6
}
££ 
)
££ 
.
££ 
ToList
££ 
(
££ 
)
££ 
;
££ 
career
•• 
=
•• 
new
•• 
{
¶¶ 
id
ßß 
=
ßß 
e
ßß 
.
ßß 
Id
ßß 
,
ßß 
name
®® 
=
®® 
e
®® 
.
®® 
Name
®® !
,
®®! "
peoples
©© 
=
©© 
resultPeoples
©© +
.
©©+ ,
Where
©©, 1
(
©©1 2
m
©©2 3
=>
©©4 6
m
©©7 8
.
©©8 9
socials
©©9 @
.
©©@ A
Count
©©A F
(
©©F G
)
©©G H
>
©©I J
$num
©©K L
)
©©L M
}
™™ 
;
™™ 
if
¨¨ 
(
¨¨ 
resultPeoples
¨¨ !
!=
¨¨" $
null
¨¨% )
&&
¨¨* ,
resultPeoples
¨¨- :
.
¨¨: ;
Count
¨¨; @
>
¨¨A B
$num
¨¨C D
)
¨¨D E
{
≠≠ 
listData
ÆÆ 
.
ÆÆ 
Add
ÆÆ  
(
ÆÆ  !
career
ÆÆ! '
)
ÆÆ' (
;
ÆÆ( )
}
ØØ 
}
∞∞ 
)
∞∞ 
;
∞∞ 
return
±± 
listData
±± 
;
±± 
}
≤≤ 	
public
¥¥ 
long
¥¥ 
setTotal
¥¥ 
(
¥¥ 
PeopleSocials
¥¥ *
n
¥¥+ ,
)
¥¥, -
{
µµ 	
long
∂∂ 
like
∂∂ 
=
∂∂ 
n
∂∂ 
.
∂∂ 
Like
∂∂ 
??
∂∂ !
$num
∂∂" #
;
∂∂# $
long
∑∑ 
follow
∑∑ 
=
∑∑ 
n
∑∑ 
.
∑∑ 
Follow
∑∑ "
??
∑∑# %
$num
∑∑& '
;
∑∑' (
long
∏∏ 
view
∏∏ 
=
∏∏ 
n
∏∏ 
.
∏∏ 
View
∏∏ 
??
∏∏ !
$num
∏∏" #
;
∏∏# $
long
ππ 
share
ππ 
=
ππ 
n
ππ 
.
ππ 
Share
ππ  
??
ππ! #
$num
ππ$ %
;
ππ% &
return
∫∫ 
like
∫∫ 
+
∫∫ 
share
∫∫ 
+
∫∫  !
follow
∫∫" (
+
∫∫) *
view
∫∫+ /
;
∫∫/ 0
}
ªª 	
[
ΩΩ 	
HttpGet
ΩΩ	 
(
ΩΩ 
$str
ΩΩ '
)
ΩΩ' (
]
ΩΩ( )
public
ææ 
async
ææ 
Task
ææ 
<
ææ 
IActionResult
ææ '
>
ææ' ("
GetSocialsByPeopleId
ææ) =
(
ææ= >
[
ææ> ?
	FromQuery
ææ? H
]
ææH I
int
ææJ M
peopleId
ææN V
)
ææV W
{
øø 	
var
¿¿ 

isSignedIn
¿¿ 
=
¿¿ 
_signInManager
¿¿ +
.
¿¿+ ,

IsSignedIn
¿¿, 6
(
¿¿6 7
User
¿¿7 ;
)
¿¿; <
;
¿¿< =
var
¡¡ 
message
¡¡ 
=
¡¡ 
new
¡¡ 
MessageModel
¡¡ *
{
¬¬ 

IsSignedIn
√√ 
=
√√ 

isSignedIn
√√ '
}
ƒƒ 
;
ƒƒ 
if
≈≈ 
(
≈≈ 

isSignedIn
≈≈ 
)
≈≈ 
{
∆∆ 
try
«« 
{
»» 
var
…… 
results
…… 
=
……  !
await
……" '
_context
……( 0
.
……0 1
PeopleSocials
……1 >
.
……> ?
AsNoTracking
……? K
(
……K L
)
……L M
.
……M N
Where
……N S
(
……S T
m
……T U
=>
……V X
m
……Y Z
.
……Z [
PeopleId
……[ c
==
……d f
peopleId
……g o
)
……o p
.
……p q
Select
……q w
(
……w x
n
……x y
=>
……z |
new……} Ä
{
   

socialName
ÀÀ "
=
ÀÀ# $
n
ÀÀ% &
.
ÀÀ& '
Social
ÀÀ' -
.
ÀÀ- .
Name
ÀÀ. 2
,
ÀÀ2 3
socialId
ÃÃ  
=
ÃÃ! "
n
ÃÃ# $
.
ÃÃ$ %
SocialId
ÃÃ% -
,
ÃÃ- .
share
ÕÕ 
=
ÕÕ 
n
ÕÕ  !
.
ÕÕ! "
Share
ÕÕ" '
,
ÕÕ' (
like
ŒŒ 
=
ŒŒ 
n
ŒŒ  
.
ŒŒ  !
Like
ŒŒ! %
,
ŒŒ% &
follow
œœ 
=
œœ  
n
œœ! "
.
œœ" #
Follow
œœ# )
,
œœ) *
index
–– 
=
–– 
n
––  !
.
––! "
Index
––" '
,
––' (
view
—— 
=
—— 
n
——  
.
——  !
View
——! %
,
——% &
url
““ 
=
““ 
n
““ 
.
““  
Url
““  #
,
““# $
id
”” 
=
”” 
n
”” 
.
”” 
Id
”” !
}
‘‘ 
)
‘‘ 
.
‘‘ 
ToListAsync
‘‘ "
(
‘‘" #
)
‘‘# $
;
‘‘$ %
return
’’ 
Ok
’’ 
(
’’ 
results
’’ %
)
’’% &
;
’’& '
}
÷÷ 
catch
◊◊ 
(
◊◊ 
	Exception
◊◊  
ex
◊◊! #
)
◊◊# $
{
ÿÿ 
message
ŸŸ 
.
ŸŸ 
Message
ŸŸ #
+=
ŸŸ$ &
$str
ŸŸ' *
+
ŸŸ+ ,
ex
ŸŸ- /
.
ŸŸ/ 0
Message
ŸŸ0 7
;
ŸŸ7 8
return
⁄⁄ 

BadRequest
⁄⁄ %
(
⁄⁄% &
message
⁄⁄& -
)
⁄⁄- .
;
⁄⁄. /
}
€€ 
}
‹‹ 
else
›› 
{
ﬁﬁ 
message
ﬂﬂ 
.
ﬂﬂ 
Message
ﬂﬂ 
+=
ﬂﬂ  "
$str
ﬂﬂ# K
;
ﬂﬂK L
return
‡‡ 

BadRequest
‡‡ !
(
‡‡! "
message
‡‡" )
)
‡‡) *
;
‡‡* +
}
·· 
}
‚‚ 	
[
‰‰ 	
HttpPost
‰‰	 
(
‰‰ 
$str
‰‰ '
)
‰‰' (
]
‰‰( )
public
ÂÂ 
async
ÂÂ 
Task
ÂÂ 
<
ÂÂ 
IActionResult
ÂÂ '
>
ÂÂ' (!
GetDataFromFacebook
ÂÂ) <
(
ÂÂ< =
[
ÂÂ= >
FromBody
ÂÂ> F
]
ÂÂF G
PeopleSocials
ÂÂH U
p
ÂÂV W
)
ÂÂW X
{
ÊÊ 	
var
ÁÁ 

isSignedIn
ÁÁ 
=
ÁÁ 
_signInManager
ÁÁ +
.
ÁÁ+ ,

IsSignedIn
ÁÁ, 6
(
ÁÁ6 7
User
ÁÁ7 ;
)
ÁÁ; <
;
ÁÁ< =
var
ËË 
message
ËË 
=
ËË 
new
ËË 
MessageModel
ËË *
{
ÈÈ 

IsSignedIn
ÍÍ 
=
ÍÍ 

isSignedIn
ÍÍ '
}
ÎÎ 
;
ÎÎ 

InfoPeople
ÏÏ 
info
ÏÏ 
=
ÏÏ 
new
ÏÏ !

InfoPeople
ÏÏ" ,
(
ÏÏ, -
)
ÏÏ- .
;
ÏÏ. /
if
ÌÌ 
(
ÌÌ 

isSignedIn
ÌÌ 
)
ÌÌ 
{
ÓÓ 
try
ÔÔ 
{
 
var
ÒÒ 
item
ÒÒ 
=
ÒÒ 
await
ÒÒ $
info
ÒÒ% )
.
ÒÒ) *

UpdateUser
ÒÒ* 4
(
ÒÒ4 5
_context
ÒÒ5 =
,
ÒÒ= >
p
ÒÒ? @
)
ÒÒ@ A
;
ÒÒA B
if
ÚÚ 
(
ÚÚ 
item
ÚÚ 
!=
ÚÚ 
null
ÚÚ  $
)
ÚÚ$ %
{
ÛÛ 
return
ÙÙ 
Ok
ÙÙ !
(
ÙÙ! "
new
ÙÙ" %
{
ıı 
like
ˆˆ  
=
ˆˆ! "
item
ˆˆ# '
.
ˆˆ' (
Like
ˆˆ( ,
,
ˆˆ, -
view
˜˜  
=
˜˜! "
item
˜˜# '
.
˜˜' (
View
˜˜( ,
,
˜˜, -
share
¯¯ !
=
¯¯" #
item
¯¯$ (
.
¯¯( )
Share
¯¯) .
,
¯¯. /
follow
˘˘ "
=
˘˘# $
item
˘˘% )
.
˘˘) *
Follow
˘˘* 0
}
˙˙ 
)
˙˙ 
;
˙˙ 
}
˚˚ 
message
¸¸ 
.
¸¸ 
	Succeeded
¸¸ %
=
¸¸& '
false
¸¸( -
;
¸¸- .
message
˝˝ 
.
˝˝ 
Message
˝˝ #
=
˝˝$ %
$str
˝˝& >
;
˝˝> ?
return
˛˛ 

BadRequest
˛˛ %
(
˛˛% &
message
˛˛& -
)
˛˛- .
;
˛˛. /
}
ˇˇ 
catch
ÄÄ 
(
ÄÄ 
	Exception
ÄÄ  
ex
ÄÄ! #
)
ÄÄ# $
{
ÅÅ 
message
ÇÇ 
.
ÇÇ 
Message
ÇÇ #
+=
ÇÇ$ &
ex
ÇÇ' )
.
ÇÇ) *
Message
ÇÇ* 1
;
ÇÇ1 2
return
ÉÉ 

BadRequest
ÉÉ %
(
ÉÉ% &
message
ÉÉ& -
)
ÉÉ- .
;
ÉÉ. /
}
ÑÑ 
}
ÖÖ 
else
ÜÜ 
{
áá 
message
àà 
.
àà 
Message
àà 
+=
àà  "
$str
àà# K
;
ààK L
return
ââ 

BadRequest
ââ !
(
ââ! "
message
ââ" )
)
ââ) *
;
ââ* +
}
ää 
}
ãã 	
[
çç 	
HttpPost
çç	 
(
çç 
$str
çç '
)
çç' (
]
çç( )
public
éé 
async
éé 
Task
éé 
<
éé 
IActionResult
éé '
>
éé' (!
SaveSocialForPeople
éé) <
(
éé< =
[
éé= >
FromBody
éé> F
]
ééF G
PeopleSocials
ééH U
psocial
ééV ]
)
éé] ^
{
èè 	
var
êê 

isSignedIn
êê 
=
êê 
_signInManager
êê +
.
êê+ ,

IsSignedIn
êê, 6
(
êê6 7
User
êê7 ;
)
êê; <
;
êê< =
var
ëë 
message
ëë 
=
ëë 
new
ëë 
MessageModel
ëë *
{
íí 

IsSignedIn
ìì 
=
ìì 

isSignedIn
ìì '
}
îî 
;
îî 
if
ïï 
(
ïï 

isSignedIn
ïï 
)
ïï 
{
ññ 
var
óó 
item
óó 
=
óó 
await
óó  
_context
óó! )
.
óó) *
PeopleSocials
óó* 7
.
óó7 8
	FindAsync
óó8 A
(
óóA B
psocial
óóB I
.
óóI J
Id
óóJ L
)
óóL M
;
óóM N
if
òò 
(
òò 
item
òò 
!=
òò 
null
òò  
)
òò  !
{
ôô 
item
öö 
.
öö 
UpdatedDate
öö $
=
öö% &
DateTime
öö' /
.
öö/ 0
Now
öö0 3
;
öö3 4
item
õõ 
.
õõ 
PeopleId
õõ !
=
õõ" #
psocial
õõ$ +
.
õõ+ ,
PeopleId
õõ, 4
;
õõ4 5
item
úú 
.
úú 
SocialId
úú !
=
úú" #
psocial
úú$ +
.
úú+ ,
SocialId
úú, 4
;
úú4 5
item
ùù 
.
ùù 
Share
ùù 
=
ùù  
psocial
ùù! (
.
ùù( )
Share
ùù) .
;
ùù. /
item
ûû 
.
ûû 
Like
ûû 
=
ûû 
psocial
ûû  '
.
ûû' (
Like
ûû( ,
;
ûû, -
item
üü 
.
üü 
Follow
üü 
=
üü  !
psocial
üü" )
.
üü) *
Follow
üü* 0
;
üü0 1
item
†† 
.
†† 
Index
†† 
=
††  
psocial
††! (
.
††( )
Index
††) .
;
††. /
item
°° 
.
°° 
View
°° 
=
°° 
psocial
°°  '
.
°°' (
View
°°( ,
;
°°, -
item
¢¢ 
.
¢¢ 
Url
¢¢ 
=
¢¢ 
psocial
¢¢ &
.
¢¢& '
Url
¢¢' *
;
¢¢* +
_context
££ 
.
££ 
Entry
££ "
(
££" #
item
££# '
)
££' (
.
££( )
State
££) .
=
££/ 0
EntityState
££1 <
.
££< =
Modified
££= E
;
££E F
}
§§ 
else
•• 
{
¶¶ 
psocial
ßß 
.
ßß 
CreatedDate
ßß '
=
ßß( )
DateTime
ßß* 2
.
ßß2 3
Now
ßß3 6
;
ßß6 7
_context
®® 
.
®® 
PeopleSocials
®® *
.
®®* +
Add
®®+ .
(
®®. /
psocial
®®/ 6
)
®®6 7
;
®®7 8
}
©© 
await
™™ 
_context
™™ 
.
™™ 
SaveChangesAsync
™™ /
(
™™/ 0
)
™™0 1
;
™™1 2
message
´´ 
.
´´ 
Message
´´ 
=
´´  !
$str
´´" ,
;
´´, -
return
¨¨ 
Ok
¨¨ 
(
¨¨ 
message
¨¨ !
)
¨¨! "
;
¨¨" #
}
≠≠ 
else
ÆÆ 
{
ØØ 
message
∞∞ 
.
∞∞ 
Message
∞∞ 
+=
∞∞  "
$str
∞∞# K
;
∞∞K L
return
±± 

BadRequest
±± !
(
±±! "
message
±±" )
)
±±) *
;
±±* +
}
≤≤ 
}
≥≥ 	
[
µµ 	
HttpPost
µµ	 
(
µµ 
$str
µµ 
)
µµ 
]
µµ  
public
∂∂ 
async
∂∂ 
Task
∂∂ 
<
∂∂ 
IActionResult
∂∂ '
>
∂∂' (

SaveSocial
∂∂) 3
(
∂∂3 4
[
∂∂4 5
FromBody
∂∂5 =
]
∂∂= >
Social
∂∂? E
social
∂∂F L
)
∂∂L M
{
∑∑ 	
var
∏∏ 

isSignedIn
∏∏ 
=
∏∏ 
_signInManager
∏∏ +
.
∏∏+ ,

IsSignedIn
∏∏, 6
(
∏∏6 7
User
∏∏7 ;
)
∏∏; <
;
∏∏< =
var
ππ 
message
ππ 
=
ππ 
new
ππ 
MessageModel
ππ *
{
∫∫ 

IsSignedIn
ªª 
=
ªª 

isSignedIn
ªª '
}
ºº 
;
ºº 
if
ΩΩ 
(
ΩΩ 

isSignedIn
ΩΩ 
)
ΩΩ 
{
ææ 
try
øø 
{
¿¿ 
social
¡¡ 
.
¡¡ 
CreatedDate
¡¡ &
=
¡¡' (
DateTime
¡¡) 1
.
¡¡1 2
Now
¡¡2 5
;
¡¡5 6
await
¬¬ 
_context
¬¬ "
.
¬¬" #
Socials
¬¬# *
.
¬¬* +
AddAsync
¬¬+ 3
(
¬¬3 4
social
¬¬4 :
)
¬¬: ;
;
¬¬; <
await
√√ 
_context
√√ "
.
√√" #
SaveChangesAsync
√√# 3
(
√√3 4
)
√√4 5
;
√√5 6
return
ƒƒ 
Ok
ƒƒ 
(
ƒƒ 
message
ƒƒ %
)
ƒƒ% &
;
ƒƒ& '
}
≈≈ 
catch
∆∆ 
(
∆∆ 
	Exception
∆∆  
ex
∆∆! #
)
∆∆# $
{
«« 
message
»» 
.
»» 
Message
»» #
+=
»»$ &
$str
»»' *
+
»»+ ,
ex
»»- /
.
»»/ 0
Message
»»0 7
;
»»7 8
return
…… 

BadRequest
…… %
(
……% &
message
……& -
)
……- .
;
……. /
}
   
}
ÀÀ 
else
ÃÃ 
{
ÕÕ 
message
ŒŒ 
.
ŒŒ 
Message
ŒŒ 
+=
ŒŒ  "
$str
ŒŒ# K
;
ŒŒK L
return
œœ 

BadRequest
œœ !
(
œœ! "
message
œœ" )
)
œœ) *
;
œœ* +
}
–– 
}
—— 	
[
”” 	
HttpPost
””	 
(
”” 
$str
””  
)
””  !
]
””! "
public
‘‘ 
async
‘‘ 
Task
‘‘ 
<
‘‘ 
IActionResult
‘‘ '
>
‘‘' (
UpdateSocial
‘‘) 5
(
‘‘5 6
[
‘‘6 7
FromBody
‘‘7 ?
]
‘‘? @
Social
‘‘A G
social
‘‘H N
)
‘‘N O
{
’’ 	
var
÷÷ 

isSignedIn
÷÷ 
=
÷÷ 
_signInManager
÷÷ +
.
÷÷+ ,

IsSignedIn
÷÷, 6
(
÷÷6 7
User
÷÷7 ;
)
÷÷; <
;
÷÷< =
var
◊◊ 
message
◊◊ 
=
◊◊ 
new
◊◊ 
MessageModel
◊◊ *
{
ÿÿ 

IsSignedIn
ŸŸ 
=
ŸŸ 

isSignedIn
ŸŸ '
}
⁄⁄ 
;
⁄⁄ 
if
€€ 
(
€€ 

isSignedIn
€€ 
)
€€ 
{
‹‹ 
try
›› 
{
ﬁﬁ 
var
ﬂﬂ 
updatedSocial
ﬂﬂ %
=
ﬂﬂ& '
await
ﬂﬂ( -
_context
ﬂﬂ. 6
.
ﬂﬂ6 7
Socials
ﬂﬂ7 >
.
ﬂﬂ> ?
	FindAsync
ﬂﬂ? H
(
ﬂﬂH I
social
ﬂﬂI O
.
ﬂﬂO P
Id
ﬂﬂP R
)
ﬂﬂR S
;
ﬂﬂS T
updatedSocial
‡‡ !
.
‡‡! "
Name
‡‡" &
=
‡‡' (
social
‡‡) /
.
‡‡/ 0
Name
‡‡0 4
;
‡‡4 5
updatedSocial
·· !
.
··! "
Index
··" '
=
··( )
social
··* 0
.
··0 1
Index
··1 6
;
··6 7
updatedSocial
‚‚ !
.
‚‚! "
Enabled
‚‚" )
=
‚‚* +
social
‚‚, 2
.
‚‚2 3
Enabled
‚‚3 :
;
‚‚: ;
updatedSocial
„„ !
.
„„! "
UpdatedDate
„„" -
=
„„. /
DateTime
„„0 8
.
„„8 9
Now
„„9 <
;
„„< =
_context
‰‰ 
.
‰‰ 
Entry
‰‰ "
(
‰‰" #
updatedSocial
‰‰# 0
)
‰‰0 1
.
‰‰1 2
State
‰‰2 7
=
‰‰8 9
EntityState
‰‰: E
.
‰‰E F
Modified
‰‰F N
;
‰‰N O
await
ÂÂ 
_context
ÂÂ "
.
ÂÂ" #
SaveChangesAsync
ÂÂ# 3
(
ÂÂ3 4
)
ÂÂ4 5
;
ÂÂ5 6
return
ÊÊ 
Ok
ÊÊ 
(
ÊÊ 
message
ÊÊ %
)
ÊÊ% &
;
ÊÊ& '
}
ÁÁ 
catch
ËË 
(
ËË 
	Exception
ËË  
ex
ËË! #
)
ËË# $
{
ÈÈ 
message
ÍÍ 
.
ÍÍ 
Message
ÍÍ #
+=
ÍÍ$ &
$str
ÍÍ' *
+
ÍÍ+ ,
ex
ÍÍ- /
.
ÍÍ/ 0
Message
ÍÍ0 7
;
ÍÍ7 8
return
ÎÎ 

BadRequest
ÎÎ %
(
ÎÎ% &
message
ÎÎ& -
)
ÎÎ- .
;
ÎÎ. /
}
ÏÏ 
}
ÌÌ 
else
ÓÓ 
{
ÔÔ 
message
 
.
 
Message
 
+=
  "
$str
# K
;
K L
return
ÒÒ 

BadRequest
ÒÒ !
(
ÒÒ! "
message
ÒÒ" )
)
ÒÒ) *
;
ÒÒ* +
}
ÚÚ 
}
ÛÛ 	
[
ıı 	
HttpPost
ıı	 
(
ıı 
$str
ıı 
)
ıı 
]
ıı  
public
ˆˆ 
async
ˆˆ 
Task
ˆˆ 
<
ˆˆ 
IActionResult
ˆˆ '
>
ˆˆ' (

SaveCareer
ˆˆ) 3
(
ˆˆ3 4
[
ˆˆ4 5
FromBody
ˆˆ5 =
]
ˆˆ= >
Career
ˆˆ? E
career
ˆˆF L
)
ˆˆL M
{
˜˜ 	
var
¯¯ 

isSignedIn
¯¯ 
=
¯¯ 
_signInManager
¯¯ +
.
¯¯+ ,

IsSignedIn
¯¯, 6
(
¯¯6 7
User
¯¯7 ;
)
¯¯; <
;
¯¯< =
var
˘˘ 
message
˘˘ 
=
˘˘ 
new
˘˘ 
MessageModel
˘˘ *
{
˙˙ 

IsSignedIn
˚˚ 
=
˚˚ 

isSignedIn
˚˚ '
}
¸¸ 
;
¸¸ 
if
˝˝ 
(
˝˝ 

isSignedIn
˝˝ 
)
˝˝ 
{
˛˛ 
try
ˇˇ 
{
ÄÄ 
career
ÅÅ 
.
ÅÅ 
CreatedDate
ÅÅ &
=
ÅÅ' (
DateTime
ÅÅ) 1
.
ÅÅ1 2
Now
ÅÅ2 5
;
ÅÅ5 6
await
ÇÇ 
_context
ÇÇ "
.
ÇÇ" #
Careers
ÇÇ# *
.
ÇÇ* +
AddAsync
ÇÇ+ 3
(
ÇÇ3 4
career
ÇÇ4 :
)
ÇÇ: ;
;
ÇÇ; <
await
ÉÉ 
_context
ÉÉ "
.
ÉÉ" #
SaveChangesAsync
ÉÉ# 3
(
ÉÉ3 4
)
ÉÉ4 5
;
ÉÉ5 6
return
ÑÑ 
Ok
ÑÑ 
(
ÑÑ 
message
ÑÑ %
)
ÑÑ% &
;
ÑÑ& '
}
ÖÖ 
catch
ÜÜ 
(
ÜÜ 
	Exception
ÜÜ  
ex
ÜÜ! #
)
ÜÜ# $
{
áá 
message
àà 
.
àà 
Message
àà #
+=
àà$ &
$str
àà' *
+
àà+ ,
ex
àà- /
.
àà/ 0
Message
àà0 7
;
àà7 8
return
ââ 

BadRequest
ââ %
(
ââ% &
message
ââ& -
)
ââ- .
;
ââ. /
}
ää 
}
ãã 
else
åå 
{
çç 
message
éé 
.
éé 
Message
éé 
+=
éé  "
$str
éé# K
;
ééK L
return
èè 

BadRequest
èè !
(
èè! "
message
èè" )
)
èè) *
;
èè* +
}
êê 
}
ëë 	
[
ìì 	
HttpPost
ìì	 
(
ìì 
$str
ìì 
)
ìì 
]
ìì  
public
îî 
async
îî 
Task
îî 
<
îî 
IActionResult
îî '
>
îî' (

SavePeople
îî) 3
(
îî3 4
[
îî4 5
FromBody
îî5 =
]
îî= >
People
îî? E
people
îîF L
)
îîL M
{
ïï 	
var
ññ 

isSignedIn
ññ 
=
ññ 
_signInManager
ññ +
.
ññ+ ,

IsSignedIn
ññ, 6
(
ññ6 7
User
ññ7 ;
)
ññ; <
;
ññ< =
var
óó 
message
óó 
=
óó 
new
óó 
MessageModel
óó *
{
òò 

IsSignedIn
ôô 
=
ôô 

isSignedIn
ôô '
}
öö 
;
öö 
if
õõ 
(
õõ 

isSignedIn
õõ 
)
õõ 
{
úú 
try
ùù 
{
ûû 
people
üü 
.
üü 
CreatedDate
üü &
=
üü' (
DateTime
üü) 1
.
üü1 2
Now
üü2 5
;
üü5 6
await
†† 
_context
†† "
.
††" #
Peoples
††# *
.
††* +
AddAsync
††+ 3
(
††3 4
people
††4 :
)
††: ;
;
††; <
int
°° 
value
°° 
=
°° 
await
°°  %
_context
°°& .
.
°°. /
SaveChangesAsync
°°/ ?
(
°°? @
)
°°@ A
;
°°A B
message
¢¢ 
.
¢¢ 
	Succeeded
¢¢ %
=
¢¢& '
value
¢¢( -
>
¢¢. /
$num
¢¢0 1
;
¢¢1 2
return
££ 
Ok
££ 
(
££ 
message
££ %
)
££% &
;
££& '
}
§§ 
catch
•• 
(
•• 
	Exception
••  
ex
••! #
)
••# $
{
¶¶ 
message
ßß 
.
ßß 
Message
ßß #
+=
ßß$ &
$str
ßß' *
+
ßß+ ,
ex
ßß- /
.
ßß/ 0
Message
ßß0 7
;
ßß7 8
return
®® 

BadRequest
®® %
(
®®% &
message
®®& -
)
®®- .
;
®®. /
}
©© 
}
™™ 
else
´´ 
{
¨¨ 
message
≠≠ 
.
≠≠ 
Message
≠≠ 
+=
≠≠  "
$str
≠≠# K
;
≠≠K L
return
ÆÆ 

BadRequest
ÆÆ !
(
ÆÆ! "
message
ÆÆ" )
)
ÆÆ) *
;
ÆÆ* +
}
ØØ 
}
∞∞ 	
[
≤≤ 	
HttpPost
≤≤	 
(
≤≤ 
$str
≤≤ %
)
≤≤% &
]
≤≤& '
public
≥≥ 
async
≥≥ 
Task
≥≥ 
<
≥≥ 
IActionResult
≥≥ '
>
≥≥' (
SaveUpdatedPeople
≥≥) :
(
≥≥: ;
[
≥≥; <
FromBody
≥≥< D
]
≥≥D E
People
≥≥F L
people
≥≥M S
)
≥≥S T
{
¥¥ 	
var
µµ 

isSignedIn
µµ 
=
µµ 
_signInManager
µµ +
.
µµ+ ,

IsSignedIn
µµ, 6
(
µµ6 7
User
µµ7 ;
)
µµ; <
;
µµ< =
var
∂∂ 
message
∂∂ 
=
∂∂ 
new
∂∂ 
MessageModel
∂∂ *
{
∑∑ 

IsSignedIn
∏∏ 
=
∏∏ 

isSignedIn
∏∏ '
}
ππ 
;
ππ 
if
∫∫ 
(
∫∫ 

isSignedIn
∫∫ 
)
∫∫ 
{
ªª 
try
ºº 
{
ΩΩ 
people
ææ 
.
ææ 
UpdatedDate
ææ &
=
ææ' (
DateTime
ææ) 1
.
ææ1 2
Now
ææ2 5
;
ææ5 6
_context
øø 
.
øø 
Entry
øø "
(
øø" #
people
øø# )
)
øø) *
.
øø* +
State
øø+ 0
=
øø1 2
EntityState
øø3 >
.
øø> ?
Modified
øø? G
;
øøG H
int
¿¿ 
value
¿¿ 
=
¿¿ 
await
¿¿  %
_context
¿¿& .
.
¿¿. /
SaveChangesAsync
¿¿/ ?
(
¿¿? @
)
¿¿@ A
;
¿¿A B
message
¡¡ 
.
¡¡ 
	Succeeded
¡¡ %
=
¡¡& '
value
¡¡( -
>
¡¡. /
$num
¡¡0 1
;
¡¡1 2
return
¬¬ 
Ok
¬¬ 
(
¬¬ 
message
¬¬ %
)
¬¬% &
;
¬¬& '
}
√√ 
catch
ƒƒ 
(
ƒƒ 
	Exception
ƒƒ  
ex
ƒƒ! #
)
ƒƒ# $
{
≈≈ 
message
∆∆ 
.
∆∆ 
Message
∆∆ #
+=
∆∆$ &
$str
∆∆' *
+
∆∆+ ,
ex
∆∆- /
.
∆∆/ 0
Message
∆∆0 7
;
∆∆7 8
return
«« 

BadRequest
«« %
(
««% &
message
««& -
)
««- .
;
««. /
}
»» 
}
…… 
else
   
{
ÀÀ 
message
ÃÃ 
.
ÃÃ 
Message
ÃÃ 
+=
ÃÃ  "
$str
ÃÃ# K
;
ÃÃK L
return
ÕÕ 

BadRequest
ÕÕ !
(
ÕÕ! "
message
ÕÕ" )
)
ÕÕ) *
;
ÕÕ* +
}
ŒŒ 
}
œœ 	
[
—— 	
HttpPost
——	 
(
—— 
$str
—— (
)
——( )
]
——) *
public
““ 
async
““ 
Task
““ 
<
““ 
IActionResult
““ '
>
““' ("
DeleteSocialOfPeople
““) =
(
““= >
[
““> ?
FromBody
““? G
]
““G H
PeopleSocials
““H U
peopleSocials
““V c
)
““c d
{
”” 	
var
‘‘ 

isSignedIn
‘‘ 
=
‘‘ 
_signInManager
‘‘ +
.
‘‘+ ,

IsSignedIn
‘‘, 6
(
‘‘6 7
User
‘‘7 ;
)
‘‘; <
;
‘‘< =
var
’’ 
message
’’ 
=
’’ 
new
’’ 
MessageModel
’’ *
{
÷÷ 

IsSignedIn
◊◊ 
=
◊◊ 

isSignedIn
◊◊ '
}
ÿÿ 
;
ÿÿ 
if
ŸŸ 
(
ŸŸ 

isSignedIn
ŸŸ 
)
ŸŸ 
{
⁄⁄ 
try
€€ 
{
‹‹ 
peopleSocials
›› !
=
››" #
await
››$ )
_context
››* 2
.
››2 3
PeopleSocials
››3 @
.
››@ A
	FindAsync
››A J
(
››J K
peopleSocials
››K X
.
››X Y
Id
››Y [
)
››[ \
;
››\ ]
_context
ﬁﬁ 
.
ﬁﬁ 
Entry
ﬁﬁ "
(
ﬁﬁ" #
peopleSocials
ﬁﬁ# 0
)
ﬁﬁ0 1
.
ﬁﬁ1 2
State
ﬁﬁ2 7
=
ﬁﬁ8 9
EntityState
ﬁﬁ: E
.
ﬁﬁE F
Deleted
ﬁﬁF M
;
ﬁﬁM N
int
ﬂﬂ 
value
ﬂﬂ 
=
ﬂﬂ 
await
ﬂﬂ  %
_context
ﬂﬂ& .
.
ﬂﬂ. /
SaveChangesAsync
ﬂﬂ/ ?
(
ﬂﬂ? @
)
ﬂﬂ@ A
;
ﬂﬂA B
message
‡‡ 
.
‡‡ 
	Succeeded
‡‡ %
=
‡‡& '
value
‡‡( -
>
‡‡. /
$num
‡‡0 1
;
‡‡1 2
return
·· 
Ok
·· 
(
·· 
message
·· %
)
··% &
;
··& '
}
‚‚ 
catch
„„ 
(
„„ 
	Exception
„„  
ex
„„! #
)
„„# $
{
‰‰ 
message
ÂÂ 
.
ÂÂ 
Message
ÂÂ #
+=
ÂÂ$ &
$str
ÂÂ' *
+
ÂÂ+ ,
ex
ÂÂ- /
.
ÂÂ/ 0
Message
ÂÂ0 7
;
ÂÂ7 8
return
ÊÊ 

BadRequest
ÊÊ %
(
ÊÊ% &
message
ÊÊ& -
)
ÊÊ- .
;
ÊÊ. /
}
ÁÁ 
}
ËË 
else
ÈÈ 
{
ÍÍ 
message
ÎÎ 
.
ÎÎ 
Message
ÎÎ 
+=
ÎÎ  "
$str
ÎÎ# K
;
ÎÎK L
return
ÏÏ 

BadRequest
ÏÏ !
(
ÏÏ! "
message
ÏÏ" )
)
ÏÏ) *
;
ÏÏ* +
}
ÌÌ 
}
ÓÓ 	
[
 	
HttpPost
	 
(
 
$str
 
)
 
]
  
public
ÒÒ 
async
ÒÒ 
Task
ÒÒ 
<
ÒÒ 
IActionResult
ÒÒ '
>
ÒÒ' (

RunCrawler
ÒÒ) 3
(
ÒÒ3 4
)
ÒÒ4 5
{
ÚÚ 	
return
ÛÛ 
Ok
ÛÛ 
(
ÛÛ 
new
ÛÛ 
{
ÙÙ 
value
ıı 
=
ıı 
await
ıı 
CrawlerExcute
ıı +
(
ıı+ ,
)
ıı, -
}
ˆˆ 
)
ˆˆ 
;
ˆˆ 
}
˜˜ 	
[
˘˘ 	
HttpGet
˘˘	 
(
˘˘ 
$str
˘˘ -
)
˘˘- .
]
˘˘. /
public
˙˙ 
async
˙˙ 
Task
˙˙ 
<
˙˙ 
IActionResult
˙˙ '
>
˙˙' ((
GetAllSocialInfoByPeopleId
˙˙) C
(
˙˙C D
[
˙˙D E
	FromQuery
˙˙E N
]
˙˙N O
int
˙˙O R
peopleId
˙˙S [
)
˙˙[ \
{
˚˚ 	
var
¸¸ 
socials
¸¸ 
=
¸¸ 
await
¸¸ 
_context
¸¸  (
.
¸¸( )
PeopleSocials
¸¸) 6
.
¸¸6 7
Where
¸¸7 <
(
¸¸< =
m
¸¸= >
=>
¸¸? A
m
¸¸B C
.
¸¸C D
PeopleId
¸¸D L
==
¸¸M O
peopleId
¸¸P X
)
¸¸X Y
.
¸¸Y Z
Select
¸¸Z `
(
¸¸` a
m
¸¸a b
=>
¸¸c e
m
¸¸f g
.
¸¸g h
Id
¸¸h j
)
¸¸j k
.
¸¸k l
ToListAsync
¸¸l w
(
¸¸w x
)
¸¸x y
;
¸¸y z
var
˝˝ 
	socValues
˝˝ 
=
˝˝ 
await
˝˝ !
_context
˝˝" *
.
˝˝* +"
PeopleSocialsByDates
˝˝+ ?
.
˝˝? @
Where
˝˝@ E
(
˝˝E F
m
˝˝F G
=>
˝˝H J
socials
˝˝K R
.
˝˝R S
Contains
˝˝S [
(
˝˝[ \
m
˝˝\ ]
.
˝˝] ^
PeopleSocialsId
˝˝^ m
)
˝˝m n
)
˝˝n o
.
˝˝o p
Select
˝˝p v
(
˝˝v w
m
˝˝w x
=>
˝˝y {
new
˝˝| #
PeopleSocialsByDate˝˝Ä ì
{
˛˛ 
Id
ˇˇ 
=
ˇˇ 
m
ˇˇ 
.
ˇˇ 
Id
ˇˇ 
,
ˇˇ 
Like
ÄÄ 
=
ÄÄ 
m
ÄÄ 
.
ÄÄ 
Like
ÄÄ 
,
ÄÄ 
Share
ÅÅ 
=
ÅÅ 
m
ÅÅ 
.
ÅÅ 
Share
ÅÅ 
,
ÅÅ  
View
ÇÇ 
=
ÇÇ 
m
ÇÇ 
.
ÇÇ 
View
ÇÇ 
,
ÇÇ 
Follow
ÉÉ 
=
ÉÉ 
m
ÉÉ 
.
ÉÉ 
Follow
ÉÉ !
,
ÉÉ! "
CreatedDate
ÑÑ 
=
ÑÑ 
m
ÑÑ 
.
ÑÑ  
CreatedDate
ÑÑ  +
,
ÑÑ+ ,
PeopleSocialsId
ÖÖ 
=
ÖÖ  !
m
ÖÖ" #
.
ÖÖ# $
PeopleSocialsId
ÖÖ$ 3
}
ÜÜ 
)
ÜÜ 
.
ÜÜ 
OrderByDescending
ÜÜ  
(
ÜÜ  !
m
ÜÜ! "
=>
ÜÜ# %
m
ÜÜ& '
.
ÜÜ' (
CreatedDate
ÜÜ( 3
)
ÜÜ3 4
.
ÜÜ4 5
ToListAsync
ÜÜ5 @
(
ÜÜ@ A
)
ÜÜA B
;
ÜÜB C
List
áá 
<
áá 
PeopleSocials
áá 
>
áá 
results
áá  '
=
áá( )
new
áá* -
List
áá. 2
<
áá2 3
PeopleSocials
áá3 @
>
áá@ A
(
ááA B
)
ááB C
;
ááC D
for
àà 
(
àà 
var
àà 
i
àà 
=
àà 
$num
àà 
;
àà 
i
àà 
<
àà 
socials
àà  '
.
àà' (
Count
àà( -
;
àà- .
i
àà/ 0
++
àà0 2
)
àà2 3
{
ââ 
var
ää 
soc
ää 
=
ää 
new
ää 
PeopleSocials
ää +
{
ãã 
Id
åå 
=
åå 
socials
åå  
[
åå  !
i
åå! "
]
åå" #
}
çç 
;
çç 
var
éé 
values
éé 
=
éé 
new
éé  
List
éé! %
<
éé% &!
PeopleSocialsByDate
éé& 9
>
éé9 :
(
éé: ;
)
éé; <
;
éé< =
for
èè 
(
èè 
var
èè 
j
èè 
=
èè 
$num
èè 
;
èè 
j
èè  !
<
èè" #
	socValues
èè$ -
.
èè- .
Count
èè. 3
;
èè3 4
j
èè5 6
++
èè6 8
)
èè8 9
{
êê 
if
ëë 
(
ëë 
	socValues
ëë !
[
ëë! "
j
ëë" #
]
ëë# $
.
ëë$ %
PeopleSocialsId
ëë% 4
==
ëë5 7
socials
ëë8 ?
[
ëë? @
i
ëë@ A
]
ëëA B
)
ëëB C
{
íí 
values
ìì 
.
ìì 
Add
ìì "
(
ìì" #
new
ìì# &!
PeopleSocialsByDate
ìì' :
{
îî 
Id
ïï 
=
ïï  
	socValues
ïï! *
[
ïï* +
j
ïï+ ,
]
ïï, -
.
ïï- .
Id
ïï. 0
,
ïï0 1
Like
ññ  
=
ññ! "
	socValues
ññ# ,
[
ññ, -
j
ññ- .
]
ññ. /
.
ññ/ 0
Like
ññ0 4
,
ññ4 5
Share
óó !
=
óó" #
	socValues
óó$ -
[
óó- .
j
óó. /
]
óó/ 0
.
óó0 1
Share
óó1 6
,
óó6 7
View
òò  
=
òò! "
	socValues
òò# ,
[
òò, -
j
òò- .
]
òò. /
.
òò/ 0
View
òò0 4
,
òò4 5
Follow
ôô "
=
ôô# $
	socValues
ôô% .
[
ôô. /
j
ôô/ 0
]
ôô0 1
.
ôô1 2
Follow
ôô2 8
,
ôô8 9
CreatedDate
öö '
=
öö( )
	socValues
öö* 3
[
öö3 4
j
öö4 5
]
öö5 6
.
öö6 7
CreatedDate
öö7 B
}
õõ 
)
õõ 
;
õõ 
}
úú 
}
ùù 
soc
ûû 
.
ûû "
PeopleSocialsByDates
ûû (
=
ûû) *
values
ûû+ 1
;
ûû1 2
results
üü 
.
üü 
Add
üü 
(
üü 
soc
üü 
)
üü  
;
üü  !
}
†† 
return
°° 
Ok
°° 
(
°° 
results
°° 
)
°° 
;
°° 
}
¢¢ 	
}
££ 
}§§ É:
8D:\web_angular\moduleAuth\Controllers\TypesController.cs
	namespace

 	
angular6DotnetCore


 
.

 
Controllers

 (
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
TypesController  
:! "
ControllerBase# 1
{ 
private 
readonly 
UserDbContext &
_context' /
;/ 0
public 
TypesController 
( 
UserDbContext ,
context- 4
)4 5
{ 	
_context 
= 
context 
; 
} 	
[ 	
HttpGet	 
] 
public 
IEnumerable 
< 
Models !
.! "
Type" &
>& '
GetTypes( 0
(0 1
)1 2
{ 	
return 
_context 
. 
Types !
;! "
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public   
async   
Task   
<   
IActionResult   '
>  ' (
GetType  ) 0
(  0 1
[  1 2
	FromRoute  2 ;
]  ; <
int  = @
id  A C
)  C D
{!! 	
if"" 
("" 
!"" 

ModelState"" 
."" 
IsValid"" #
)""# $
{## 
return$$ 

BadRequest$$ !
($$! "

ModelState$$" ,
)$$, -
;$$- .
}%% 
var'' 
@type'' 
='' 
await'' 
_context'' &
.''& '
Types''' ,
.'', -
	FindAsync''- 6
(''6 7
id''7 9
)''9 :
;'': ;
if)) 
()) 
@type)) 
==)) 
null)) 
))) 
{** 
return++ 
NotFound++ 
(++  
)++  !
;++! "
},, 
return.. 
Ok.. 
(.. 
@type.. 
).. 
;.. 
}// 	
[22 	
HttpPut22	 
(22 
$str22 
)22 
]22 
public33 
async33 
Task33 
<33 
IActionResult33 '
>33' (
PutType33) 0
(330 1
[331 2
	FromRoute332 ;
]33; <
int33= @
id33A C
,33C D
[33E F
FromBody33F N
]33N O
Models33P V
.33V W
Type33W [
@type33\ a
)33a b
{44 	
if55 
(55 
!55 

ModelState55 
.55 
IsValid55 #
)55# $
{66 
return77 

BadRequest77 !
(77! "

ModelState77" ,
)77, -
;77- .
}88 
if:: 
(:: 
id:: 
!=:: 
@type:: 
.:: 
Id:: 
):: 
{;; 
return<< 

BadRequest<< !
(<<! "
)<<" #
;<<# $
}== 
_context?? 
.?? 
Entry?? 
(?? 
@type??  
)??  !
.??! "
State??" '
=??( )
EntityState??* 5
.??5 6
Modified??6 >
;??> ?
tryAA 
{BB 
awaitCC 
_contextCC 
.CC 
SaveChangesAsyncCC /
(CC/ 0
)CC0 1
;CC1 2
}DD 
catchEE 
(EE (
DbUpdateConcurrencyExceptionEE /
)EE/ 0
{FF 
ifGG 
(GG 
!GG 

TypeExistsGG 
(GG  
idGG  "
)GG" #
)GG# $
{HH 
returnII 
NotFoundII #
(II# $
)II$ %
;II% &
}JJ 
elseKK 
{LL 
throwMM 
;MM 
}NN 
}OO 
returnQQ 
	NoContentQQ 
(QQ 
)QQ 
;QQ 
}RR 	
[UU 	
HttpPostUU	 
]UU 
publicVV 
asyncVV 
TaskVV 
<VV 
IActionResultVV '
>VV' (
PostTypeVV) 1
(VV1 2
[VV2 3
FromBodyVV3 ;
]VV; <
ModelsVV= C
.VVC D
TypeVVD H
@typeVVI N
)VVN O
{WW 	
ifXX 
(XX 
!XX 

ModelStateXX 
.XX 
IsValidXX #
)XX# $
{YY 
returnZZ 

BadRequestZZ !
(ZZ! "

ModelStateZZ" ,
)ZZ, -
;ZZ- .
}[[ 
_context]] 
.]] 
Types]] 
.]] 
Add]] 
(]] 
@type]] $
)]]$ %
;]]% &
await^^ 
_context^^ 
.^^ 
SaveChangesAsync^^ +
(^^+ ,
)^^, -
;^^- .
return`` 
CreatedAtAction`` "
(``" #
$str``# ,
,``, -
new``. 1
{``2 3
id``4 6
=``7 8
@type``9 >
.``> ?
Id``? A
}``B C
,``C D
@type``E J
)``J K
;``K L
}aa 	
[dd 	

HttpDeletedd	 
(dd 
$strdd 
)dd 
]dd 
publicee 
asyncee 
Taskee 
<ee 
IActionResultee '
>ee' (

DeleteTypeee) 3
(ee3 4
[ee4 5
	FromRouteee5 >
]ee> ?
intee@ C
ideeD F
)eeF G
{ff 	
ifgg 
(gg 
!gg 

ModelStategg 
.gg 
IsValidgg #
)gg# $
{hh 
returnii 

BadRequestii !
(ii! "

ModelStateii" ,
)ii, -
;ii- .
}jj 
varll 
@typell 
=ll 
awaitll 
_contextll &
.ll& '
Typesll' ,
.ll, -
	FindAsyncll- 6
(ll6 7
idll7 9
)ll9 :
;ll: ;
ifmm 
(mm 
@typemm 
==mm 
nullmm 
)mm 
{nn 
returnoo 
NotFoundoo 
(oo  
)oo  !
;oo! "
}pp 
_contextrr 
.rr 
Typesrr 
.rr 
Removerr !
(rr! "
@typerr" '
)rr' (
;rr( )
awaitss 
_contextss 
.ss 
SaveChangesAsyncss +
(ss+ ,
)ss, -
;ss- .
returnuu 
Okuu 
(uu 
@typeuu 
)uu 
;uu 
}vv 	
privatexx 
boolxx 

TypeExistsxx 
(xx  
intxx  #
idxx$ &
)xx& '
{yy 	
returnzz 
_contextzz 
.zz 
Typeszz !
.zz! "
Anyzz" %
(zz% &
ezz& '
=>zz( *
ezz+ ,
.zz, -
Idzz- /
==zz0 2
idzz3 5
)zz5 6
;zz6 7
}{{ 	
}|| 
}}} ‹
/D:\web_angular\moduleAuth\Data\UserDbContext.cs
	namespace 	
angular6DotnetCore
 
. 
Models #
{ 
public 

class 
UserDbContext 
:  
IdentityDbContext! 2
{ 
public 
UserDbContext 
( 
DbContextOptions -
<- .
UserDbContext. ;
>; <
options= D
)D E
:		 
base		 
(		 
options		 
)		 
{		 
}		 
public

 
UserDbContext

 
(

 
)

 
{

  
}

! "
public 
virtual 
DbSet 
< 
Post !
>! "
Posts# (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
virtual 
DbSet 
< 
Type !
>! "
Types# (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
virtual 
DbSet 
< 
People #
># $
Peoples% ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
virtual 
DbSet 
< 
Career #
># $
Careers% ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
virtual 
DbSet 
< 
Social #
># $
Socials% ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
virtual 
DbSet 
< 
Adward #
># $
Adwards% ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
virtual 
DbSet 
< 
PeopleAdwards *
>* +
PeopleAdwards, 9
{: ;
get< ?
;? @
setA D
;D E
}F G
public 
virtual 
DbSet 
< 
PeopleSocials *
>* +
PeopleSocials, 9
{: ;
get< ?
;? @
setA D
;D E
}F G
public 
virtual 
DbSet 
< 
PeopleSocialsByDate 0
>0 1 
PeopleSocialsByDates2 F
{G H
getI L
;L M
setN Q
;Q R
}S T
} 
} Ì
.D:\web_angular\moduleAuth\Logic\EmailSender.cs
	namespace 	
angular6DotnetCore
 
. 
Areas "
." #
Identity# +
.+ ,
Services, 4
{ 
public 

class $
AuthMessageSenderOptions )
{		 
public

 
string

 
SendGridUser

 "
{

# $
get

% (
;

( )
set

* -
;

- .
}

/ 0
public 
string 
SendGridKey !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
public 

class 
EmailSender 
: 
IEmailSender +
{ 
public 
EmailSender 
( 
IOptions #
<# $$
AuthMessageSenderOptions$ <
>< =
optionsAccessor> M
)M N
{ 	
Options 
= 
optionsAccessor %
.% &
Value& +
;+ ,
} 	
public $
AuthMessageSenderOptions '
Options( /
{0 1
get2 5
;5 6
}7 8
public 
Task 
SendEmailAsync "
(" #
string# )
email* /
,/ 0
string1 7
subject8 ?
,? @
stringA G
messageH O
)O P
{ 	
return 
Execute 
( 
Options "
." #
SendGridKey# .
,. /
subject0 7
,7 8
message9 @
,@ A
emailB G
)G H
;H I
} 	
public 
Task 
Execute 
( 
string "
apiKey# )
,) *
string+ 1
subject2 9
,9 :
string; A
messageB I
,I J
stringK Q
emailR W
)W X
{ 	
var 
client 
= 
new 
SendGridClient +
(+ ,
apiKey, 2
)2 3
;3 4
var 
msg 
= 
new 
SendGridMessage )
() *
)* +
{ 
From   
=   
new   
EmailAddress   '
(  ' (
$str  ( 9
,  9 :
$str  ; F
)  F G
,  G H
Subject!! 
=!! 
subject!! !
,!!! "
PlainTextContent""  
=""! "
message""# *
,""* +
HtmlContent## 
=## 
message## %
}$$ 
;$$ 
msg%% 
.%% 
AddTo%% 
(%% 
new%% 
EmailAddress%% &
(%%& '
email%%' ,
)%%, -
)%%- .
;%%. /
return&& 
client&& 
.&& 
SendEmailAsync&& (
(&&( )
msg&&) ,
)&&, -
;&&- .
}'' 	
}(( 
})) ÕÃ
-D:\web_angular\moduleAuth\Logic\InfoPeople.cs
	namespace 	
angular6DotnetCore
 
. 
Logic "
{ 
public 

class 

InfoPeople 
{ 
private 
readonly 
UserDbContext &
_context' /
;/ 0
public 
PeopleSocials 
GetInfo $
($ %
string% +
code, 0
,0 1
string2 8
url9 <
)< =
{ 	
if 
( 
url 
. 
ToLower 
( 
) 
. 
IndexOf %
(% &
$str& 2
)2 3
>4 5
-6 7
$num7 8
)8 9
{ 
return 
GetFacebookInfo &
(& '
code' +
,+ ,
url- 0
)0 1
;1 2
} 
else 
if 
( 
url 
. 
ToLower  
(  !
)! "
." #
IndexOf# *
(* +
$str+ 6
)6 7
>8 9
-: ;
$num; <
)< =
{ 
return 
GetYoutubeInfo %
(% &
code& *
,* +
url, /
)/ 0
;0 1
} 
else 
if 
( 
url 
. 
ToLower  
(  !
)! "
." #
IndexOf# *
(* +
$str+ 6
)6 7
>8 9
-: ;
$num; <
)< =
{ 
return 
GetYoutubeInfo %
(% &
code& *
,* +
url, /
)/ 0
;0 1
} 
else 
if 
( 
url 
. 
ToLower  
(  !
)! "
." #
IndexOf# *
(* +
$str+ 8
)8 9
>: ;
-< =
$num= >
)> ?
{ 
return   
GetInstagramInfo   '
(  ' (
code  ( ,
,  , -
url  . 1
)  1 2
;  2 3
}!! 
return"" 
null"" 
;"" 
}## 	
public$$ 
PeopleSocials$$ 
GetYoutubeInfo$$ +
($$+ ,
string$$, 2
code$$3 7
,$$7 8
string$$9 ?
url$$@ C
)$$C D
{%% 	
string&& 

pathString&& 
=&& 
$str&&  +
+&&, -
code&&. 2
+&&3 4
$str&&5 <
;&&< =
string'' 

pathPeople'' 
='' 
url''  #
;''# $
var)) 
client)) 
=)) 
new)) 
	WebClient)) &
())& '
)))' (
;))( )
client** 
.** 
Headers** 
.** 
Add** 
(** 
$str** +
,**+ ,
$str	**- ¢
)
**¢ £
;
**£ §
client++ 
.++ 
Headers++ 
.++ 
Add++ 
(++ 
$str++ .
,++. /
$str++0 ;
)++; <
;++< =
client,, 
.,, 
Headers,, 
.,, 
Add,, 
(,, 
$str,, :
,,,: ;
$str,,< ?
),,? @
;,,@ A
var-- 
text-- 
=-- 
client-- 
.-- 
DownloadString-- ,
(--, -

pathPeople--- 7
)--7 8
;--8 9
var.. 
inx.. 
=.. 
text.. 
... 
IndexOf.. "
(.." #
$str..# -
)..- .
;... /
var// 
inx2// 
=// 
text// 
.// 
IndexOf// #
(//# $
$str//$ 3
)//3 4
;//4 5
int00 
?00 
number100 
=00 
null00 
;00  
int11 
?11 
number211 
=11 
null11 
;11  
if22 
(22 
inx22 
>22 
-22 
$num22 
)22 
{33 
var44 
result144 
=44 
text44 "
.44" #
	Substring44# ,
(44, -
inx44- 0
-441 2
$num443 5
,445 6
$num447 9
)449 :
.44: ;
Split44; @
(44@ A
$char44A D
)44D E
.44E F
Reverse44F M
(44M N
)44N O
.44O P
ToList44P V
(44V W
)44W X
;44X Y
number155 
=55 
int55 
.55 
Parse55 #
(55# $
Regex55$ )
.55) *
Replace55* 1
(551 2
result1552 9
[559 :
$num55: ;
]55; <
,55< =
$str55> F
,55F G
$str55H J
)55J K
)55K L
;55L M
}66 
if88 
(88 
inx288 
>88 
-88 
$num88 
)88 
{99 
var:: 
result2:: 
=:: 
text:: "
.::" #
	Substring::# ,
(::, -
inx2::- 1
-::2 3
$num::4 6
,::6 7
$num::8 :
)::: ;
.::; <
Split::< A
(::A B
$char::B E
)::E F
.::F G
Reverse::G N
(::N O
)::O P
.::P Q
ToList::Q W
(::W X
)::X Y
;::Y Z
number2;; 
=;; 
int;; 
.;; 
Parse;; #
(;;# $
Regex;;$ )
.;;) *
Replace;;* 1
(;;1 2
result2;;2 9
[;;9 :
$num;;: ;
];;; <
,;;< =
$str;;> F
,;;F G
$str;;H J
);;J K
);;K L
;;;L M
}<< 
string== 
results== 
=== 
number1== $
+==% &
$str==' *
+==+ ,
number2==- 4
;==4 5
File>> 
.>> 
WriteAllText>> 
(>> 

pathString>> (
,>>( )
text>>* .
)>>. /
;>>/ 0
File?? 
.?? 
WriteAllText?? 
(?? 

pathString?? (
.??( )
Replace??) 0
(??0 1
$str??1 7
,??7 8
$str??9 >
)??> ?
,??? @
results??A H
)??H I
;??I J
return@@ 
new@@ 
PeopleSocials@@ $
{AA 
ViewBB 
=BB 
(BB 
number1BB 
)BB  
,BB  !
FollowCC 
=CC 
(CC 
number2CC !
)CC! "
,CC" #
}DD 
;DD 
}EE 	
publicGG 
PeopleSocialsGG 
GetTwitterInfoGG +
(GG+ ,
stringGG, 2
codeGG3 7
,GG7 8
stringGG9 ?
urlGG@ C
)GGC D
{HH 	
stringII 

pathStringII 
=II 
$strII  +
+II, -
codeII. 2
+II3 4
$strII5 <
;II< =
stringJJ 

pathPeopleJJ 
=JJ 
urlJJ  #
;JJ# $
varLL 
clientLL 
=LL 
newLL 
	WebClientLL &
(LL& '
)LL' (
;LL( )
clientMM 
.MM 
HeadersMM 
.MM 
AddMM 
(MM 
$strMM +
,MM+ ,
$str	MM- ¢
)
MM¢ £
;
MM£ §
clientNN 
.NN 
HeadersNN 
.NN 
AddNN 
(NN 
$strNN .
,NN. /
$strNN0 ;
)NN; <
;NN< =
clientOO 
.OO 
HeadersOO 
.OO 
AddOO 
(OO 
$strOO :
,OO: ;
$strOO< ?
)OO? @
;OO@ A
varPP 
textPP 
=PP 
clientPP 
.PP 
DownloadStringPP ,
(PP, -

pathPeoplePP- 7
)PP7 8
;PP8 9
FileRR 
.RR 
WriteAllTextRR 
(RR 

pathStringRR (
,RR( )
textRR* .
)RR. /
;RR/ 0
varSS 
peNewSS 
=SS 
newSS 
PeopleSocialsSS )
(SS) *
)SS* +
;SS+ ,
returnTT 
peNewTT 
;TT 
}UU 	
publicVV 
PeopleSocialsVV 
GetInstagramInfoVV -
(VV- .
stringVV. 4
codeVV5 9
,VV9 :
stringVV; A
urlVVB E
)VVE F
{WW 	
stringXX 

pathStringXX 
=XX 
$strXX  ,
+XX- .
codeXX/ 3
+XX4 5
$strXX6 =
;XX= >
stringYY 

pathPeopleYY 
=YY 
urlYY  #
;YY# $
var[[ 
client[[ 
=[[ 
new[[ 
	WebClient[[ &
([[& '
)[[' (
;[[( )
client\\ 
.\\ 
Headers\\ 
.\\ 
Add\\ 
(\\ 
$str\\ +
,\\+ ,
$str	\\- ¢
)
\\¢ £
;
\\£ §
client]] 
.]] 
Headers]] 
.]] 
Add]] 
(]] 
$str]] .
,]]. /
$str]]0 ;
)]]; <
;]]< =
client^^ 
.^^ 
Headers^^ 
.^^ 
Add^^ 
(^^ 
$str^^ :
,^^: ;
$str^^< ?
)^^? @
;^^@ A
var__ 
text__ 
=__ 
client__ 
.__ 
DownloadString__ ,
(__, -

pathPeople__- 7
)__7 8
;__8 9
var`` 
inx`` 
=`` 
text`` 
.`` 
IndexOf`` "
(``" #
$str``# 5
)``5 6
;``6 7
varbb 
result1bb 
=bb 
textbb 
.bb 
	Substringbb (
(bb( )
inxbb) ,
,bb, -
$numbb. 0
)bb0 1
.bb1 2
Splitbb2 7
(bb7 8
$charbb8 ;
)bb; <
;bb< =
varcc 
number1cc 
=cc 
intcc 
.cc 
Parsecc #
(cc# $
Regexcc$ )
.cc) *
Replacecc* 1
(cc1 2
result1cc2 9
[cc9 :
$numcc: ;
]cc; <
,cc< =
$strcc> F
,ccF G
$strccH J
)ccJ K
)ccK L
;ccL M
vardd 
resultsdd 
=dd 
number1dd !
.dd! "
ToStringdd" *
(dd* +
)dd+ ,
;dd, -
Fileee 
.ee 
WriteAllTextee 
(ee 

pathStringee (
.ee( )
Replaceee) 0
(ee0 1
$stree1 7
,ee7 8
$stree9 >
)ee> ?
,ee? @
resultseeA H
)eeH I
;eeI J
Filegg 
.gg 
WriteAllTextgg 
(gg 

pathStringgg (
,gg( )
textgg* .
)gg. /
;gg/ 0
varhh 
peNewhh 
=hh 
newhh 
PeopleSocialshh )
(hh) *
)hh* +
;hh+ ,
peNewii 
.ii 
Followii 
=ii 
number1ii "
;ii" #
returnjj 
peNewjj 
;jj 
}kk 	
publicll 
PeopleSocialsll 
GetFacebookInfoll ,
(ll, -
stringll- 3
codell4 8
,ll8 9
stringll: @
urlllA D
)llD E
{mm 	
stringnn 

pathStringnn 
=nn 
$strnn  +
+nn, -
codenn. 2
+nn3 4
$strnn5 <
;nn< =
stringoo 

pathPeopleoo 
=oo 
urloo  #
;oo# $
varpp 
clientpp 
=pp 
newpp 
	WebClientpp &
(pp& '
)pp' (
;pp( )
clientqq 
.qq 
Headersqq 
.qq 
Addqq 
(qq 
$strqq +
,qq+ ,
$str	qq- ¢
)
qq¢ £
;
qq£ §
clientrr 
.rr 
Headersrr 
.rr 
Addrr 
(rr 
$strrr .
,rr. /
$strrr0 ;
)rr; <
;rr< =
clientss 
.ss 
Headersss 
.ss 
Addss 
(ss 
$strss :
,ss: ;
$strss< ?
)ss? @
;ss@ A
clienttt 
.tt 
Headerstt 
.tt 
Addtt 
(tt 
$strtt '
,tt' (
$str	tt) Ô
)
ttÔ 
;
tt Ò
varvv 
textvv 
=vv 
clientvv 
.vv 
DownloadStringvv ,
(vv, -

pathPeoplevv- 7
)vv7 8
;vv8 9
varww 
inxww 
=ww 
textww 
.ww 
IndexOfww "
(ww" #
$strww# :
)ww: ;
;ww; <
varxx 
inx2xx 
=xx 
textxx 
.xx 
IndexOfxx #
(xx# $
$strxx$ >
)xx> ?
;xx? @
varzz 
result1zz 
=zz 
textzz 
.zz 
	Substringzz (
(zz( )
inxzz) ,
-zz- .
$numzz/ 1
,zz1 2
$numzz3 5
)zz5 6
.zz6 7
Splitzz7 <
(zz< =
$strzz= @
)zz@ A
;zzA B
var{{ 
number1{{ 
={{ 
int{{ 
.{{ 
Parse{{ #
({{# $
Regex{{$ )
.{{) *
Replace{{* 1
({{1 2
result1{{2 9
[{{9 :
result1{{: A
.{{A B
Length{{B H
-{{I J
$num{{K L
]{{L M
,{{M N
$str{{O W
,{{W X
$str{{Y [
){{[ \
){{\ ]
;{{] ^
var|| 
result2|| 
=|| 
text|| 
.|| 
	Substring|| (
(||( )
inx2||) -
-||. /
$num||0 2
,||2 3
$num||4 6
)||6 7
.||7 8
Split||8 =
(||= >
$str||> A
)||A B
;||B C
var}} 
number2}} 
=}} 
int}} 
.}} 
Parse}} #
(}}# $
Regex}}$ )
.}}) *
Replace}}* 1
(}}1 2
result2}}2 9
[}}9 :
result2}}: A
.}}A B
Length}}B H
-}}I J
$num}}K L
]}}L M
,}}M N
$str}}O W
,}}W X
$str}}Y [
)}}[ \
)}}\ ]
;}}] ^
var~~ 
results~~ 
=~~ 
number1~~ !
+~~" #
$str~~$ '
+~~( )
number2~~* 1
;~~1 2
File 
. 
WriteAllText 
( 

pathString (
,( )
text* .
). /
;/ 0
File
ÄÄ 
.
ÄÄ 
WriteAllText
ÄÄ 
(
ÄÄ 

pathString
ÄÄ (
.
ÄÄ( )
Replace
ÄÄ) 0
(
ÄÄ0 1
$str
ÄÄ1 7
,
ÄÄ7 8
$str
ÄÄ9 >
)
ÄÄ> ?
,
ÄÄ? @
results
ÄÄA H
)
ÄÄH I
;
ÄÄI J
return
ÅÅ 
new
ÅÅ 
PeopleSocials
ÅÅ $
{
ÇÇ 
Like
ÉÉ 
=
ÉÉ 
(
ÉÉ 
number1
ÉÉ 
)
ÉÉ  
,
ÉÉ  !
Follow
ÑÑ 
=
ÑÑ 
(
ÑÑ 
number2
ÑÑ !
)
ÑÑ! "
,
ÑÑ" #
}
ÖÖ 
;
ÖÖ 
}
ÜÜ 	
public
àà 
async
àà 
Task
àà 
<
àà 
PeopleSocials
àà '
>
àà' (

UpdateUser
àà) 3
(
àà3 4
UserDbContext
àà4 A
_context
ààB J
,
ààJ K
PeopleSocials
ààL Y
p
ààZ [
)
àà[ \
{
ââ 	
var
ää 
px
ää 
=
ää 
GetInfo
ää 
(
ää 
DateTime
ää %
.
ää% &
Now
ää& )
.
ää) *
Ticks
ää* /
.
ää/ 0
ToString
ää0 8
(
ää8 9
)
ää9 :
,
ää: ;
p
ää< =
.
ää= >
Url
ää> A
)
ääA B
;
ääB C
var
ãã 
pupdate
ãã 
=
ãã 
await
ãã 
_context
ãã  (
.
ãã( )
PeopleSocials
ãã) 6
.
ãã6 7
	FindAsync
ãã7 @
(
ãã@ A
p
ããA B
.
ããB C
Id
ããC E
)
ããE F
;
ããF G
pupdate
åå 
.
åå 
Like
åå 
=
åå 
px
åå 
.
åå 
Like
åå "
;
åå" #
pupdate
çç 
.
çç 
Follow
çç 
=
çç 
px
çç 
.
çç  
Follow
çç  &
;
çç& '
pupdate
éé 
.
éé 
View
éé 
=
éé 
px
éé 
.
éé 
View
éé "
;
éé" #
pupdate
èè 
.
èè 
Share
èè 
=
èè 
px
èè 
.
èè 
Share
èè $
;
èè$ %
_context
êê 
.
êê 
Entry
êê 
(
êê 
pupdate
êê "
)
êê" #
.
êê# $
State
êê$ )
=
êê* +
EntityState
êê, 7
.
êê7 8
Modified
êê8 @
;
êê@ A
var
ëë 
num
ëë 
=
ëë 
await
ëë 
_context
ëë $
.
ëë$ %
SaveChangesAsync
ëë% 5
(
ëë5 6
)
ëë6 7
;
ëë7 8
if
íí 
(
íí 
num
íí 
>
íí 
$num
íí 
)
íí 
{
ìì 
return
îî 
pupdate
îî 
;
îî 
}
ïï 
else
ññ 
{
óó 
return
òò 
null
òò 
;
òò 
}
ôô 
}
öö 	
public
úú 
async
úú 
Task
úú 
<
úú !
PeopleSocialsByDate
úú -
>
úú- .
CrawlSocial
úú/ :
(
úú: ;
UserDbContext
úú; H
_context
úúI Q
,
úúQ R
PeopleSocials
úúS `
p
úúa b
)
úúb c
{
ùù 	
Console
ûû 
.
ûû 
	WriteLine
ûû 
(
ûû 
$str
ûû (
+
ûû) *
p
ûû+ ,
.
ûû, -
Url
ûû- 0
)
ûû0 1
;
ûû1 2
var
üü 
newItem
üü 
=
üü 
new
üü !
PeopleSocialsByDate
üü 1
(
üü1 2
)
üü2 3
;
üü3 4
var
†† 
px
†† 
=
†† 
GetInfo
†† 
(
†† 
DateTime
†† %
.
††% &
Now
††& )
.
††) *
Ticks
††* /
.
††/ 0
ToString
††0 8
(
††8 9
)
††9 :
,
††: ;
p
††< =
.
††= >
Url
††> A
)
††A B
;
††B C
newItem
¢¢ 
.
¢¢ 
Like
¢¢ 
=
¢¢ 
px
¢¢ 
.
¢¢ 
Like
¢¢ "
;
¢¢" #
newItem
££ 
.
££ 
Follow
££ 
=
££ 
px
££ 
.
££  
Follow
££  &
;
££& '
newItem
§§ 
.
§§ 
View
§§ 
=
§§ 
px
§§ 
.
§§ 
View
§§ "
;
§§" #
newItem
•• 
.
•• 
Share
•• 
=
•• 
px
•• 
.
•• 
Share
•• $
;
••$ %
newItem
¶¶ 
.
¶¶ 
PeopleSocialsId
¶¶ #
=
¶¶$ %
p
¶¶& '
.
¶¶' (
Id
¶¶( *
;
¶¶* +
return
ßß 
newItem
ßß 
;
ßß 
}
®® 	
public
™™ 
async
™™ 
Task
™™ 
<
™™ 
List
™™ 
<
™™ !
PeopleSocialsByDate
™™ 2
>
™™2 3
>
™™3 4$
CrawlSocialsByPeopleId
™™5 K
(
™™K L
UserDbContext
™™L Y
_context
™™Z b
,
™™b c
int
™™d g
peopleId
™™h p
)
™™p q
{
´´ 	
Console
¨¨ 
.
¨¨ 
	WriteLine
¨¨ 
(
¨¨ 
$str
¨¨ .
+
¨¨/ 0
peopleId
¨¨1 9
)
¨¨9 :
;
¨¨: ;
var
≠≠ 
socials
≠≠ 
=
≠≠ 
_context
≠≠ "
.
≠≠" #
PeopleSocials
≠≠# 0
.
≠≠0 1
Select
≠≠1 7
(
≠≠7 8
m
≠≠8 9
=>
≠≠: <
new
≠≠= @
PeopleSocials
≠≠A N
{
ÆÆ 
Id
ØØ 
=
ØØ 
m
ØØ 
.
ØØ 
Id
ØØ 
,
ØØ 
PeopleId
∞∞ 
=
∞∞ 
m
∞∞ 
.
∞∞ 
PeopleId
∞∞ %
,
∞∞% &
Url
±± 
=
±± 
m
±± 
.
±± 
Url
±± 
}
≤≤ 
)
≤≤ 
.
≤≤ 
Where
≤≤ 
(
≤≤ 
m
≤≤ 
=>
≤≤ 
m
≤≤ 
.
≤≤ 
PeopleId
≤≤ $
==
≤≤% '
peopleId
≤≤( 0
)
≤≤0 1
.
≤≤1 2
ToList
≤≤2 8
(
≤≤8 9
)
≤≤9 :
;
≤≤: ;
List
≥≥ 
<
≥≥ !
PeopleSocialsByDate
≥≥ $
>
≥≥$ %
crawlSocials
≥≥& 2
=
≥≥3 4
new
≥≥5 8
List
≥≥9 =
<
≥≥= >!
PeopleSocialsByDate
≥≥> Q
>
≥≥Q R
(
≥≥R S
)
≥≥S T
;
≥≥T U
for
¥¥ 
(
¥¥ 
var
¥¥ 
i
¥¥ 
=
¥¥ 
$num
¥¥ 
;
¥¥ 
i
¥¥ 
<
¥¥ 
socials
¥¥  '
.
¥¥' (
Count
¥¥( -
;
¥¥- .
i
¥¥/ 0
++
¥¥0 2
)
¥¥2 3
{
µµ 
var
∂∂ 
newItem
∂∂ 
=
∂∂ 
await
∂∂ #
CrawlSocial
∂∂$ /
(
∂∂/ 0
_context
∂∂0 8
,
∂∂8 9
socials
∂∂: A
[
∂∂A B
i
∂∂B C
]
∂∂C D
)
∂∂D E
;
∂∂E F
crawlSocials
∑∑ 
.
∑∑ 
Add
∑∑  
(
∑∑  !
newItem
∑∑! (
)
∑∑( )
;
∑∑) *
}
∏∏ 
return
∫∫ 
crawlSocials
∫∫ 
;
∫∫  
}
ªª 	
public
ΩΩ 
async
ΩΩ 
Task
ΩΩ 
<
ΩΩ 
bool
ΩΩ 
>
ΩΩ 
	CrawlFull
ΩΩ  )
(
ΩΩ) *
UserDbContext
ΩΩ* 7
_context
ΩΩ8 @
)
ΩΩ@ A
{
ææ 	
try
øø 
{
¿¿ 
if
¡¡ 
(
¡¡ 
_context
¡¡ 
==
¡¡ 
null
¡¡  $
)
¡¡$ %
{
¬¬ 
return
√√ 
false
√√  
;
√√  !
}
ƒƒ 
var
≈≈ 
peoples
≈≈ 
=
≈≈ 
_context
≈≈ &
.
≈≈& '
Peoples
≈≈' .
.
≈≈. /
Select
≈≈/ 5
(
≈≈5 6
m
≈≈6 7
=>
≈≈8 :
m
≈≈; <
.
≈≈< =
Id
≈≈= ?
)
≈≈? @
.
≈≈@ A
ToList
≈≈A G
(
≈≈G H
)
≈≈H I
;
≈≈I J
List
∆∆ 
<
∆∆ !
PeopleSocialsByDate
∆∆ (
>
∆∆( )
fullCrawledData
∆∆* 9
=
∆∆: ;
new
∆∆< ?
List
∆∆@ D
<
∆∆D E!
PeopleSocialsByDate
∆∆E X
>
∆∆X Y
(
∆∆Y Z
)
∆∆Z [
;
∆∆[ \
for
«« 
(
«« 
var
«« 
i
«« 
=
«« 
$num
«« 
;
«« 
i
««  !
<
««" #
peoples
««$ +
.
««+ ,
Count
««, 1
;
««1 2
i
««3 4
++
««4 6
)
««6 7
{
»» 
Console
…… 
.
…… 
	WriteLine
…… %
(
……% &
$str
……& 2
+
……3 4
i
……5 6
)
……6 7
;
……7 8
var
   
crawledData
   #
=
  $ %
await
  & +$
CrawlSocialsByPeopleId
  , B
(
  B C
_context
  C K
,
  K L
peoples
  M T
[
  T U
i
  U V
]
  V W
)
  W X
;
  X Y
fullCrawledData
ÀÀ #
=
ÀÀ$ %
fullCrawledData
ÀÀ& 5
.
ÀÀ5 6
Concat
ÀÀ6 <
(
ÀÀ< =
crawledData
ÀÀ= H
)
ÀÀH I
.
ÀÀI J
ToList
ÀÀJ P
(
ÀÀP Q
)
ÀÀQ R
;
ÀÀR S
}
ÃÃ 
await
ÕÕ 
_context
ÕÕ 
.
ÕÕ "
PeopleSocialsByDates
ÕÕ 3
.
ÕÕ3 4
AddRangeAsync
ÕÕ4 A
(
ÕÕA B
fullCrawledData
ÕÕB Q
)
ÕÕQ R
;
ÕÕR S
await
ŒŒ 
_context
ŒŒ 
.
ŒŒ 
SaveChangesAsync
ŒŒ /
(
ŒŒ/ 0
)
ŒŒ0 1
;
ŒŒ1 2
return
œœ 
true
œœ 
;
œœ 
}
–– 
catch
—— 
(
—— 
	Exception
—— 
ex
—— 
)
——  
{
““ 
Console
”” 
.
”” 
	WriteLine
”” !
(
””! "
ex
””" $
.
””$ %
Message
””% ,
)
””, -
;
””- .
return
‘‘ 
false
‘‘ 
;
‘‘ 
}
’’ 
}
÷÷ 	
}
◊◊ 
}ÿÿ ¿µ
GD:\web_angular\moduleAuth\Migrations\20180701102721_IdentityVer1.0.0.cs
	namespace 	
angular6DotnetCore
 
. 

Migrations '
{ 
public 

partial 
class 
IdentityVer100 '
:( )
	Migration* 3
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str #
,# $
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
string& ,
>, -
(- .
nullable. 6
:6 7
false8 =
)= >
,> ?
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
	maxLength0 9
:9 :
$num; >
,> ?
nullable@ H
:H I
trueJ N
)N O
,O P
NormalizedName "
=# $
table% *
.* +
Column+ 1
<1 2
string2 8
>8 9
(9 :
	maxLength: C
:C D
$numE H
,H I
nullableJ R
:R S
trueT X
)X Y
,Y Z
ConcurrencyStamp $
=% &
table' ,
., -
Column- 3
<3 4
string4 :
>: ;
(; <
nullable< D
:D E
trueF J
)J K
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 5
,5 6
x7 8
=>9 ;
x< =
.= >
Id> @
)@ A
;A B
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str #
,# $
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
string& ,
>, -
(- .
nullable. 6
:6 7
false8 =
)= >
,> ?
UserName 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
	maxLength4 =
:= >
$num? B
,B C
nullableD L
:L M
trueN R
)R S
,S T
NormalizedUserName &
=' (
table) .
.. /
Column/ 5
<5 6
string6 <
>< =
(= >
	maxLength> G
:G H
$numI L
,L M
nullableN V
:V W
trueX \
)\ ]
,] ^
Email   
=   
table   !
.  ! "
Column  " (
<  ( )
string  ) /
>  / 0
(  0 1
	maxLength  1 :
:  : ;
$num  < ?
,  ? @
nullable  A I
:  I J
true  K O
)  O P
,  P Q
NormalizedEmail!! #
=!!$ %
table!!& +
.!!+ ,
Column!!, 2
<!!2 3
string!!3 9
>!!9 :
(!!: ;
	maxLength!!; D
:!!D E
$num!!F I
,!!I J
nullable!!K S
:!!S T
true!!U Y
)!!Y Z
,!!Z [
EmailConfirmed"" "
=""# $
table""% *
.""* +
Column""+ 1
<""1 2
bool""2 6
>""6 7
(""7 8
nullable""8 @
:""@ A
false""B G
)""G H
,""H I
PasswordHash##  
=##! "
table### (
.##( )
Column##) /
<##/ 0
string##0 6
>##6 7
(##7 8
nullable##8 @
:##@ A
true##B F
)##F G
,##G H
SecurityStamp$$ !
=$$" #
table$$$ )
.$$) *
Column$$* 0
<$$0 1
string$$1 7
>$$7 8
($$8 9
nullable$$9 A
:$$A B
true$$C G
)$$G H
,$$H I
ConcurrencyStamp%% $
=%%% &
table%%' ,
.%%, -
Column%%- 3
<%%3 4
string%%4 :
>%%: ;
(%%; <
nullable%%< D
:%%D E
true%%F J
)%%J K
,%%K L
PhoneNumber&& 
=&&  !
table&&" '
.&&' (
Column&&( .
<&&. /
string&&/ 5
>&&5 6
(&&6 7
nullable&&7 ?
:&&? @
true&&A E
)&&E F
,&&F G 
PhoneNumberConfirmed'' (
='') *
table''+ 0
.''0 1
Column''1 7
<''7 8
bool''8 <
>''< =
(''= >
nullable''> F
:''F G
false''H M
)''M N
,''N O
TwoFactorEnabled(( $
=((% &
table((' ,
.((, -
Column((- 3
<((3 4
bool((4 8
>((8 9
(((9 :
nullable((: B
:((B C
false((D I
)((I J
,((J K

LockoutEnd)) 
=))  
table))! &
.))& '
Column))' -
<))- .
DateTimeOffset)). <
>))< =
())= >
nullable))> F
:))F G
true))H L
)))L M
,))M N
LockoutEnabled** "
=**# $
table**% *
.*** +
Column**+ 1
<**1 2
bool**2 6
>**6 7
(**7 8
nullable**8 @
:**@ A
false**B G
)**G H
,**H I
AccessFailedCount++ %
=++& '
table++( -
.++- .
Column++. 4
<++4 5
int++5 8
>++8 9
(++9 :
nullable++: B
:++B C
false++D I
)++I J
},, 
,,, 
constraints-- 
:-- 
table-- "
=>--# %
{.. 
table// 
.// 

PrimaryKey// $
(//$ %
$str//% 5
,//5 6
x//7 8
=>//9 ;
x//< =
.//= >
Id//> @
)//@ A
;//A B
}00 
)00 
;00 
migrationBuilder22 
.22 
CreateTable22 (
(22( )
name33 
:33 
$str33 (
,33( )
columns44 
:44 
table44 
=>44 !
new44" %
{55 
Id66 
=66 
table66 
.66 
Column66 %
<66% &
int66& )
>66) *
(66* +
nullable66+ 3
:663 4
false665 :
)66: ;
.77 

Annotation77 #
(77# $
$str77$ G
,77G H,
 SqlServerValueGenerationStrategy77I i
.77i j
IdentityColumn77j x
)77x y
,77y z
RoleId88 
=88 
table88 "
.88" #
Column88# )
<88) *
string88* 0
>880 1
(881 2
nullable882 :
:88: ;
false88< A
)88A B
,88B C
	ClaimType99 
=99 
table99  %
.99% &
Column99& ,
<99, -
string99- 3
>993 4
(994 5
nullable995 =
:99= >
true99? C
)99C D
,99D E

ClaimValue:: 
=::  
table::! &
.::& '
Column::' -
<::- .
string::. 4
>::4 5
(::5 6
nullable::6 >
:::> ?
true::@ D
)::D E
};; 
,;; 
constraints<< 
:<< 
table<< "
=><<# %
{== 
table>> 
.>> 

PrimaryKey>> $
(>>$ %
$str>>% :
,>>: ;
x>>< =
=>>>> @
x>>A B
.>>B C
Id>>C E
)>>E F
;>>F G
table?? 
.?? 

ForeignKey?? $
(??$ %
name@@ 
:@@ 
$str@@ F
,@@F G
columnAA 
:AA 
xAA  !
=>AA" $
xAA% &
.AA& '
RoleIdAA' -
,AA- .
principalTableBB &
:BB& '
$strBB( 5
,BB5 6
principalColumnCC '
:CC' (
$strCC) -
,CC- .
onDeleteDD  
:DD  !
ReferentialActionDD" 3
.DD3 4
CascadeDD4 ;
)DD; <
;DD< =
}EE 
)EE 
;EE 
migrationBuilderGG 
.GG 
CreateTableGG (
(GG( )
nameHH 
:HH 
$strHH (
,HH( )
columnsII 
:II 
tableII 
=>II !
newII" %
{JJ 
IdKK 
=KK 
tableKK 
.KK 
ColumnKK %
<KK% &
intKK& )
>KK) *
(KK* +
nullableKK+ 3
:KK3 4
falseKK5 :
)KK: ;
.LL 

AnnotationLL #
(LL# $
$strLL$ G
,LLG H,
 SqlServerValueGenerationStrategyLLI i
.LLi j
IdentityColumnLLj x
)LLx y
,LLy z
UserIdMM 
=MM 
tableMM "
.MM" #
ColumnMM# )
<MM) *
stringMM* 0
>MM0 1
(MM1 2
nullableMM2 :
:MM: ;
falseMM< A
)MMA B
,MMB C
	ClaimTypeNN 
=NN 
tableNN  %
.NN% &
ColumnNN& ,
<NN, -
stringNN- 3
>NN3 4
(NN4 5
nullableNN5 =
:NN= >
trueNN? C
)NNC D
,NND E

ClaimValueOO 
=OO  
tableOO! &
.OO& '
ColumnOO' -
<OO- .
stringOO. 4
>OO4 5
(OO5 6
nullableOO6 >
:OO> ?
trueOO@ D
)OOD E
}PP 
,PP 
constraintsQQ 
:QQ 
tableQQ "
=>QQ# %
{RR 
tableSS 
.SS 

PrimaryKeySS $
(SS$ %
$strSS% :
,SS: ;
xSS< =
=>SS> @
xSSA B
.SSB C
IdSSC E
)SSE F
;SSF G
tableTT 
.TT 

ForeignKeyTT $
(TT$ %
nameUU 
:UU 
$strUU F
,UUF G
columnVV 
:VV 
xVV  !
=>VV" $
xVV% &
.VV& '
UserIdVV' -
,VV- .
principalTableWW &
:WW& '
$strWW( 5
,WW5 6
principalColumnXX '
:XX' (
$strXX) -
,XX- .
onDeleteYY  
:YY  !
ReferentialActionYY" 3
.YY3 4
CascadeYY4 ;
)YY; <
;YY< =
}ZZ 
)ZZ 
;ZZ 
migrationBuilder\\ 
.\\ 
CreateTable\\ (
(\\( )
name]] 
:]] 
$str]] (
,]]( )
columns^^ 
:^^ 
table^^ 
=>^^ !
new^^" %
{__ 
LoginProvider`` !
=``" #
table``$ )
.``) *
Column``* 0
<``0 1
string``1 7
>``7 8
(``8 9
	maxLength``9 B
:``B C
$num``D G
,``G H
nullable``I Q
:``Q R
false``S X
)``X Y
,``Y Z
ProviderKeyaa 
=aa  !
tableaa" '
.aa' (
Columnaa( .
<aa. /
stringaa/ 5
>aa5 6
(aa6 7
	maxLengthaa7 @
:aa@ A
$numaaB E
,aaE F
nullableaaG O
:aaO P
falseaaQ V
)aaV W
,aaW X
ProviderDisplayNamebb '
=bb( )
tablebb* /
.bb/ 0
Columnbb0 6
<bb6 7
stringbb7 =
>bb= >
(bb> ?
nullablebb? G
:bbG H
truebbI M
)bbM N
,bbN O
UserIdcc 
=cc 
tablecc "
.cc" #
Columncc# )
<cc) *
stringcc* 0
>cc0 1
(cc1 2
nullablecc2 :
:cc: ;
falsecc< A
)ccA B
}dd 
,dd 
constraintsee 
:ee 
tableee "
=>ee# %
{ff 
tablegg 
.gg 

PrimaryKeygg $
(gg$ %
$strgg% :
,gg: ;
xgg< =
=>gg> @
newggA D
{ggE F
xggG H
.ggH I
LoginProviderggI V
,ggV W
xggX Y
.ggY Z
ProviderKeyggZ e
}ggf g
)ggg h
;ggh i
tablehh 
.hh 

ForeignKeyhh $
(hh$ %
nameii 
:ii 
$strii F
,iiF G
columnjj 
:jj 
xjj  !
=>jj" $
xjj% &
.jj& '
UserIdjj' -
,jj- .
principalTablekk &
:kk& '
$strkk( 5
,kk5 6
principalColumnll '
:ll' (
$strll) -
,ll- .
onDeletemm  
:mm  !
ReferentialActionmm" 3
.mm3 4
Cascademm4 ;
)mm; <
;mm< =
}nn 
)nn 
;nn 
migrationBuilderpp 
.pp 
CreateTablepp (
(pp( )
nameqq 
:qq 
$strqq '
,qq' (
columnsrr 
:rr 
tablerr 
=>rr !
newrr" %
{ss 
UserIdtt 
=tt 
tablett "
.tt" #
Columntt# )
<tt) *
stringtt* 0
>tt0 1
(tt1 2
nullablett2 :
:tt: ;
falsett< A
)ttA B
,ttB C
RoleIduu 
=uu 
tableuu "
.uu" #
Columnuu# )
<uu) *
stringuu* 0
>uu0 1
(uu1 2
nullableuu2 :
:uu: ;
falseuu< A
)uuA B
}vv 
,vv 
constraintsww 
:ww 
tableww "
=>ww# %
{xx 
tableyy 
.yy 

PrimaryKeyyy $
(yy$ %
$stryy% 9
,yy9 :
xyy; <
=>yy= ?
newyy@ C
{yyD E
xyyF G
.yyG H
UserIdyyH N
,yyN O
xyyP Q
.yyQ R
RoleIdyyR X
}yyY Z
)yyZ [
;yy[ \
tablezz 
.zz 

ForeignKeyzz $
(zz$ %
name{{ 
:{{ 
$str{{ E
,{{E F
column|| 
:|| 
x||  !
=>||" $
x||% &
.||& '
RoleId||' -
,||- .
principalTable}} &
:}}& '
$str}}( 5
,}}5 6
principalColumn~~ '
:~~' (
$str~~) -
,~~- .
onDelete  
:  !
ReferentialAction" 3
.3 4
Cascade4 ;
); <
;< =
table
ÄÄ 
.
ÄÄ 

ForeignKey
ÄÄ $
(
ÄÄ$ %
name
ÅÅ 
:
ÅÅ 
$str
ÅÅ E
,
ÅÅE F
column
ÇÇ 
:
ÇÇ 
x
ÇÇ  !
=>
ÇÇ" $
x
ÇÇ% &
.
ÇÇ& '
UserId
ÇÇ' -
,
ÇÇ- .
principalTable
ÉÉ &
:
ÉÉ& '
$str
ÉÉ( 5
,
ÉÉ5 6
principalColumn
ÑÑ '
:
ÑÑ' (
$str
ÑÑ) -
,
ÑÑ- .
onDelete
ÖÖ  
:
ÖÖ  !
ReferentialAction
ÖÖ" 3
.
ÖÖ3 4
Cascade
ÖÖ4 ;
)
ÖÖ; <
;
ÖÖ< =
}
ÜÜ 
)
ÜÜ 
;
ÜÜ 
migrationBuilder
àà 
.
àà 
CreateTable
àà (
(
àà( )
name
ââ 
:
ââ 
$str
ââ (
,
ââ( )
columns
ää 
:
ää 
table
ää 
=>
ää !
new
ää" %
{
ãã 
UserId
åå 
=
åå 
table
åå "
.
åå" #
Column
åå# )
<
åå) *
string
åå* 0
>
åå0 1
(
åå1 2
nullable
åå2 :
:
åå: ;
false
åå< A
)
ååA B
,
ååB C
LoginProvider
çç !
=
çç" #
table
çç$ )
.
çç) *
Column
çç* 0
<
çç0 1
string
çç1 7
>
çç7 8
(
çç8 9
	maxLength
çç9 B
:
ççB C
$num
ççD G
,
ççG H
nullable
ççI Q
:
ççQ R
false
ççS X
)
ççX Y
,
ççY Z
Name
éé 
=
éé 
table
éé  
.
éé  !
Column
éé! '
<
éé' (
string
éé( .
>
éé. /
(
éé/ 0
	maxLength
éé0 9
:
éé9 :
$num
éé; >
,
éé> ?
nullable
éé@ H
:
ééH I
false
ééJ O
)
ééO P
,
ééP Q
Value
èè 
=
èè 
table
èè !
.
èè! "
Column
èè" (
<
èè( )
string
èè) /
>
èè/ 0
(
èè0 1
nullable
èè1 9
:
èè9 :
true
èè; ?
)
èè? @
}
êê 
,
êê 
constraints
ëë 
:
ëë 
table
ëë "
=>
ëë# %
{
íí 
table
ìì 
.
ìì 

PrimaryKey
ìì $
(
ìì$ %
$str
ìì% :
,
ìì: ;
x
ìì< =
=>
ìì> @
new
ììA D
{
ììE F
x
ììG H
.
ììH I
UserId
ììI O
,
ììO P
x
ììQ R
.
ììR S
LoginProvider
ììS `
,
ìì` a
x
ììb c
.
ììc d
Name
ììd h
}
ììi j
)
ììj k
;
ììk l
table
îî 
.
îî 

ForeignKey
îî $
(
îî$ %
name
ïï 
:
ïï 
$str
ïï F
,
ïïF G
column
ññ 
:
ññ 
x
ññ  !
=>
ññ" $
x
ññ% &
.
ññ& '
UserId
ññ' -
,
ññ- .
principalTable
óó &
:
óó& '
$str
óó( 5
,
óó5 6
principalColumn
òò '
:
òò' (
$str
òò) -
,
òò- .
onDelete
ôô  
:
ôô  !
ReferentialAction
ôô" 3
.
ôô3 4
Cascade
ôô4 ;
)
ôô; <
;
ôô< =
}
öö 
)
öö 
;
öö 
migrationBuilder
úú 
.
úú 
CreateIndex
úú (
(
úú( )
name
ùù 
:
ùù 
$str
ùù 2
,
ùù2 3
table
ûû 
:
ûû 
$str
ûû )
,
ûû) *
column
üü 
:
üü 
$str
üü  
)
üü  !
;
üü! "
migrationBuilder
°° 
.
°° 
CreateIndex
°° (
(
°°( )
name
¢¢ 
:
¢¢ 
$str
¢¢ %
,
¢¢% &
table
££ 
:
££ 
$str
££ $
,
££$ %
column
§§ 
:
§§ 
$str
§§ (
,
§§( )
unique
•• 
:
•• 
true
•• 
,
•• 
filter
¶¶ 
:
¶¶ 
$str
¶¶ 6
)
¶¶6 7
;
¶¶7 8
migrationBuilder
®® 
.
®® 
CreateIndex
®® (
(
®®( )
name
©© 
:
©© 
$str
©© 2
,
©©2 3
table
™™ 
:
™™ 
$str
™™ )
,
™™) *
column
´´ 
:
´´ 
$str
´´  
)
´´  !
;
´´! "
migrationBuilder
≠≠ 
.
≠≠ 
CreateIndex
≠≠ (
(
≠≠( )
name
ÆÆ 
:
ÆÆ 
$str
ÆÆ 2
,
ÆÆ2 3
table
ØØ 
:
ØØ 
$str
ØØ )
,
ØØ) *
column
∞∞ 
:
∞∞ 
$str
∞∞  
)
∞∞  !
;
∞∞! "
migrationBuilder
≤≤ 
.
≤≤ 
CreateIndex
≤≤ (
(
≤≤( )
name
≥≥ 
:
≥≥ 
$str
≥≥ 1
,
≥≥1 2
table
¥¥ 
:
¥¥ 
$str
¥¥ (
,
¥¥( )
column
µµ 
:
µµ 
$str
µµ  
)
µµ  !
;
µµ! "
migrationBuilder
∑∑ 
.
∑∑ 
CreateIndex
∑∑ (
(
∑∑( )
name
∏∏ 
:
∏∏ 
$str
∏∏ "
,
∏∏" #
table
ππ 
:
ππ 
$str
ππ $
,
ππ$ %
column
∫∫ 
:
∫∫ 
$str
∫∫ )
)
∫∫) *
;
∫∫* +
migrationBuilder
ºº 
.
ºº 
CreateIndex
ºº (
(
ºº( )
name
ΩΩ 
:
ΩΩ 
$str
ΩΩ %
,
ΩΩ% &
table
ææ 
:
ææ 
$str
ææ $
,
ææ$ %
column
øø 
:
øø 
$str
øø ,
,
øø, -
unique
¿¿ 
:
¿¿ 
true
¿¿ 
,
¿¿ 
filter
¡¡ 
:
¡¡ 
$str
¡¡ :
)
¡¡: ;
;
¡¡; <
}
¬¬ 	
	protected
ƒƒ 
override
ƒƒ 
void
ƒƒ 
Down
ƒƒ  $
(
ƒƒ$ %
MigrationBuilder
ƒƒ% 5
migrationBuilder
ƒƒ6 F
)
ƒƒF G
{
≈≈ 	
migrationBuilder
∆∆ 
.
∆∆ 
	DropTable
∆∆ &
(
∆∆& '
name
«« 
:
«« 
$str
«« (
)
««( )
;
««) *
migrationBuilder
…… 
.
…… 
	DropTable
…… &
(
……& '
name
   
:
   
$str
   (
)
  ( )
;
  ) *
migrationBuilder
ÃÃ 
.
ÃÃ 
	DropTable
ÃÃ &
(
ÃÃ& '
name
ÕÕ 
:
ÕÕ 
$str
ÕÕ (
)
ÕÕ( )
;
ÕÕ) *
migrationBuilder
œœ 
.
œœ 
	DropTable
œœ &
(
œœ& '
name
–– 
:
–– 
$str
–– '
)
––' (
;
––( )
migrationBuilder
““ 
.
““ 
	DropTable
““ &
(
““& '
name
”” 
:
”” 
$str
”” (
)
””( )
;
””) *
migrationBuilder
’’ 
.
’’ 
	DropTable
’’ &
(
’’& '
name
÷÷ 
:
÷÷ 
$str
÷÷ #
)
÷÷# $
;
÷÷$ %
migrationBuilder
ÿÿ 
.
ÿÿ 
	DropTable
ÿÿ &
(
ÿÿ& '
name
ŸŸ 
:
ŸŸ 
$str
ŸŸ #
)
ŸŸ# $
;
ŸŸ$ %
}
⁄⁄ 	
}
€€ 
}‹‹ Ê´
GD:\web_angular\moduleAuth\Migrations\20180706160416_IdentityVer1.1.0.cs
	namespace 	
angular6DotnetCore
 
. 

Migrations '
{ 
public 

partial 
class 
IdentityVer110 '
:( )
	Migration* 3
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str 
, 
table 
: 
$str )
,) *
nullable 
: 
false 
,  

oldClrType 
: 
typeof "
(" #
string# )
)) *
,* +
oldMaxLength 
: 
$num !
)! "
;" #
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str %
,% &
table 
: 
$str )
,) *
nullable 
: 
false 
,  

oldClrType 
: 
typeof "
(" #
string# )
)) *
,* +
oldMaxLength 
: 
$num !
)! "
;" #
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str #
,# $
table 
: 
$str )
,) *
nullable 
: 
false 
,  

oldClrType 
: 
typeof "
(" #
string# )
)) *
,* +
oldMaxLength 
: 
$num !
)! "
;" #
migrationBuilder   
.   
AlterColumn   (
<  ( )
string  ) /
>  / 0
(  0 1
name!! 
:!! 
$str!! %
,!!% &
table"" 
:"" 
$str"" )
,"") *
nullable## 
:## 
false## 
,##  

oldClrType$$ 
:$$ 
typeof$$ "
($$" #
string$$# )
)$$) *
,$$* +
oldMaxLength%% 
:%% 
$num%% !
)%%! "
;%%" #
migrationBuilder'' 
.'' 
CreateTable'' (
(''( )
name(( 
:(( 
$str(( 
,(( 
columns)) 
:)) 
table)) 
=>)) !
new))" %
{** 
Id++ 
=++ 
table++ 
.++ 
Column++ %
<++% &
int++& )
>++) *
(++* +
nullable+++ 3
:++3 4
false++5 :
)++: ;
.,, 

Annotation,, #
(,,# $
$str,,$ G
,,,G H,
 SqlServerValueGenerationStrategy,,I i
.,,i j
IdentityColumn,,j x
),,x y
,,,y z
Name-- 
=-- 
table--  
.--  !
Column--! '
<--' (
string--( .
>--. /
(--/ 0
nullable--0 8
:--8 9
true--: >
)--> ?
,--? @
ImageUrl.. 
=.. 
table.. $
...$ %
Column..% +
<..+ ,
string.., 2
>..2 3
(..3 4
nullable..4 <
:..< =
true..> B
)..B C
,..C D
Class// 
=// 
table// !
.//! "
Column//" (
<//( )
string//) /
>/// 0
(//0 1
nullable//1 9
://9 :
true//; ?
)//? @
,//@ A
	Activated00 
=00 
table00  %
.00% &
Column00& ,
<00, -
bool00- 1
>001 2
(002 3
nullable003 ;
:00; <
false00= B
)00B C
,00C D
TopIndex11 
=11 
table11 $
.11$ %
Column11% +
<11+ ,
int11, /
>11/ 0
(110 1
nullable111 9
:119 :
true11; ?
)11? @
,11@ A
ActivatedDate22 !
=22" #
table22$ )
.22) *
Column22* 0
<220 1
DateTime221 9
>229 :
(22: ;
nullable22; C
:22C D
true22E I
)22I J
,22J K
CreatedDate33 
=33  !
table33" '
.33' (
Column33( .
<33. /
DateTime33/ 7
>337 8
(338 9
nullable339 A
:33A B
true33C G
)33G H
,33H I
UploadedDate44  
=44! "
table44# (
.44( )
Column44) /
<44/ 0
DateTime440 8
>448 9
(449 :
nullable44: B
:44B C
true44D H
)44H I
,44I J
TypeParentId55  
=55! "
table55# (
.55( )
Column55) /
<55/ 0
int550 3
>553 4
(554 5
nullable555 =
:55= >
true55? C
)55C D
,55D E
PostId66 
=66 
table66 "
.66" #
Column66# )
<66) *
int66* -
>66- .
(66. /
nullable66/ 7
:667 8
true669 =
)66= >
}77 
,77 
constraints88 
:88 
table88 "
=>88# %
{99 
table:: 
.:: 

PrimaryKey:: $
(::$ %
$str::% .
,::. /
x::0 1
=>::2 4
x::5 6
.::6 7
Id::7 9
)::9 :
;::: ;
table;; 
.;; 

ForeignKey;; $
(;;$ %
name<< 
:<< 
$str<< 9
,<<9 :
column== 
:== 
x==  !
=>==" $
x==% &
.==& '
TypeParentId==' 3
,==3 4
principalTable>> &
:>>& '
$str>>( .
,>>. /
principalColumn?? '
:??' (
$str??) -
,??- .
onDelete@@  
:@@  !
ReferentialAction@@" 3
.@@3 4
Restrict@@4 <
)@@< =
;@@= >
}AA 
)AA 
;AA 
migrationBuilderCC 
.CC 
CreateTableCC (
(CC( )
nameDD 
:DD 
$strDD 
,DD 
columnsEE 
:EE 
tableEE 
=>EE !
newEE" %
{FF 
IdGG 
=GG 
tableGG 
.GG 
ColumnGG %
<GG% &
intGG& )
>GG) *
(GG* +
nullableGG+ 3
:GG3 4
falseGG5 :
)GG: ;
.HH 

AnnotationHH #
(HH# $
$strHH$ G
,HHG H,
 SqlServerValueGenerationStrategyHHI i
.HHi j
IdentityColumnHHj x
)HHx y
,HHy z
TitleII 
=II 
tableII !
.II! "
ColumnII" (
<II( )
stringII) /
>II/ 0
(II0 1
nullableII1 9
:II9 :
trueII; ?
)II? @
,II@ A
MessageJJ 
=JJ 
tableJJ #
.JJ# $
ColumnJJ$ *
<JJ* +
stringJJ+ 1
>JJ1 2
(JJ2 3
nullableJJ3 ;
:JJ; <
trueJJ= A
)JJA B
,JJB C
ShortKK 
=KK 
tableKK !
.KK! "
ColumnKK" (
<KK( )
stringKK) /
>KK/ 0
(KK0 1
nullableKK1 9
:KK9 :
trueKK; ?
)KK? @
,KK@ A
StarLL 
=LL 
tableLL  
.LL  !
ColumnLL! '
<LL' (
intLL( +
>LL+ ,
(LL, -
nullableLL- 5
:LL5 6
trueLL7 ;
)LL; <
,LL< =
TopIndexMM 
=MM 
tableMM $
.MM$ %
ColumnMM% +
<MM+ ,
intMM, /
>MM/ 0
(MM0 1
nullableMM1 9
:MM9 :
trueMM; ?
)MM? @
,MM@ A
TagsNN 
=NN 
tableNN  
.NN  !
ColumnNN! '
<NN' (
stringNN( .
>NN. /
(NN/ 0
nullableNN0 8
:NN8 9
trueNN: >
)NN> ?
,NN? @
CostOO 
=OO 
tableOO  
.OO  !
ColumnOO! '
<OO' (
intOO( +
>OO+ ,
(OO, -
nullableOO- 5
:OO5 6
trueOO7 ;
)OO; <
,OO< =
SalePP 
=PP 
tablePP  
.PP  !
ColumnPP! '
<PP' (
intPP( +
>PP+ ,
(PP, -
nullablePP- 5
:PP5 6
truePP7 ;
)PP; <
,PP< =
CurrencyUnitIdQQ "
=QQ# $
tableQQ% *
.QQ* +
ColumnQQ+ 1
<QQ1 2
intQQ2 5
>QQ5 6
(QQ6 7
nullableQQ7 ?
:QQ? @
trueQQA E
)QQE F
,QQF G
CurrencyUnitSaleIdRR &
=RR' (
tableRR) .
.RR. /
ColumnRR/ 5
<RR5 6
intRR6 9
>RR9 :
(RR: ;
nullableRR; C
:RRC D
trueRRE I
)RRI J
,RRJ K
ImageUrlSS 
=SS 
tableSS $
.SS$ %
ColumnSS% +
<SS+ ,
stringSS, 2
>SS2 3
(SS3 4
nullableSS4 <
:SS< =
trueSS> B
)SSB C
,SSC D
ThumbUrlTT 
=TT 
tableTT $
.TT$ %
ColumnTT% +
<TT+ ,
stringTT, 2
>TT2 3
(TT3 4
nullableTT4 <
:TT< =
trueTT> B
)TTB C
,TTC D
StateIdUU 
=UU 
tableUU #
.UU# $
ColumnUU$ *
<UU* +
intUU+ .
>UU. /
(UU/ 0
nullableUU0 8
:UU8 9
falseUU: ?
)UU? @
,UU@ A
UserIdVV 
=VV 
tableVV "
.VV" #
ColumnVV# )
<VV) *
stringVV* 0
>VV0 1
(VV1 2
nullableVV2 :
:VV: ;
trueVV< @
)VV@ A
,VVA B
CreatedDateWW 
=WW  !
tableWW" '
.WW' (
ColumnWW( .
<WW. /
DateTimeWW/ 7
>WW7 8
(WW8 9
nullableWW9 A
:WWA B
trueWWC G
)WWG H
,WWH I
UploadedDateXX  
=XX! "
tableXX# (
.XX( )
ColumnXX) /
<XX/ 0
DateTimeXX0 8
>XX8 9
(XX9 :
nullableXX: B
:XXB C
trueXXD H
)XXH I
,XXI J
	ActivatedYY 
=YY 
tableYY  %
.YY% &
ColumnYY& ,
<YY, -
boolYY- 1
>YY1 2
(YY2 3
nullableYY3 ;
:YY; <
falseYY= B
)YYB C
,YYC D
ActivatedDateZZ !
=ZZ" #
tableZZ$ )
.ZZ) *
ColumnZZ* 0
<ZZ0 1
DateTimeZZ1 9
>ZZ9 :
(ZZ: ;
nullableZZ; C
:ZZC D
trueZZE I
)ZZI J
,ZZJ K
PostId[[ 
=[[ 
table[[ "
.[[" #
Column[[# )
<[[) *
int[[* -
>[[- .
([[. /
nullable[[/ 7
:[[7 8
true[[9 =
)[[= >
}\\ 
,\\ 
constraints]] 
:]] 
table]] "
=>]]# %
{^^ 
table__ 
.__ 

PrimaryKey__ $
(__$ %
$str__% .
,__. /
x__0 1
=>__2 4
x__5 6
.__6 7
Id__7 9
)__9 :
;__: ;
table`` 
.`` 

ForeignKey`` $
(``$ %
nameaa 
:aa 
$straa ;
,aa; <
columnbb 
:bb 
xbb  !
=>bb" $
xbb% &
.bb& '
CurrencyUnitIdbb' 5
,bb5 6
principalTablecc &
:cc& '
$strcc( .
,cc. /
principalColumndd '
:dd' (
$strdd) -
,dd- .
onDeleteee  
:ee  !
ReferentialActionee" 3
.ee3 4
Restrictee4 <
)ee< =
;ee= >
tableff 
.ff 

ForeignKeyff $
(ff$ %
namegg 
:gg 
$strgg ?
,gg? @
columnhh 
:hh 
xhh  !
=>hh" $
xhh% &
.hh& '
CurrencyUnitSaleIdhh' 9
,hh9 :
principalTableii &
:ii& '
$strii( .
,ii. /
principalColumnjj '
:jj' (
$strjj) -
,jj- .
onDeletekk  
:kk  !
ReferentialActionkk" 3
.kk3 4
Restrictkk4 <
)kk< =
;kk= >
tablell 
.ll 

ForeignKeyll $
(ll$ %
namemm 
:mm 
$strmm 3
,mm3 4
columnnn 
:nn 
xnn  !
=>nn" $
xnn% &
.nn& '
PostIdnn' -
,nn- .
principalTableoo &
:oo& '
$stroo( .
,oo. /
principalColumnpp '
:pp' (
$strpp) -
,pp- .
onDeleteqq  
:qq  !
ReferentialActionqq" 3
.qq3 4
Restrictqq4 <
)qq< =
;qq= >
tablerr 
.rr 

ForeignKeyrr $
(rr$ %
namess 
:ss 
$strss 4
,ss4 5
columntt 
:tt 
xtt  !
=>tt" $
xtt% &
.tt& '
StateIdtt' .
,tt. /
principalTableuu &
:uu& '
$struu( .
,uu. /
principalColumnvv '
:vv' (
$strvv) -
,vv- .
onDeleteww  
:ww  !
ReferentialActionww" 3
.ww3 4
Cascadeww4 ;
)ww; <
;ww< =
tablexx 
.xx 

ForeignKeyxx $
(xx$ %
nameyy 
:yy 
$stryy :
,yy: ;
columnzz 
:zz 
xzz  !
=>zz" $
xzz% &
.zz& '
UserIdzz' -
,zz- .
principalTable{{ &
:{{& '
$str{{( 5
,{{5 6
principalColumn|| '
:||' (
$str||) -
,||- .
onDelete}}  
:}}  !
ReferentialAction}}" 3
.}}3 4
Restrict}}4 <
)}}< =
;}}= >
}~~ 
)~~ 
;~~ 
migrationBuilder
ÄÄ 
.
ÄÄ 
CreateIndex
ÄÄ (
(
ÄÄ( )
name
ÅÅ 
:
ÅÅ 
$str
ÅÅ .
,
ÅÅ. /
table
ÇÇ 
:
ÇÇ 
$str
ÇÇ 
,
ÇÇ 
column
ÉÉ 
:
ÉÉ 
$str
ÉÉ (
)
ÉÉ( )
;
ÉÉ) *
migrationBuilder
ÖÖ 
.
ÖÖ 
CreateIndex
ÖÖ (
(
ÖÖ( )
name
ÜÜ 
:
ÜÜ 
$str
ÜÜ 2
,
ÜÜ2 3
table
áá 
:
áá 
$str
áá 
,
áá 
column
àà 
:
àà 
$str
àà ,
)
àà, -
;
àà- .
migrationBuilder
ää 
.
ää 
CreateIndex
ää (
(
ää( )
name
ãã 
:
ãã 
$str
ãã &
,
ãã& '
table
åå 
:
åå 
$str
åå 
,
åå 
column
çç 
:
çç 
$str
çç  
)
çç  !
;
çç! "
migrationBuilder
èè 
.
èè 
CreateIndex
èè (
(
èè( )
name
êê 
:
êê 
$str
êê '
,
êê' (
table
ëë 
:
ëë 
$str
ëë 
,
ëë 
column
íí 
:
íí 
$str
íí !
)
íí! "
;
íí" #
migrationBuilder
îî 
.
îî 
CreateIndex
îî (
(
îî( )
name
ïï 
:
ïï 
$str
ïï &
,
ïï& '
table
ññ 
:
ññ 
$str
ññ 
,
ññ 
column
óó 
:
óó 
$str
óó  
)
óó  !
;
óó! "
migrationBuilder
ôô 
.
ôô 
CreateIndex
ôô (
(
ôô( )
name
öö 
:
öö 
$str
öö &
,
öö& '
table
õõ 
:
õõ 
$str
õõ 
,
õõ 
column
úú 
:
úú 
$str
úú  
)
úú  !
;
úú! "
migrationBuilder
ûû 
.
ûû 
CreateIndex
ûû (
(
ûû( )
name
üü 
:
üü 
$str
üü ,
,
üü, -
table
†† 
:
†† 
$str
†† 
,
†† 
column
°° 
:
°° 
$str
°° &
)
°°& '
;
°°' (
migrationBuilder
££ 
.
££ 
AddForeignKey
££ *
(
££* +
name
§§ 
:
§§ 
$str
§§ +
,
§§+ ,
table
•• 
:
•• 
$str
•• 
,
•• 
column
¶¶ 
:
¶¶ 
$str
¶¶  
,
¶¶  !
principalTable
ßß 
:
ßß 
$str
ßß  &
,
ßß& '
principalColumn
®® 
:
®®  
$str
®®! %
,
®®% &
onDelete
©© 
:
©© 
ReferentialAction
©© +
.
©©+ ,
Restrict
©©, 4
)
©©4 5
;
©©5 6
}
™™ 	
	protected
¨¨ 
override
¨¨ 
void
¨¨ 
Down
¨¨  $
(
¨¨$ %
MigrationBuilder
¨¨% 5
migrationBuilder
¨¨6 F
)
¨¨F G
{
≠≠ 	
migrationBuilder
ÆÆ 
.
ÆÆ 
DropForeignKey
ÆÆ +
(
ÆÆ+ ,
name
ØØ 
:
ØØ 
$str
ØØ 3
,
ØØ3 4
table
∞∞ 
:
∞∞ 
$str
∞∞ 
)
∞∞ 
;
∞∞ 
migrationBuilder
≤≤ 
.
≤≤ 
DropForeignKey
≤≤ +
(
≤≤+ ,
name
≥≥ 
:
≥≥ 
$str
≥≥ 7
,
≥≥7 8
table
¥¥ 
:
¥¥ 
$str
¥¥ 
)
¥¥ 
;
¥¥ 
migrationBuilder
∂∂ 
.
∂∂ 
DropForeignKey
∂∂ +
(
∂∂+ ,
name
∑∑ 
:
∑∑ 
$str
∑∑ ,
,
∑∑, -
table
∏∏ 
:
∏∏ 
$str
∏∏ 
)
∏∏ 
;
∏∏ 
migrationBuilder
∫∫ 
.
∫∫ 
	DropTable
∫∫ &
(
∫∫& '
name
ªª 
:
ªª 
$str
ªª 
)
ªª 
;
ªª 
migrationBuilder
ΩΩ 
.
ΩΩ 
	DropTable
ΩΩ &
(
ΩΩ& '
name
ææ 
:
ææ 
$str
ææ 
)
ææ 
;
ææ 
migrationBuilder
¿¿ 
.
¿¿ 
AlterColumn
¿¿ (
<
¿¿( )
string
¿¿) /
>
¿¿/ 0
(
¿¿0 1
name
¡¡ 
:
¡¡ 
$str
¡¡ 
,
¡¡ 
table
¬¬ 
:
¬¬ 
$str
¬¬ )
,
¬¬) *
	maxLength
√√ 
:
√√ 
$num
√√ 
,
√√ 
nullable
ƒƒ 
:
ƒƒ 
false
ƒƒ 
,
ƒƒ  

oldClrType
≈≈ 
:
≈≈ 
typeof
≈≈ "
(
≈≈" #
string
≈≈# )
)
≈≈) *
)
≈≈* +
;
≈≈+ ,
migrationBuilder
«« 
.
«« 
AlterColumn
«« (
<
««( )
string
««) /
>
««/ 0
(
««0 1
name
»» 
:
»» 
$str
»» %
,
»»% &
table
…… 
:
…… 
$str
…… )
,
……) *
	maxLength
   
:
   
$num
   
,
   
nullable
ÀÀ 
:
ÀÀ 
false
ÀÀ 
,
ÀÀ  

oldClrType
ÃÃ 
:
ÃÃ 
typeof
ÃÃ "
(
ÃÃ" #
string
ÃÃ# )
)
ÃÃ) *
)
ÃÃ* +
;
ÃÃ+ ,
migrationBuilder
ŒŒ 
.
ŒŒ 
AlterColumn
ŒŒ (
<
ŒŒ( )
string
ŒŒ) /
>
ŒŒ/ 0
(
ŒŒ0 1
name
œœ 
:
œœ 
$str
œœ #
,
œœ# $
table
–– 
:
–– 
$str
–– )
,
––) *
	maxLength
—— 
:
—— 
$num
—— 
,
—— 
nullable
““ 
:
““ 
false
““ 
,
““  

oldClrType
”” 
:
”” 
typeof
”” "
(
””" #
string
””# )
)
””) *
)
””* +
;
””+ ,
migrationBuilder
’’ 
.
’’ 
AlterColumn
’’ (
<
’’( )
string
’’) /
>
’’/ 0
(
’’0 1
name
÷÷ 
:
÷÷ 
$str
÷÷ %
,
÷÷% &
table
◊◊ 
:
◊◊ 
$str
◊◊ )
,
◊◊) *
	maxLength
ÿÿ 
:
ÿÿ 
$num
ÿÿ 
,
ÿÿ 
nullable
ŸŸ 
:
ŸŸ 
false
ŸŸ 
,
ŸŸ  

oldClrType
⁄⁄ 
:
⁄⁄ 
typeof
⁄⁄ "
(
⁄⁄" #
string
⁄⁄# )
)
⁄⁄) *
)
⁄⁄* +
;
⁄⁄+ ,
}
€€ 	
}
‹‹ 
}›› “+
GD:\web_angular\moduleAuth\Migrations\20180706163636_IdentityVer1.1.1.cs
	namespace 	
angular6DotnetCore
 
. 

Migrations '
{ 
public 

partial 
class 
IdentityVer111 '
:( )
	Migration* 3
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
	AddColumn &
<& '
int' *
>* +
(+ ,
name 
: 
$str "
," #
table 
: 
$str 
, 
nullable 
: 
true 
) 
;  
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str  
,  !
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
nullable+ 3
:3 4
false5 :
): ;
. 

Annotation #
(# $
$str$ G
,G H,
 SqlServerValueGenerationStrategyI i
.i j
IdentityColumnj x
)x y
,y z
ProviderCode  
=! "
table# (
.( )
Column) /
</ 0
string0 6
>6 7
(7 8
nullable8 @
:@ A
trueB F
)F G
,G H
ProviderName  
=! "
table# (
.( )
Column) /
</ 0
string0 6
>6 7
(7 8
nullable8 @
:@ A
trueB F
)F G
,G H
Address 
= 
table #
.# $
Column$ *
<* +
string+ 1
>1 2
(2 3
nullable3 ;
:; <
true= A
)A B
,B C
	Activated 
= 
table  %
.% &
Column& ,
<, -
bool- 1
>1 2
(2 3
nullable3 ;
:; <
true= A
)A B
,B C
ActivatedDate !
=" #
table$ )
.) *
Column* 0
<0 1
DateTime1 9
>9 :
(: ;
nullable; C
:C D
trueE I
)I J
,J K
UpdatedDate 
=  !
table" '
.' (
Column( .
<. /
DateTime/ 7
>7 8
(8 9
nullable9 A
:A B
trueC G
)G H
,H I
CreatedDate 
=  !
table" '
.' (
Column( .
<. /
DateTime/ 7
>7 8
(8 9
nullable9 A
:A B
trueC G
)G H
} 
, 
constraints 
: 
table "
=># %
{ 
table   
.   

PrimaryKey   $
(  $ %
$str  % 2
,  2 3
x  4 5
=>  6 8
x  9 :
.  : ;
Id  ; =
)  = >
;  > ?
}!! 
)!! 
;!! 
migrationBuilder## 
.## 
CreateIndex## (
(##( )
name$$ 
:$$ 
$str$$ *
,$$* +
table%% 
:%% 
$str%% 
,%% 
column&& 
:&& 
$str&& $
)&&$ %
;&&% &
migrationBuilder(( 
.(( 
AddForeignKey(( *
(((* +
name)) 
:)) 
$str)) 3
,))3 4
table** 
:** 
$str** 
,** 
column++ 
:++ 
$str++ $
,++$ %
principalTable,, 
:,, 
$str,,  *
,,,* +
principalColumn-- 
:--  
$str--! %
,--% &
onDelete.. 
:.. 
ReferentialAction.. +
...+ ,
Restrict.., 4
)..4 5
;..5 6
}// 	
	protected11 
override11 
void11 
Down11  $
(11$ %
MigrationBuilder11% 5
migrationBuilder116 F
)11F G
{22 	
migrationBuilder33 
.33 
DropForeignKey33 +
(33+ ,
name44 
:44 
$str44 3
,443 4
table55 
:55 
$str55 
)55 
;55 
migrationBuilder77 
.77 
	DropTable77 &
(77& '
name88 
:88 
$str88  
)88  !
;88! "
migrationBuilder:: 
.:: 
	DropIndex:: &
(::& '
name;; 
:;; 
$str;; *
,;;* +
table<< 
:<< 
$str<< 
)<< 
;<< 
migrationBuilder>> 
.>> 

DropColumn>> '
(>>' (
name?? 
:?? 
$str?? "
,??" #
table@@ 
:@@ 
$str@@ 
)@@ 
;@@ 
}AA 	
}BB 
}CC ¢

?D:\web_angular\moduleAuth\Migrations\20180714053527_ver1.1.2.cs
	namespace 	
angular6DotnetCore
 
. 

Migrations '
{ 
public 

partial 
class 
ver112 
:  !
	Migration" +
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder		 
.		 
	AddColumn		 &
<		& '
string		' -
>		- .
(		. /
name

 
:

 
$str

 
,

 
table 
: 
$str 
, 
nullable 
: 
true 
) 
;  
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str 
, 
table 
: 
$str 
) 
; 
} 	
} 
} ¢

?D:\web_angular\moduleAuth\Migrations\20180715074937_ver1,1,3.cs
	namespace 	
angular6DotnetCore
 
. 

Migrations '
{ 
public 

partial 
class 
ver113 
:  !
	Migration" +
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder		 
.		 
	AddColumn		 &
<		& '
string		' -
>		- .
(		. /
name

 
:

 
$str

 
,

 
table 
: 
$str 
, 
nullable 
: 
true 
) 
;  
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str 
, 
table 
: 
$str 
) 
; 
} 	
} 
} íS
?D:\web_angular\moduleAuth\Migrations\20180814162708_ver2.0.0.cs
	namespace 	
angular6DotnetCore
 
. 

Migrations '
{ 
public 

partial 
class 
ver200 
:  !
	Migration" +
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str 
,  
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
nullable+ 3
:3 4
false5 :
): ;
. 

Annotation #
(# $
$str$ G
,G H,
 SqlServerValueGenerationStrategyI i
.i j
IdentityColumnj x
)x y
,y z
FullName 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
nullable4 <
:< =
false> C
)C D
,D E
	ShortName 
= 
table  %
.% &
Column& ,
<, -
string- 3
>3 4
(4 5
nullable5 =
:= >
true? C
)C D
,D E
Url 
= 
table 
.  
Column  &
<& '
string' -
>- .
(. /
nullable/ 7
:7 8
true9 =
)= >
,> ?
	ImagesUrl 
= 
table  %
.% &
Column& ,
<, -
string- 3
>3 4
(4 5
nullable5 =
:= >
true? C
)C D
,D E
Message 
= 
table #
.# $
Column$ *
<* +
string+ 1
>1 2
(2 3
nullable3 ;
:; <
true= A
)A B
,B C
Avatar 
= 
table "
." #
Column# )
<) *
string* 0
>0 1
(1 2
nullable2 :
:: ;
true< @
)@ A
,A B
CreatedDate 
=  !
table" '
.' (
Column( .
<. /
DateTime/ 7
>7 8
(8 9
nullable9 A
:A B
trueC G
)G H
,H I
UpdatedDate 
=  !
table" '
.' (
Column( .
<. /
DateTime/ 7
>7 8
(8 9
nullable9 A
:A B
trueC G
)G H
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 1
,1 2
x3 4
=>5 7
x8 9
.9 :
Id: <
)< =
;= >
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name   
:   
$str   
,    
columns!! 
:!! 
table!! 
=>!! !
new!!" %
{"" 
Id## 
=## 
table## 
.## 
Column## %
<##% &
int##& )
>##) *
(##* +
nullable##+ 3
:##3 4
false##5 :
)##: ;
.$$ 

Annotation$$ #
($$# $
$str$$$ G
,$$G H,
 SqlServerValueGenerationStrategy$$I i
.$$i j
IdentityColumn$$j x
)$$x y
,$$y z
Name%% 
=%% 
table%%  
.%%  !
Column%%! '
<%%' (
string%%( .
>%%. /
(%%/ 0
nullable%%0 8
:%%8 9
false%%: ?
)%%? @
,%%@ A
CreatedDate&& 
=&&  !
table&&" '
.&&' (
Column&&( .
<&&. /
DateTime&&/ 7
>&&7 8
(&&8 9
nullable&&9 A
:&&A B
true&&C G
)&&G H
,&&H I
UpdatedDate'' 
=''  !
table''" '
.''' (
Column''( .
<''. /
DateTime''/ 7
>''7 8
(''8 9
nullable''9 A
:''A B
true''C G
)''G H
}(( 
,(( 
constraints)) 
:)) 
table)) "
=>))# %
{** 
table++ 
.++ 

PrimaryKey++ $
(++$ %
$str++% 1
,++1 2
x++3 4
=>++5 7
x++8 9
.++9 :
Id++: <
)++< =
;++= >
},, 
),, 
;,, 
migrationBuilder.. 
... 
CreateTable.. (
(..( )
name// 
:// 
$str// %
,//% &
columns00 
:00 
table00 
=>00 !
new00" %
{11 
Id22 
=22 
table22 
.22 
Column22 %
<22% &
int22& )
>22) *
(22* +
nullable22+ 3
:223 4
false225 :
)22: ;
.33 

Annotation33 #
(33# $
$str33$ G
,33G H,
 SqlServerValueGenerationStrategy33I i
.33i j
IdentityColumn33j x
)33x y
,33y z
PeopleId44 
=44 
table44 $
.44$ %
Column44% +
<44+ ,
int44, /
>44/ 0
(440 1
nullable441 9
:449 :
false44; @
)44@ A
,44A B
SocialId55 
=55 
table55 $
.55$ %
Column55% +
<55+ ,
int55, /
>55/ 0
(550 1
nullable551 9
:559 :
false55; @
)55@ A
,55A B
Like66 
=66 
table66  
.66  !
Column66! '
<66' (
long66( ,
>66, -
(66- .
nullable66. 6
:666 7
true668 <
)66< =
,66= >
View77 
=77 
table77  
.77  !
Column77! '
<77' (
long77( ,
>77, -
(77- .
nullable77. 6
:776 7
true778 <
)77< =
,77= >
Share88 
=88 
table88 !
.88! "
Column88" (
<88( )
long88) -
>88- .
(88. /
nullable88/ 7
:887 8
true889 =
)88= >
,88> ?
Follow99 
=99 
table99 "
.99" #
Column99# )
<99) *
long99* .
>99. /
(99/ 0
nullable990 8
:998 9
true99: >
)99> ?
,99? @
CreatedDate:: 
=::  !
table::" '
.::' (
Column::( .
<::. /
DateTime::/ 7
>::7 8
(::8 9
nullable::9 A
:::A B
true::C G
)::G H
,::H I
UpdatedDate;; 
=;;  !
table;;" '
.;;' (
Column;;( .
<;;. /
DateTime;;/ 7
>;;7 8
(;;8 9
nullable;;9 A
:;;A B
true;;C G
);;G H
}<< 
,<< 
constraints== 
:== 
table== "
=>==# %
{>> 
table?? 
.?? 

PrimaryKey?? $
(??$ %
$str??% 7
,??7 8
x??9 :
=>??; =
x??> ?
.??? @
Id??@ B
)??B C
;??C D
table@@ 
.@@ 

ForeignKey@@ $
(@@$ %
nameAA 
:AA 
$strAA A
,AAA B
columnBB 
:BB 
xBB  !
=>BB" $
xBB% &
.BB& '
PeopleIdBB' /
,BB/ 0
principalTableCC &
:CC& '
$strCC( 1
,CC1 2
principalColumnDD '
:DD' (
$strDD) -
,DD- .
onDeleteEE  
:EE  !
ReferentialActionEE" 3
.EE3 4
CascadeEE4 ;
)EE; <
;EE< =
tableFF 
.FF 

ForeignKeyFF $
(FF$ %
nameGG 
:GG 
$strGG A
,GGA B
columnHH 
:HH 
xHH  !
=>HH" $
xHH% &
.HH& '
SocialIdHH' /
,HH/ 0
principalTableII &
:II& '
$strII( 1
,II1 2
principalColumnJJ '
:JJ' (
$strJJ) -
,JJ- .
onDeleteKK  
:KK  !
ReferentialActionKK" 3
.KK3 4
CascadeKK4 ;
)KK; <
;KK< =
}LL 
)LL 
;LL 
migrationBuilderNN 
.NN 
CreateIndexNN (
(NN( )
nameOO 
:OO 
$strOO 1
,OO1 2
tablePP 
:PP 
$strPP &
,PP& '
columnQQ 
:QQ 
$strQQ "
)QQ" #
;QQ# $
migrationBuilderSS 
.SS 
CreateIndexSS (
(SS( )
nameTT 
:TT 
$strTT 1
,TT1 2
tableUU 
:UU 
$strUU &
,UU& '
columnVV 
:VV 
$strVV "
)VV" #
;VV# $
}WW 	
	protectedYY 
overrideYY 
voidYY 
DownYY  $
(YY$ %
MigrationBuilderYY% 5
migrationBuilderYY6 F
)YYF G
{ZZ 	
migrationBuilder[[ 
.[[ 
	DropTable[[ &
([[& '
name\\ 
:\\ 
$str\\ %
)\\% &
;\\& '
migrationBuilder^^ 
.^^ 
	DropTable^^ &
(^^& '
name__ 
:__ 
$str__ 
)__  
;__  !
migrationBuilderaa 
.aa 
	DropTableaa &
(aa& '
namebb 
:bb 
$strbb 
)bb  
;bb  !
}cc 	
}dd 
}ee Á5
?D:\web_angular\moduleAuth\Migrations\20180818082647_ver2.0.1.cs
	namespace 	
angular6DotnetCore
 
. 

Migrations '
{ 
public 

partial 
class 
ver201 
:  !
	Migration" +
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str 
, 
table 
: 
$str &
,& '
nullable 
: 
true 
) 
;  
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str 
,  
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
nullable+ 3
:3 4
false5 :
): ;
. 

Annotation #
(# $
$str$ G
,G H,
 SqlServerValueGenerationStrategyI i
.i j
IdentityColumnj x
)x y
,y z
Index 
= 
table !
.! "
Column" (
<( )
int) ,
>, -
(- .
nullable. 6
:6 7
false8 =
)= >
,> ?
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
nullable0 8
:8 9
true: >
)> ?
,? @
CreatedDate 
=  !
table" '
.' (
Column( .
<. /
DateTime/ 7
>7 8
(8 9
nullable9 A
:A B
trueC G
)G H
,H I
UpdatedDate 
=  !
table" '
.' (
Column( .
<. /
DateTime/ 7
>7 8
(8 9
nullable9 A
:A B
trueC G
)G H
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 1
,1 2
x3 4
=>5 7
x8 9
.9 :
Id: <
)< =
;= >
} 
) 
; 
migrationBuilder   
.   
CreateTable   (
(  ( )
name!! 
:!! 
$str!! %
,!!% &
columns"" 
:"" 
table"" 
=>"" !
new""" %
{## 
Id$$ 
=$$ 
table$$ 
.$$ 
Column$$ %
<$$% &
int$$& )
>$$) *
($$* +
nullable$$+ 3
:$$3 4
false$$5 :
)$$: ;
.%% 

Annotation%% #
(%%# $
$str%%$ G
,%%G H,
 SqlServerValueGenerationStrategy%%I i
.%%i j
IdentityColumn%%j x
)%%x y
,%%y z
CareerId&& 
=&& 
table&& $
.&&$ %
Column&&% +
<&&+ ,
int&&, /
>&&/ 0
(&&0 1
nullable&&1 9
:&&9 :
false&&; @
)&&@ A
,&&A B
PeopleId'' 
='' 
table'' $
.''$ %
Column''% +
<''+ ,
int'', /
>''/ 0
(''0 1
nullable''1 9
:''9 :
false''; @
)''@ A
}(( 
,(( 
constraints)) 
:)) 
table)) "
=>))# %
{** 
table++ 
.++ 

PrimaryKey++ $
(++$ %
$str++% 7
,++7 8
x++9 :
=>++; =
x++> ?
.++? @
Id++@ B
)++B C
;++C D
table,, 
.,, 

ForeignKey,, $
(,,$ %
name-- 
:-- 
$str-- A
,--A B
column.. 
:.. 
x..  !
=>.." $
x..% &
...& '
CareerId..' /
,../ 0
principalTable// &
://& '
$str//( 1
,//1 2
principalColumn00 '
:00' (
$str00) -
,00- .
onDelete11  
:11  !
ReferentialAction11" 3
.113 4
Cascade114 ;
)11; <
;11< =
table22 
.22 

ForeignKey22 $
(22$ %
name33 
:33 
$str33 A
,33A B
column44 
:44 
x44  !
=>44" $
x44% &
.44& '
PeopleId44' /
,44/ 0
principalTable55 &
:55& '
$str55( 1
,551 2
principalColumn66 '
:66' (
$str66) -
,66- .
onDelete77  
:77  !
ReferentialAction77" 3
.773 4
Cascade774 ;
)77; <
;77< =
}88 
)88 
;88 
migrationBuilder:: 
.:: 
CreateIndex:: (
(::( )
name;; 
:;; 
$str;; 1
,;;1 2
table<< 
:<< 
$str<< &
,<<& '
column== 
:== 
$str== "
)==" #
;==# $
migrationBuilder?? 
.?? 
CreateIndex?? (
(??( )
name@@ 
:@@ 
$str@@ 1
,@@1 2
tableAA 
:AA 
$strAA &
,AA& '
columnBB 
:BB 
$strBB "
)BB" #
;BB# $
}CC 	
	protectedEE 
overrideEE 
voidEE 
DownEE  $
(EE$ %
MigrationBuilderEE% 5
migrationBuilderEE6 F
)EEF G
{FF 	
migrationBuilderGG 
.GG 
	DropTableGG &
(GG& '
nameHH 
:HH 
$strHH %
)HH% &
;HH& '
migrationBuilderJJ 
.JJ 
	DropTableJJ &
(JJ& '
nameKK 
:KK 
$strKK 
)KK  
;KK  !
migrationBuilderMM 
.MM 

DropColumnMM '
(MM' (
nameNN 
:NN 
$strNN 
,NN 
tableOO 
:OO 
$strOO &
)OO& '
;OO' (
}PP 	
}QQ 
}RR õ"
?D:\web_angular\moduleAuth\Migrations\20180818083502_ver2.0.2.cs
	namespace 	
angular6DotnetCore
 
. 

Migrations '
{ 
public 

partial 
class 
ver202 
:  !
	Migration" +
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder		 
.		 
	AddColumn		 &
<		& '
int		' *
>		* +
(		+ ,
name

 
:

 
$str

 
,

 
table 
: 
$str  
,  !
nullable 
: 
false 
,  
defaultValue 
: 
$num 
)  
;  !
migrationBuilder 
. 
	AddColumn &
<& '
int' *
>* +
(+ ,
name 
: 
$str 
, 
table 
: 
$str &
,& '
nullable 
: 
false 
,  
defaultValue 
: 
$num 
)  
;  !
migrationBuilder 
. 
	AddColumn &
<& '
int' *
>* +
(+ ,
name 
: 
$str 
, 
table 
: 
$str  
,  !
nullable 
: 
false 
,  
defaultValue 
: 
$num 
)  
;  !
migrationBuilder 
. 
AlterColumn (
<( )
string) /
>/ 0
(0 1
name 
: 
$str 
, 
table 
: 
$str  
,  !
nullable 
: 
false 
,  

oldClrType 
: 
typeof "
(" #
string# )
)) *
,* +
oldNullable   
:   
true   !
)  ! "
;  " #
migrationBuilder"" 
."" 
	AddColumn"" &
<""& '
int""' *
>""* +
(""+ ,
name## 
:## 
$str## 
,## 
table$$ 
:$$ 
$str$$ &
,$$& '
nullable%% 
:%% 
false%% 
,%%  
defaultValue&& 
:&& 
$num&& 
)&&  
;&&  !
}'' 	
	protected)) 
override)) 
void)) 
Down))  $
())$ %
MigrationBuilder))% 5
migrationBuilder))6 F
)))F G
{** 	
migrationBuilder++ 
.++ 

DropColumn++ '
(++' (
name,, 
:,, 
$str,, 
,,, 
table-- 
:-- 
$str--  
)--  !
;--! "
migrationBuilder// 
.// 

DropColumn// '
(//' (
name00 
:00 
$str00 
,00 
table11 
:11 
$str11 &
)11& '
;11' (
migrationBuilder33 
.33 

DropColumn33 '
(33' (
name44 
:44 
$str44 
,44 
table55 
:55 
$str55  
)55  !
;55! "
migrationBuilder77 
.77 

DropColumn77 '
(77' (
name88 
:88 
$str88 
,88 
table99 
:99 
$str99 &
)99& '
;99' (
migrationBuilder;; 
.;; 
AlterColumn;; (
<;;( )
string;;) /
>;;/ 0
(;;0 1
name<< 
:<< 
$str<< 
,<< 
table== 
:== 
$str==  
,==  !
nullable>> 
:>> 
true>> 
,>> 

oldClrType?? 
:?? 
typeof?? "
(??" #
string??# )
)??) *
)??* +
;??+ ,
}@@ 	
}AA 
}BB ∆%
?D:\web_angular\moduleAuth\Migrations\20180818084101_ver2.0.3.cs
	namespace 	
angular6DotnetCore
 
. 

Migrations '
{ 
public 

partial 
class 
ver203 
:  !
	Migration" +
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{		 	
migrationBuilder

 
.

 
	AddColumn

 &
<

& '
bool

' +
>

+ ,
(

, -
name 
: 
$str 
,  
table 
: 
$str  
,  !
nullable 
: 
true 
) 
;  
migrationBuilder 
. 
	AddColumn &
<& '
bool' +
>+ ,
(, -
name 
: 
$str 
,  
table 
: 
$str &
,& '
nullable 
: 
true 
) 
;  
migrationBuilder 
. 
	AddColumn &
<& '
bool' +
>+ ,
(, -
name 
: 
$str 
,  
table 
: 
$str  
,  !
nullable 
: 
true 
) 
;  
migrationBuilder 
. 
	AddColumn &
<& '
bool' +
>+ ,
(, -
name 
: 
$str 
,  
table 
: 
$str  
,  !
nullable 
: 
true 
) 
;  
migrationBuilder 
. 
	AddColumn &
<& '
DateTime' /
>/ 0
(0 1
name 
: 
$str #
,# $
table   
:   
$str   &
,  & '
nullable!! 
:!! 
true!! 
)!! 
;!!  
migrationBuilder## 
.## 
	AddColumn## &
<##& '
bool##' +
>##+ ,
(##, -
name$$ 
:$$ 
$str$$ 
,$$  
table%% 
:%% 
$str%% &
,%%& '
nullable&& 
:&& 
true&& 
)&& 
;&&  
migrationBuilder(( 
.(( 
	AddColumn(( &
<((& '
DateTime((' /
>((/ 0
(((0 1
name)) 
:)) 
$str)) #
,))# $
table** 
:** 
$str** &
,**& '
nullable++ 
:++ 
true++ 
)++ 
;++  
},, 	
	protected.. 
override.. 
void.. 
Down..  $
(..$ %
MigrationBuilder..% 5
migrationBuilder..6 F
)..F G
{// 	
migrationBuilder00 
.00 

DropColumn00 '
(00' (
name11 
:11 
$str11 
,11  
table22 
:22 
$str22  
)22  !
;22! "
migrationBuilder44 
.44 

DropColumn44 '
(44' (
name55 
:55 
$str55 
,55  
table66 
:66 
$str66 &
)66& '
;66' (
migrationBuilder88 
.88 

DropColumn88 '
(88' (
name99 
:99 
$str99 
,99  
table:: 
::: 
$str::  
)::  !
;::! "
migrationBuilder<< 
.<< 

DropColumn<< '
(<<' (
name== 
:== 
$str== 
,==  
table>> 
:>> 
$str>>  
)>>  !
;>>! "
migrationBuilder@@ 
.@@ 

DropColumn@@ '
(@@' (
nameAA 
:AA 
$strAA #
,AA# $
tableBB 
:BB 
$strBB &
)BB& '
;BB' (
migrationBuilderDD 
.DD 

DropColumnDD '
(DD' (
nameEE 
:EE 
$strEE 
,EE  
tableFF 
:FF 
$strFF &
)FF& '
;FF' (
migrationBuilderHH 
.HH 

DropColumnHH '
(HH' (
nameII 
:II 
$strII #
,II# $
tableJJ 
:JJ 
$strJJ &
)JJ& '
;JJ' (
}KK 	
}LL 
}MM ∫7
?D:\web_angular\moduleAuth\Migrations\20180818130934_ver2.0.4.cs
	namespace 	
angular6DotnetCore
 
. 

Migrations '
{ 
public 

partial 
class 
ver204 
:  !
	Migration" +
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
	DropTable &
(& '
name 
: 
$str %
)% &
;& '
migrationBuilder 
. 
	AddColumn &
<& '
int' *
>* +
(+ ,
name 
: 
$str  
,  !
table 
: 
$str  
,  !
nullable 
: 
false 
,  
defaultValue 
: 
$num 
)  
;  !
migrationBuilder 
. 
CreateIndex (
(( )
name 
: 
$str +
,+ ,
table 
: 
$str  
,  !
column 
: 
$str "
)" #
;# $
migrationBuilder 
. 
AddForeignKey *
(* +
name 
: 
$str 3
,3 4
table 
: 
$str  
,  !
column 
: 
$str "
," #
principalTable 
: 
$str  )
,) *
principalColumn 
:  
$str! %
,% &
onDelete 
: 
ReferentialAction +
.+ ,
Cascade, 3
)3 4
;4 5
}   	
	protected"" 
override"" 
void"" 
Down""  $
(""$ %
MigrationBuilder""% 5
migrationBuilder""6 F
)""F G
{## 	
migrationBuilder$$ 
.$$ 
DropForeignKey$$ +
($$+ ,
name%% 
:%% 
$str%% 3
,%%3 4
table&& 
:&& 
$str&&  
)&&  !
;&&! "
migrationBuilder(( 
.(( 
	DropIndex(( &
(((& '
name)) 
:)) 
$str)) +
,))+ ,
table** 
:** 
$str**  
)**  !
;**! "
migrationBuilder,, 
.,, 

DropColumn,, '
(,,' (
name-- 
:-- 
$str--  
,--  !
table.. 
:.. 
$str..  
)..  !
;..! "
migrationBuilder00 
.00 
CreateTable00 (
(00( )
name11 
:11 
$str11 %
,11% &
columns22 
:22 
table22 
=>22 !
new22" %
{33 
Id44 
=44 
table44 
.44 
Column44 %
<44% &
int44& )
>44) *
(44* +
nullable44+ 3
:443 4
false445 :
)44: ;
.55 

Annotation55 #
(55# $
$str55$ G
,55G H,
 SqlServerValueGenerationStrategy55I i
.55i j
IdentityColumn55j x
)55x y
,55y z
CareerId66 
=66 
table66 $
.66$ %
Column66% +
<66+ ,
int66, /
>66/ 0
(660 1
nullable661 9
:669 :
false66; @
)66@ A
,66A B
CreatedDate77 
=77  !
table77" '
.77' (
Column77( .
<77. /
DateTime77/ 7
>777 8
(778 9
nullable779 A
:77A B
true77C G
)77G H
,77H I
Enabled88 
=88 
table88 #
.88# $
Column88$ *
<88* +
bool88+ /
>88/ 0
(880 1
nullable881 9
:889 :
true88; ?
)88? @
,88@ A
Index99 
=99 
table99 !
.99! "
Column99" (
<99( )
int99) ,
>99, -
(99- .
nullable99. 6
:996 7
false998 =
)99= >
,99> ?
PeopleId:: 
=:: 
table:: $
.::$ %
Column::% +
<::+ ,
int::, /
>::/ 0
(::0 1
nullable::1 9
:::9 :
false::; @
)::@ A
,::A B
UpdatedDate;; 
=;;  !
table;;" '
.;;' (
Column;;( .
<;;. /
DateTime;;/ 7
>;;7 8
(;;8 9
nullable;;9 A
:;;A B
true;;C G
);;G H
}<< 
,<< 
constraints== 
:== 
table== "
=>==# %
{>> 
table?? 
.?? 

PrimaryKey?? $
(??$ %
$str??% 7
,??7 8
x??9 :
=>??; =
x??> ?
.??? @
Id??@ B
)??B C
;??C D
table@@ 
.@@ 

ForeignKey@@ $
(@@$ %
nameAA 
:AA 
$strAA A
,AAA B
columnBB 
:BB 
xBB  !
=>BB" $
xBB% &
.BB& '
CareerIdBB' /
,BB/ 0
principalTableCC &
:CC& '
$strCC( 1
,CC1 2
principalColumnDD '
:DD' (
$strDD) -
,DD- .
onDeleteEE  
:EE  !
ReferentialActionEE" 3
.EE3 4
CascadeEE4 ;
)EE; <
;EE< =
tableFF 
.FF 

ForeignKeyFF $
(FF$ %
nameGG 
:GG 
$strGG A
,GGA B
columnHH 
:HH 
xHH  !
=>HH" $
xHH% &
.HH& '
PeopleIdHH' /
,HH/ 0
principalTableII &
:II& '
$strII( 1
,II1 2
principalColumnJJ '
:JJ' (
$strJJ) -
,JJ- .
onDeleteKK  
:KK  !
ReferentialActionKK" 3
.KK3 4
CascadeKK4 ;
)KK; <
;KK< =
}LL 
)LL 
;LL 
migrationBuilderNN 
.NN 
CreateIndexNN (
(NN( )
nameOO 
:OO 
$strOO 1
,OO1 2
tablePP 
:PP 
$strPP &
,PP& '
columnQQ 
:QQ 
$strQQ "
)QQ" #
;QQ# $
migrationBuilderSS 
.SS 
CreateIndexSS (
(SS( )
nameTT 
:TT 
$strTT 1
,TT1 2
tableUU 
:UU 
$strUU &
,UU& '
columnVV 
:VV 
$strVV "
)VV" #
;VV# $
}WW 	
}XX 
}YY ¢

?D:\web_angular\moduleAuth\Migrations\20180828155839_ver2.0.5.cs
	namespace 	
angular6DotnetCore
 
. 

Migrations '
{ 
public 

partial 
class 
ver205 
:  !
	Migration" +
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder		 
.		 
	AddColumn		 &
<		& '
string		' -
>		- .
(		. /
name

 
:

 
$str

 #
,

# $
table 
: 
$str  
,  !
nullable 
: 
true 
) 
;  
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str #
,# $
table 
: 
$str  
)  !
;! "
} 	
} 
} Ø
?D:\web_angular\moduleAuth\Migrations\20180915094332_ver2.1.0.cs
	namespace 	
angular6DotnetCore
 
. 

Migrations '
{ 
public 

partial 
class 
ver210 
:  !
	Migration" +
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str +
,+ ,
columns 
: 
table 
=> !
new" %
{ 
Index 
= 
table !
.! "
Column" (
<( )
int) ,
>, -
(- .
nullable. 6
:6 7
false8 =
)= >
,> ?
Enabled 
= 
table #
.# $
Column$ *
<* +
bool+ /
>/ 0
(0 1
nullable1 9
:9 :
true; ?
)? @
,@ A
CreatedDate 
=  !
table" '
.' (
Column( .
<. /
DateTime/ 7
>7 8
(8 9
nullable9 A
:A B
trueC G
)G H
,H I
UpdatedDate 
=  !
table" '
.' (
Column( .
<. /
DateTime/ 7
>7 8
(8 9
nullable9 A
:A B
trueC G
)G H
,H I
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
nullable+ 3
:3 4
false5 :
): ;
. 

Annotation #
(# $
$str$ G
,G H,
 SqlServerValueGenerationStrategyI i
.i j
IdentityColumnj x
)x y
,y z
PeopleSocialsId #
=$ %
table& +
.+ ,
Column, 2
<2 3
int3 6
>6 7
(7 8
nullable8 @
:@ A
falseB G
)G H
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% =
,= >
x? @
=>A C
xD E
.E F
IdF H
)H I
;I J
table 
. 

ForeignKey $
($ %
name 
: 
$str T
,T U
column 
: 
x  !
=>" $
x% &
.& '
PeopleSocialsId' 6
,6 7
principalTable &
:& '
$str( 7
,7 8
principalColumn '
:' (
$str) -
,- .
onDelete  
:  !
ReferentialAction" 3
.3 4
Cascade4 ;
); <
;< =
}   
)   
;   
migrationBuilder"" 
."" 
CreateIndex"" (
(""( )
name## 
:## 
$str## >
,##> ?
table$$ 
:$$ 
$str$$ ,
,$$, -
column%% 
:%% 
$str%% )
)%%) *
;%%* +
}&& 	
	protected(( 
override(( 
void(( 
Down((  $
((($ %
MigrationBuilder((% 5
migrationBuilder((6 F
)((F G
{)) 	
migrationBuilder** 
.** 
	DropTable** &
(**& '
name++ 
:++ 
$str++ +
)+++ ,
;++, -
},, 	
}-- 
}.. Ô
?D:\web_angular\moduleAuth\Migrations\20180915163218_ver2.1.1.cs
	namespace 	
angular6DotnetCore
 
. 

Migrations '
{ 
public 

partial 
class 
ver211 
:  !
	Migration" +
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder		 
.		 
	AddColumn		 &
<		& '
long		' +
>		+ ,
(		, -
name

 
:

 
$str

 
,

 
table 
: 
$str ,
,, -
nullable 
: 
true 
) 
;  
migrationBuilder 
. 
	AddColumn &
<& '
long' +
>+ ,
(, -
name 
: 
$str 
, 
table 
: 
$str ,
,, -
nullable 
: 
true 
) 
;  
migrationBuilder 
. 
	AddColumn &
<& '
long' +
>+ ,
(, -
name 
: 
$str 
, 
table 
: 
$str ,
,, -
nullable 
: 
true 
) 
;  
migrationBuilder 
. 
	AddColumn &
<& '
long' +
>+ ,
(, -
name 
: 
$str 
, 
table 
: 
$str ,
,, -
nullable 
: 
true 
) 
;  
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder   
.   

DropColumn   '
(  ' (
name!! 
:!! 
$str!! 
,!! 
table"" 
:"" 
$str"" ,
)"", -
;""- .
migrationBuilder$$ 
.$$ 

DropColumn$$ '
($$' (
name%% 
:%% 
$str%% 
,%% 
table&& 
:&& 
$str&& ,
)&&, -
;&&- .
migrationBuilder(( 
.(( 

DropColumn(( '
(((' (
name)) 
:)) 
$str)) 
,)) 
table** 
:** 
$str** ,
)**, -
;**- .
migrationBuilder,, 
.,, 

DropColumn,, '
(,,' (
name-- 
:-- 
$str-- 
,-- 
table.. 
:.. 
$str.. ,
).., -
;..- .
}// 	
}00 
}11 ô#
?D:\web_angular\moduleAuth\Migrations\20180916012832_ver2.1.2.cs
	namespace 	
angular6DotnetCore
 
. 

Migrations '
{ 
public 

partial 
class 
ver212 
:  !
	Migration" +
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder		 
.		 
DropForeignKey		 +
(		+ ,
name

 
:

 
$str

 L
,

L M
table 
: 
$str ,
), -
;- .
migrationBuilder 
. 
DropPrimaryKey +
(+ ,
name 
: 
$str .
,. /
table 
: 
$str ,
), -
;- .
migrationBuilder 
. 
RenameTable (
(( )
name 
: 
$str +
,+ ,
newName 
: 
$str /
)/ 0
;0 1
migrationBuilder 
. 
RenameIndex (
(( )
name 
: 
$str >
,> ?
table 
: 
$str -
,- .
newName 
: 
$str B
)B C
;C D
migrationBuilder 
. 
AddPrimaryKey *
(* +
name 
: 
$str /
,/ 0
table 
: 
$str -
,- .
column 
: 
$str 
) 
; 
migrationBuilder 
. 
AddForeignKey *
(* +
name   
:   
$str   M
,  M N
table!! 
:!! 
$str!! -
,!!- .
column"" 
:"" 
$str"" )
,"") *
principalTable## 
:## 
$str##  /
,##/ 0
principalColumn$$ 
:$$  
$str$$! %
,$$% &
onDelete%% 
:%% 
ReferentialAction%% +
.%%+ ,
Cascade%%, 3
)%%3 4
;%%4 5
}&& 	
	protected(( 
override(( 
void(( 
Down((  $
((($ %
MigrationBuilder((% 5
migrationBuilder((6 F
)((F G
{)) 	
migrationBuilder** 
.** 
DropForeignKey** +
(**+ ,
name++ 
:++ 
$str++ M
,++M N
table,, 
:,, 
$str,, -
),,- .
;,,. /
migrationBuilder.. 
... 
DropPrimaryKey.. +
(..+ ,
name// 
:// 
$str// /
,/// 0
table00 
:00 
$str00 -
)00- .
;00. /
migrationBuilder22 
.22 
RenameTable22 (
(22( )
name33 
:33 
$str33 ,
,33, -
newName44 
:44 
$str44 .
)44. /
;44/ 0
migrationBuilder66 
.66 
RenameIndex66 (
(66( )
name77 
:77 
$str77 ?
,77? @
table88 
:88 
$str88 ,
,88, -
newName99 
:99 
$str99 A
)99A B
;99B C
migrationBuilder;; 
.;; 
AddPrimaryKey;; *
(;;* +
name<< 
:<< 
$str<< .
,<<. /
table== 
:== 
$str== ,
,==, -
column>> 
:>> 
$str>> 
)>> 
;>> 
migrationBuilder@@ 
.@@ 
AddForeignKey@@ *
(@@* +
nameAA 
:AA 
$strAA L
,AAL M
tableBB 
:BB 
$strBB ,
,BB, -
columnCC 
:CC 
$strCC )
,CC) *
principalTableDD 
:DD 
$strDD  /
,DD/ 0
principalColumnEE 
:EE  
$strEE! %
,EE% &
onDeleteFF 
:FF 
ReferentialActionFF +
.FF+ ,
CascadeFF, 3
)FF3 4
;FF4 5
}GG 	
}HH 
}II ∂>
?D:\web_angular\moduleAuth\Migrations\20181001160205_ver3.0.0.cs
	namespace 	
angular6DotnetCore
 
. 

Migrations '
{ 
public 

partial 
class 
ver300 
:  !
	Migration" +
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str 
,  
columns 
: 
table 
=> !
new" %
{ 
Index 
= 
table !
.! "
Column" (
<( )
int) ,
>, -
(- .
nullable. 6
:6 7
false8 =
)= >
,> ?
Enabled 
= 
table #
.# $
Column$ *
<* +
bool+ /
>/ 0
(0 1
nullable1 9
:9 :
true; ?
)? @
,@ A
CreatedDate 
=  !
table" '
.' (
Column( .
<. /
DateTime/ 7
>7 8
(8 9
nullable9 A
:A B
trueC G
)G H
,H I
UpdatedDate 
=  !
table" '
.' (
Column( .
<. /
DateTime/ 7
>7 8
(8 9
nullable9 A
:A B
trueC G
)G H
,H I
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
nullable+ 3
:3 4
false5 :
): ;
. 

Annotation #
(# $
$str$ G
,G H,
 SqlServerValueGenerationStrategyI i
.i j
IdentityColumnj x
)x y
,y z

AdwardName 
=  
table! &
.& '
Column' -
<- .
string. 4
>4 5
(5 6
nullable6 >
:> ?
true@ D
)D E
,E F
Tags 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
nullable0 8
:8 9
true: >
)> ?
,? @
Message 
= 
table #
.# $
Column$ *
<* +
string+ 1
>1 2
(2 3
nullable3 ;
:; <
true= A
)A B
,B C
IconUrl 
= 
table #
.# $
Column$ *
<* +
string+ 1
>1 2
(2 3
nullable3 ;
:; <
true= A
)A B
,B C
BackgroundUrl !
=" #
table$ )
.) *
Column* 0
<0 1
string1 7
>7 8
(8 9
nullable9 A
:A B
trueC G
)G H
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 1
,1 2
x3 4
=>5 7
x8 9
.9 :
Id: <
)< =
;= >
} 
) 
; 
migrationBuilder   
.   
CreateTable   (
(  ( )
name!! 
:!! 
$str!! %
,!!% &
columns"" 
:"" 
table"" 
=>"" !
new""" %
{## 
Id$$ 
=$$ 
table$$ 
.$$ 
Column$$ %
<$$% &
int$$& )
>$$) *
($$* +
nullable$$+ 3
:$$3 4
false$$5 :
)$$: ;
.%% 

Annotation%% #
(%%# $
$str%%$ G
,%%G H,
 SqlServerValueGenerationStrategy%%I i
.%%i j
IdentityColumn%%j x
)%%x y
,%%y z
AdwardId&& 
=&& 
table&& $
.&&$ %
Column&&% +
<&&+ ,
int&&, /
>&&/ 0
(&&0 1
nullable&&1 9
:&&9 :
false&&; @
)&&@ A
,&&A B
PeopleId'' 
='' 
table'' $
.''$ %
Column''% +
<''+ ,
int'', /
>''/ 0
(''0 1
nullable''1 9
:''9 :
false''; @
)''@ A
,''A B
Year(( 
=(( 
table((  
.((  !
Column((! '
<((' (
int((( +
>((+ ,
(((, -
nullable((- 5
:((5 6
true((7 ;
)((; <
,((< =

DetailTime)) 
=))  
table))! &
.))& '
Column))' -
<))- .
DateTime)). 6
>))6 7
())7 8
nullable))8 @
:))@ A
true))B F
)))F G
}** 
,** 
constraints++ 
:++ 
table++ "
=>++# %
{,, 
table-- 
.-- 

PrimaryKey-- $
(--$ %
$str--% 7
,--7 8
x--9 :
=>--; =
x--> ?
.--? @
Id--@ B
)--B C
;--C D
table.. 
... 

ForeignKey.. $
(..$ %
name// 
:// 
$str// A
,//A B
column00 
:00 
x00  !
=>00" $
x00% &
.00& '
AdwardId00' /
,00/ 0
principalTable11 &
:11& '
$str11( 1
,111 2
principalColumn22 '
:22' (
$str22) -
,22- .
onDelete33  
:33  !
ReferentialAction33" 3
.333 4
Cascade334 ;
)33; <
;33< =
table44 
.44 

ForeignKey44 $
(44$ %
name55 
:55 
$str55 A
,55A B
column66 
:66 
x66  !
=>66" $
x66% &
.66& '
PeopleId66' /
,66/ 0
principalTable77 &
:77& '
$str77( 1
,771 2
principalColumn88 '
:88' (
$str88) -
,88- .
onDelete99  
:99  !
ReferentialAction99" 3
.993 4
Cascade994 ;
)99; <
;99< =
}:: 
):: 
;:: 
migrationBuilder<< 
.<< 
CreateIndex<< (
(<<( )
name== 
:== 
$str== 1
,==1 2
table>> 
:>> 
$str>> &
,>>& '
column?? 
:?? 
$str?? "
)??" #
;??# $
migrationBuilderAA 
.AA 
CreateIndexAA (
(AA( )
nameBB 
:BB 
$strBB 1
,BB1 2
tableCC 
:CC 
$strCC &
,CC& '
columnDD 
:DD 
$strDD "
)DD" #
;DD# $
}EE 	
	protectedGG 
overrideGG 
voidGG 
DownGG  $
(GG$ %
MigrationBuilderGG% 5
migrationBuilderGG6 F
)GGF G
{HH 	
migrationBuilderII 
.II 
	DropTableII &
(II& '
nameJJ 
:JJ 
$strJJ %
)JJ% &
;JJ& '
migrationBuilderLL 
.LL 
	DropTableLL &
(LL& '
nameMM 
:MM 
$strMM 
)MM  
;MM  !
}NN 	
}OO 
}PP ª
+D:\web_angular\moduleAuth\Models\Account.cs
	namespace 	
angular6DotnetCore
 
. 
Models #
{ 
[ 
Table 

(
 
$str 
) 
] 
public 

class 
Account 
{		 
[

 	
Key

	 
]

 
[ 	
DatabaseGenerated	 
( #
DatabaseGeneratedOption 2
.2 3
Identity3 ;
); <
]< =
public 
int 
	AccountId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
UserName 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
FullName 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
DateTime 
? 
BirthDay !
{" #
get$ '
;' (
set) ,
;, -
}. /
[ 	
Required	 
] 
[ 	
DataType	 
( 
DataType 
. 
Password #
)# $
]$ %
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
Required	 
] 
[ 	
DataType	 
( 
DataType 
. 
Password #
)# $
]$ %
public 
string 
ConfirmPassword %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
[ 	
Required	 
] 
[ 	
DataType	 
( 
DataType 
. 
EmailAddress '
)' (
]( )
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
[ 	
DataType	 
( 
DataType 
. 
PhoneNumber &
)& '
]' (
public 
string 
Phone 
{ 
get !
;! "
set# &
;& '
}( )
public 
DateTime 
CreatedDate #
{$ %
get& )
;) *
set+ .
;. /
}0 1
[!! 	

ForeignKey!!	 
(!! 
$str!! 
)!! 
]!!  
public"" 
string"" 
RoleCode"" 
{""  
get""! $
;""$ %
set""& )
;"") *
}""+ ,
public## 
virtual## 
Role## 
Role##  
{##! "
get### &
;##& '
set##( +
;##+ ,
}##- .
[$$ 	

ForeignKey$$	 
($$ 
$str$$ "
)$$" #
]$$# $
public%% 
string%% 
ProviderCode%% "
{%%# $
get%%% (
;%%( )
set%%* -
;%%- .
}%%/ 0
public&& 
virtual&& 
Provider&& 
Provider&&  (
{&&) *
get&&+ .
;&&. /
set&&0 3
;&&3 4
}&&5 6
public(( 
virtual(( 
AccountControl(( %
AccountControl((& 4
{((5 6
get((7 :
;((: ;
set((< ?
;((? @
}((A B
})) 
}** «
2D:\web_angular\moduleAuth\Models\AccountControl.cs
	namespace 	
angular6DotnetCore
 
. 
Models #
{ 
[		 
Table		 

(		
 
$str		 
)		 
]		 
public

 

class

 
AccountControl

 
{ 
[ 	
Key	 
, 

ForeignKey 
( 
$str $
)$ %
]% &
public 
int 
	AccountId 
{ 
get !
;! "
set" %
;% &
}& '
public 
virtual 
Account 
Account &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
bool 
? 
IsConfirmed  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
bool 
? 
IsLocked 
{ 
get  #
;# $
set% (
;( )
}* +
public 
bool 
? 
IsLogged 
{ 
get  #
;# $
set% (
;( )
}* +
public 
bool 
? 
DeleteConfirmed $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
DateTime 
? 
DeletedDate $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
DateTime 
? 
UpdatedDate $
{% &
get' *
;* +
set, /
;/ 0
}1 2
} 
} Ÿ
7D:\web_angular\moduleAuth\Models\Interface\IFormFile.cs
	namespace		 	
angular6DotnetCore		
 
.		 
Models		 #
.		# $
	Interface		$ -
{

 
public 

	interface 
	IFormFile 
{ 
string 
ContentType 
{ 
get  
;  !
}" #
string 
ContentDisposition !
{" #
get$ '
;' (
}) *
IHeaderDictionary 
Headers !
{" #
get$ '
;' (
}) *
long 
Length 
{ 
get 
; 
} 
string 
Name 
{ 
get 
; 
} 
string 
FileName 
{ 
get 
; 
}  
Stream 
OpenReadStream 
( 
) 
;  
void 
CopyTo 
( 
Stream 
target !
)! "
;" #
Task 
CopyToAsync 
( 
Stream 
target  &
,& '
CancellationToken( 9
cancellationToken: K
)K L
;L M
Task 
CopyToAsync 
( 

FileStream #
stream$ *
)* +
;+ ,
} 
} Ω
.D:\web_angular\moduleAuth\Models\LoginInput.cs
	namespace 	
angular6DotnetCore
 
. 
Models #
{ 
public 

class 

LoginInput 
{ 
[ 	
Required	 
( 
ErrorMessage 
=  
$str! A
)A B
]B C
[ 	
DataType	 
( 
DataType 
. 
EmailAddress '
,' (
ErrorMessage) 5
=6 7
$str8 L
)L M
]M N
public		 
string		 
Email		 
{		 
get		 !
;		! "
set		# &
;		& '
}		( )
[ 	
Required	 
( 
ErrorMessage 
=  
$str! ?
)? @
]@ A
[ 	
DataType	 
( 
DataType 
. 
Password #
,# $
ErrorMessage% 1
=2 3
$str4 K
)K L
]L M
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
Display	 
( 
Name 
= 
$str &
)& '
]' (
public 
bool 

RememberMe 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
	ReturnUrl 
{  !
get" %
;% &
set' *
;* +
}, -
} 
} ÿU
*D:\web_angular\moduleAuth\Models\People.cs
	namespace 	
angular6DotnetCore
 
. 
Models #
{ 
public 

class 
People 
: 
GeneralColumn '
{		 
[

 	
Required

	 
]

 
public 
string 
FullName 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
	ShortName 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
Url 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
	ImagesUrl 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
Message 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
Avatar 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
CareerId 
{ 
get !
;! "
set# &
;& '
}( )
[ 	

ForeignKey	 
( 
$str 
) 
]  
public 
virtual 
Career 
Career $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
string 
CountryCode !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
public 

class 
Adward 
: 
GeneralColumn &
{ 
public 
string 

AdwardName  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
Tags 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Message 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
IconUrl 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
BackgroundUrl #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
virtual 
string 
[ 
] 
GetTags  '
(' (
)( )
{   	
return!! 
Tags!! 
.!! 
Split!! 
(!! 
$str!! !
)!!! "
;!!" #
}"" 	
}## 
public%% 

class%% 
PeopleAdwards%% 
{&& 
['' 	
Key''	 
]'' 
[(( 	
DatabaseGenerated((	 
((( #
DatabaseGeneratedOption(( 2
.((2 3
Identity((3 ;
)((; <
]((< =
public)) 
int)) 
Id)) 
{)) 
get)) 
;)) 
set))  
;))  !
}))" #
public** 
int** 
AdwardId** 
{** 
get** !
;**! "
set**# &
;**& '
}**( )
[++ 	

ForeignKey++	 
(++ 
$str++ 
)++ 
]++  
public,, 
virtual,, 
Adward,, 
Adward,, $
{,,% &
get,,' *
;,,* +
set,,, /
;,,/ 0
},,1 2
public-- 
int-- 
PeopleId-- 
{-- 
get-- !
;--! "
set--# &
;--& '
}--( )
[.. 	

ForeignKey..	 
(.. 
$str.. 
).. 
]..  
public// 
virtual// 
People// 
People// $
{//% &
get//' *
;//* +
set//, /
;/// 0
}//1 2
public00 
int00 
?00 
Year00 
{00 
get00 
;00 
set00  #
;00# $
}00% &
public11 
DateTime11 
?11 

DetailTime11 #
{11$ %
get11& )
;11) *
set11+ .
;11. /
}110 1
}22 
public44 

class44 
PeopleSocials44 
:44  
GeneralColumn44! .
{55 
public66 
int66 
PeopleId66 
{66 
get66 !
;66! "
set66# &
;66& '
}66( )
[77 	

ForeignKey77	 
(77 
$str77 
)77 
]77  
public88 
virtual88 
People88 
People88 $
{88% &
get88' *
;88* +
set88, /
;88/ 0
}881 2
public99 
int99 
SocialId99 
{99 
get99 !
;99! "
set99# &
;99& '
}99( )
[:: 	

ForeignKey::	 
(:: 
$str:: 
):: 
]::  
public;; 
virtual;; 
Social;; 
Social;; $
{;;% &
get;;' *
;;;* +
set;;, /
;;;/ 0
};;1 2
public<< 
long<< 
?<< 
Like<< 
{<< 
get<< 
;<<  
set<<! $
;<<$ %
}<<& '
public== 
long== 
?== 
View== 
{== 
get== 
;==  
set==! $
;==$ %
}==& '
public>> 
long>> 
?>> 
Share>> 
{>> 
get>>  
;>>  !
set>>" %
;>>% &
}>>' (
public?? 
long?? 
??? 
Follow?? 
{?? 
get?? !
;??! "
set??# &
;??& '
}??( )
public@@ 
string@@ 
Url@@ 
{@@ 
get@@ 
;@@  
set@@! $
;@@$ %
}@@& '
publicAA 
virtualAA 
ListAA 
<AA 
PeopleSocialsByDateAA /
>AA/ 0 
PeopleSocialsByDatesAA1 E
{AAF G
getAAH K
;AAK L
setAAM P
;AAP Q
}AAR S
}BB 
publicDD 

classDD 
PeopleSocialsByDateDD $
:DD% &
GeneralColumnDD' 4
{EE 
publicFF 
intFF 
PeopleSocialsIdFF "
{FF# $
getFF% (
;FF( )
setFF* -
;FF- .
}FF/ 0
[GG 	

ForeignKeyGG	 
(GG 
$strGG %
)GG% &
]GG& '
publicHH 
PeopleSocialsHH 
PeopleSocialsHH *
{HH+ ,
getHH- 0
;HH0 1
setHH2 5
;HH5 6
}HH7 8
publicII 
longII 
?II 
LikeII 
{II 
getII 
;II  
setII! $
;II$ %
}II& '
publicJJ 
longJJ 
?JJ 
ViewJJ 
{JJ 
getJJ 
;JJ  
setJJ! $
;JJ$ %
}JJ& '
publicKK 
longKK 
?KK 
ShareKK 
{KK 
getKK  
;KK  !
setKK" %
;KK% &
}KK' (
publicLL 
longLL 
?LL 
FollowLL 
{LL 
getLL !
;LL! "
setLL# &
;LL& '
}LL( )
publicMM 
PeopleSocialsByDateMM "
(MM" #
)MM# $
{NN 	
CreatedDateOO 
=OO 
DateTimeOO "
.OO" #
NowOO# &
;OO& '
}PP 	
}QQ 
publicSS 

classSS 
PeopleSocialsTotalSS #
:SS$ %
PeopleSocialsSS& 3
{TT 
publicUU 
longUU 
TotalUU 
{UU 
getUU 
;UU  
setUU! $
;UU$ %
}UU& '
publicVV 
longVV 
getTotalVV 
(VV 
)VV 
{WW 	
TotalXX 
=XX 
LikeXX 
??XX 
$numXX 
+XX 
ShareXX  %
??XX& (
$numXX) *
+XX+ ,
ViewXX- 1
??XX2 4
$numXX5 6
+XX7 8
FollowXX9 ?
??XX@ B
$numXXC D
;XXD E
returnYY 
TotalYY 
;YY 
}ZZ 	
}[[ 
public]] 

class]] 
Social]] 
:]] 
GeneralColumn]] '
{^^ 
[__ 	
Required__	 
]__ 
public`` 
string`` 
Name`` 
{`` 
get``  
;``  !
set``" %
;``% &
}``' (
}bb 
publicdd 

classdd 
Careerdd 
:dd 
GeneralColumndd '
{ee 
[ff 	
Requiredff	 
]ff 
publicgg 
stringgg 
Namegg 
{gg 
getgg  
;gg  !
setgg" %
;gg% &
}gg' (
}ii 
publickk 

classkk 
GeneralColumnkk 
:kk  
GeneralColumnNoIdkk! 2
{ll 
[mm 	
Keymm	 
]mm 
[nn 	
DatabaseGeneratednn	 
(nn #
DatabaseGeneratedOptionnn 2
.nn2 3
Identitynn3 ;
)nn; <
]nn< =
publicoo 
intoo 
Idoo 
{oo 
getoo 
;oo 
setoo  
;oo  !
}oo" #
}pp 
publicss 

classss 
GeneralColumnNoIdss "
{tt 
publicuu 
intuu 
Indexuu 
{uu 
getuu 
;uu 
setuu  #
;uu# $
}uu% &
publicvv 
boolvv 
?vv 
Enabledvv 
{vv 
getvv "
;vv" #
setvv$ '
;vv' (
}vv) *
publicww 
DateTimeww 
?ww 
CreatedDateww $
{ww% &
getww' *
;ww* +
setww, /
;ww/ 0
}ww1 2
publicxx 
DateTimexx 
?xx 
UpdatedDatexx $
{xx% &
getxx' *
;xx* +
setxx, /
;xx/ 0
}xx1 2
}yy 
}zz ≠.
(D:\web_angular\moduleAuth\Models\Post.cs
	namespace 	
angular6DotnetCore
 
. 
Models #
{ 
[		 
Table		 

(		
 
$str		 
)		 
]		 
public

 

class

 
Post

 
{ 
[ 	
Key	 
] 
[ 	
DatabaseGenerated	 
( #
DatabaseGeneratedOption 2
.2 3
Identity3 ;
); <
]< =
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
string 
Title 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Message 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
Short 
{ 
get !
;! "
set# &
;& '
}( )
[ 	
Range	 
( 
$num 
, 
$num 
) 
] 
public 
int 
? 
Star 
{ 
get 
; 
set  #
;# $
}% &
[ 	
Range	 
( 
$num 
, 
$num 
) 
] 
public 
int 
? 
TopIndex 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
Tags 
{ 
get  
;  !
set" %
;% &
}' (
public 
int 
? 
Cost 
{ 
get 
; 
set  #
;# $
}% &
public 
int 
? 
Sale 
{ 
get 
; 
set  #
;# $
}% &
public 
int 
? 
CurrencyUnitId "
{# $
get% (
;( )
set* -
;- .
}/ 0
[ 	

ForeignKey	 
( 
$str $
)$ %
]% &
public 
virtual 
Type 
CurrencyUnit (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
int 
? 
CurrencyUnitSaleId &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
[ 	

ForeignKey	 
( 
$str (
)( )
]) *
public 
virtual 
Type 
CurrencyUnitSale ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
string 
ImageUrl 
{  
get! $
;$ %
set& )
;) *
}+ ,
public   
string   
ThumbUrl   
{    
get  ! $
;  $ %
set  & )
;  ) *
}  + ,
public!! 
int!! 
?!! 
StateId!! 
{!! 
get!! !
;!!! "
set!!# &
;!!& '
}!!( )
["" 	

ForeignKey""	 
("" 
$str"" 
)"" 
]"" 
public## 
virtual## 
Type## 
State## !
{##" #
get##$ '
;##' (
set##) ,
;##, -
}##. /
public$$ 
string$$ 
UserId$$ 
{$$ 
get$$ "
;$$" #
set$$$ '
;$$' (
}$$) *
[%% 	

ForeignKey%%	 
(%% 
$str%% 
)%% 
]%% 
public&& 
virtual&& 
IdentityUser&& #
User&&$ (
{&&) *
get&&+ .
;&&. /
set&&0 3
;&&3 4
}&&5 6
public(( 
int(( 
?(( 

ProviderId(( 
{((  
get((! $
;(($ %
set((& )
;(() *
}((+ ,
[)) 	

ForeignKey))	 
()) 
$str))  
)))  !
]))! "
public** 
virtual** 
Provider** 
Provider**  (
{**) *
get**+ .
;**. /
set**0 3
;**3 4
}**5 6
public,, 
DateTime,, 
?,, 
CreatedDate,, $
{,,% &
get,,' *
;,,* +
set,,, /
;,,/ 0
},,1 2
public-- 
DateTime-- 
?-- 
UploadedDate-- %
{--& '
get--( +
;--+ ,
set--- 0
;--0 1
}--2 3
public.. 
bool.. 
?.. 
	Activated.. 
{..  
get..! $
;..$ %
set..& )
;..) *
}..+ ,
public// 
DateTime// 
?// 
ActivatedDate// &
{//' (
get//) ,
;//, -
set//. 1
;//1 2
}//3 4
public00 
virtual00 
List00 
<00 
Type00  
>00  !
Feels00" '
{00( )
get00* -
;00- .
set00/ 2
;002 3
}004 5
public11 
virtual11 
List11 
<11 
Post11  
>11  !
Comments11" *
{11+ ,
get11- 0
;110 1
set112 5
;115 6
}117 8
}33 
}44 ˘
,D:\web_angular\moduleAuth\Models\Provider.cs
	namespace 	
angular6DotnetCore
 
. 
Models #
{ 
public		 

class		 
Provider		 
{

 
[ 	
Key	 
] 
[ 	
DatabaseGenerated	 
( #
DatabaseGeneratedOption 2
.2 3
Identity3 ;
); <
]< =
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
string 
ProviderCode "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
ProviderName "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
Address 
{ 
get  #
;# $
set% (
;( )
}* +
public 
bool 
? 
	Activated 
{  
get  #
;# $
set$ '
;' (
}( )
public 
DateTime 
? 
ActivatedDate &
{' (
get( +
;+ ,
set, /
;/ 0
}0 1
public 
DateTime 
? 
UpdatedDate $
{% &
get& )
;) *
set* -
;- .
}. /
public 
DateTime 
? 
CreatedDate $
{% &
get& )
;) *
set* -
;- .
}. /
} 
} Í
1D:\web_angular\moduleAuth\Models\RegisterInput.cs
	namespace 	
angular6DotnetCore
 
. 
Models #
{ 
public 

class 
RegisterInput 
{ 
[ 	
Required	 
] 
[ 	
EmailAddress	 
] 
[		 	
Display			 
(		 
Name		 
=		 
$str		 
)		  
]		  !
public

 
string

 
Email

 
{

 
get

 !
;

! "
set

# &
;

& '
}

( )
[ 	
Required	 
] 
[ 	
StringLength	 
( 
$num 
, 
ErrorMessage '
=( )
$str* h
,h i
MinimumLengthj w
=x y
$numz {
){ |
]| }
[ 	
DataType	 
( 
DataType 
. 
Password #
)# $
]$ %
[ 	
Display	 
( 
Name 
= 
$str "
)" #
]# $
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
DataType	 
( 
DataType 
. 
Password #
)# $
]$ %
[ 	
Display	 
( 
Name 
= 
$str *
)* +
]+ ,
[ 	
Compare	 
( 
$str 
, 
ErrorMessage )
=* +
$str, b
)b c
]c d
public 
string 
ConfirmPassword %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
string 
	ReturnUrl 
{  !
get" %
;% &
set' *
;* +
}, -
} 
} î
6D:\web_angular\moduleAuth\Models\RegisterInputEmail.cs
	namespace 	
angular6DotnetCore
 
. 
Models #
{ 
public 

class 
RegisterInputEmail #
{ 
[ 	
Required	 
] 
[ 	
EmailAddress	 
] 
public		 
string		 
Email		 
{		 
get		 !
;		! "
set		# &
;		& '
}		( )
}

 
} º
(D:\web_angular\moduleAuth\Models\Role.cs
	namespace 	
angular6DotnetCore
 
. 
Models #
{ 
public 

class 
Role 
{		 
[

 	
Key

	 
]

 
public 
string 
RoleCode 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
RoleName 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
virtual 
List 
< 
Account #
># $
Accounts% -
{. /
get0 3
;3 4
set5 8
;8 9
}: ;
} 
} Ï
(D:\web_angular\moduleAuth\Models\Type.cs
	namespace 	
angular6DotnetCore
 
. 
Models #
{ 
[ 
Table 

(
 
$str 
) 
] 
public 

class 
Type 
{		 
[

 	
Key

	 
]

 
[ 	
DatabaseGenerated	 
( #
DatabaseGeneratedOption 2
.2 3
Identity3 ;
); <
]< =
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Url 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
ImageUrl 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
ThumbUrl 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
Icon 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Class 
{ 
get !
;! "
set# &
;& '
}( )
public 
bool 
	Activated 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
? 
TopIndex 
{ 
get "
;" #
set$ '
;' (
}) *
public 
DateTime 
? 
ActivatedDate &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
DateTime 
? 
CreatedDate $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
DateTime 
? 
UploadedDate %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
int 
? 
TypeParentId  
{! "
get# &
;& '
set( +
;+ ,
}- .
[ 	

ForeignKey	 
( 
$str "
)" #
]# $
public 
virtual 
Type 

TypeParent &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
} 
} œ
>D:\web_angular\moduleAuth\Models\ViewModels\AccountRegister.cs
	namespace 	
angular6DotnetCore
 
. 
Models #
.# $

ViewModels$ .
{ 
public		 

class		 
AccountRegister		  
{

 
[ 	
DataType	 
( 
DataType 
. 
EmailAddress '
)' (
]( )
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
[ 	
DataType	 
( 
DataType 
. 
Password #
)# $
]$ %
[ 	
Required	 
] 
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
DataType	 
( 
DataType 
. 
Password #
)# $
]$ %
[ 	
Required	 
] 
public 
string 
ConfirmPassword %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
[ 	
DataType	 
( 
DataType 
. 
PhoneNumber &
)& '
]' (
public 
string 
Phone 
{ 
get !
;! "
set# &
;& '
}( )
} 
} Ô
;D:\web_angular\moduleAuth\Models\ViewModels\AccountToken.cs
	namespace 	
angular6DotnetCore
 
. 
Models #
.# $

ViewModels$ .
{ 
public 

class 
AccountToken 
{		 
public

 
string

 
AccessToken

 !
{

" #
get

$ '
;

' (
set

) ,
;

, -
}

. /
public 
int 

ExpireDate 
{ 
get  #
;# $
set% (
;( )
}* +
} 
} ◊
;D:\web_angular\moduleAuth\Models\ViewModels\MessageModel.cs
	namespace 	
angular6DotnetCore
 
. 
Models #
.# $

ViewModels$ .
{ 
public 

class 
MessageModel 
{		 
public

 
bool

 

IsSignedIn

 
{

  
get

! $
;

$ %
set

& )
;

) *
}

+ ,
=

- .
false

/ 4
;

4 5
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
UserName 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
	ReturnUrl 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
Message 
{ 
get  #
;# $
set% (
;( )
}* +
public 
bool 
	Succeeded 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
false. 3
;3 4
public 
dynamic 
Results 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} ¸
BD:\web_angular\moduleAuth\Models\ViewModels\ProviderSocialLogin.cs
	namespace 	
angular6DotnetCore
 
. 
Models #
.# $

ViewModels$ .
{ 
public 

class 
ProviderSocialLogin $
{		 
public

 
string

 
Provider

 
{

  
get

! $
;

$ %
set

& )
;

) *
}

+ ,
public 
string 
	ReturnUrl 
{  !
get" %
;% &
set' *
;* +
}, -
} 
} ÷

/D:\web_angular\moduleAuth\Pages\Error.cshtml.cs
	namespace		 	
angular6DotnetCore		
 
.		 
Pages		 "
{

 
public 

class 

ErrorModel 
: 
	PageModel '
{ 
public 
string 
	RequestId 
{  !
get" %
;% &
set' *
;* +
}, -
public 
bool 
ShowRequestId !
=>" $
!% &
string& ,
., -
IsNullOrEmpty- :
(: ;
	RequestId; D
)D E
;E F
[ 	
ResponseCache	 
( 
Duration 
=  !
$num" #
,# $
Location% -
=. /!
ResponseCacheLocation0 E
.E F
NoneF J
,J K
NoStoreL S
=T U
trueV Z
)Z [
][ \
public 
void 
OnGet 
( 
) 
{ 	
	RequestId 
= 
Activity  
.  !
Current! (
?( )
.) *
Id* ,
??- /
HttpContext0 ;
.; <
TraceIdentifier< K
;K L
} 	
} 
} –
$D:\web_angular\moduleAuth\Program.cs
	namespace 	
angular6DotnetCore
 
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	 
CreateWebHostBuilder  
(  !
args! %
)% &
.& '
Build' ,
(, -
)- .
.. /
Run/ 2
(2 3
)3 4
;4 5
} 	
public 
static 
IWebHostBuilder % 
CreateWebHostBuilder& :
(: ;
string; A
[A B
]B C
argsD H
)H I
=>J L
WebHost 
.  
CreateDefaultBuilder (
(( )
args) -
)- .
. 

UseStartup 
< 
Startup #
># $
($ %
)% &
;& '
} 
} ∫Y
$D:\web_angular\moduleAuth\Startup.cs
	namespace 	
angular6DotnetCore
 
{ 
public 

class 
Startup 
{ 
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{ 	
services 
. 
	Configure 
< 
CookiePolicyOptions 2
>2 3
(3 4
options4 ;
=>< >
{   
options"" 
."" 
CheckConsentNeeded"" *
=""+ ,
context""- 4
=>""5 7
true""8 <
;""< =
options## 
.## !
MinimumSameSitePolicy## -
=##. /
SameSiteMode##0 <
.##< =
None##= A
;##A B
}$$ 
)$$ 
;$$ 
services&& 
.&& 
AddDbContext&& !
<&&! "
UserDbContext&&" /
>&&/ 0
(&&0 1
options&&1 8
=>&&9 ;
options&&< C
.&&C D
UseSqlServer&&D P
(&&P Q
Configuration&&Q ^
.&&^ _
GetConnectionString&&_ r
(&&r s
$str	&&s ì
)
&&ì î
)
&&î ï
)
&&ï ñ
;
&&ñ ó
services** 
.** 
AddIdentity**  
<**  !
IdentityUser**! -
,**- .
IdentityRole**/ ;
>**; <
(**< =
config**= C
=>**D F
{++ 
config,, 
.,, 
SignIn,, 
.,, !
RequireConfirmedEmail,, 3
=,,4 5
true,,6 :
;,,: ;
}-- 
)-- 
.-- $
AddEntityFrameworkStores-- '
<--' (
UserDbContext--( 5
>--5 6
(--6 7
)--7 8
.--8 9$
AddDefaultTokenProviders--9 Q
(--Q R
)--R S
;--S T
services// 
.// 
	Configure// 
<// 
IdentityOptions// .
>//. /
(/// 0
options//0 7
=>//8 :
{00 
options22 
.22 
Password22  
.22  !
RequireDigit22! -
=22. /
true220 4
;224 5
options33 
.33 
Password33  
.33  !
RequiredLength33! /
=330 1
$num332 3
;333 4
options44 
.44 
Password44  
.44  !"
RequireNonAlphanumeric44! 7
=448 9
false44: ?
;44? @
options55 
.55 
Password55  
.55  !
RequireUppercase55! 1
=552 3
false554 9
;559 :
options66 
.66 
Password66  
.66  !
RequireLowercase66! 1
=662 3
false664 9
;669 :
options77 
.77 
Password77  
.77  !
RequiredUniqueChars77! 4
=775 6
$num777 8
;778 9
options:: 
.:: 
Lockout:: 
.::  "
DefaultLockoutTimeSpan::  6
=::7 8
TimeSpan::9 A
.::A B
FromDays::B J
(::J K
$num::K M
)::M N
;::N O
options;; 
.;; 
Lockout;; 
.;;  #
MaxFailedAccessAttempts;;  7
=;;8 9
$num;;: <
;;;< =
options<< 
.<< 
Lockout<< 
.<<  
AllowedForNewUsers<<  2
=<<3 4
true<<5 9
;<<9 :
options?? 
.?? 
User?? 
.?? 
RequireUniqueEmail?? /
=??0 1
true??2 6
;??6 7
}@@ 
)@@ 
;@@ 
servicesBB 
.BB &
ConfigureApplicationCookieBB /
(BB/ 0
optionsBB0 7
=>BB8 :
{CC 
optionsEE 
.EE 
CookieEE 
.EE 
HttpOnlyEE '
=EE( )
falseEE* /
;EE/ 0
optionsFF 
.FF 
ExpireTimeSpanFF &
=FF' (
TimeSpanFF) 1
.FF1 2
FromMinutesFF2 =
(FF= >
$numFF> @
)FF@ A
;FFA B
optionsII 
.II 
	LoginPathII !
=II" #
$strII$ 8
;II8 9
optionsLL 
.LL 
AccessDeniedPathLL (
=LL) *
$strLL+ B
;LLB C
optionsMM 
.MM 
SlidingExpirationMM )
=MM* +
trueMM, 0
;MM0 1
}NN 
)NN 
;NN 
servicesPP 
.PP 
AddMvcPP 
(PP 
)PP 
.PP #
SetCompatibilityVersionPP 5
(PP5 6 
CompatibilityVersionPP6 J
.PPJ K
Version_2_1PPK V
)PPV W
;PPW X
servicesQQ 
.QQ 
AddTransientQQ !
<QQ! "
IEmailSenderQQ" .
,QQ. /
EmailSenderQQ0 ;
>QQ; <
(QQ< =
)QQ= >
;QQ> ?
servicesTT 
.TT 
AddSpaStaticFilesTT &
(TT& '
configurationTT' 4
=>TT5 7
{UU 
configurationVV 
.VV 
RootPathVV &
=VV' (
$strVV) 9
;VV9 :
}WW 
)WW 
;WW 
varXX 
appIdXX 
=XX 
ConfigurationXX %
[XX% &
$strXX& E
]XXE F
;XXF G
varYY 
	appSecretYY 
=YY 
ConfigurationYY )
[YY) *
$strYY* M
]YYM N
;YYN O
appIdZZ 
=ZZ 
$strZZ %
;ZZ% &
	appSecret[[ 
=[[ 
$str[[ :
;[[: ;
services\\ 
.\\ 
AddAuthentication\\ &
(\\& '
)\\' (
.\\( )
AddFacebook\\) 4
(\\4 5
options\\5 <
=>\\= ?
{]] 
options^^ 
.^^ 
AppId^^ 
=^^ 
appId^^  %
;^^% &
options__ 
.__ 
	AppSecret__ !
=__" #
	appSecret__$ -
;__- .
}`` 
)`` 
;`` 
servicesaa 
.aa 
AddHangfireaa  
(aa  !
configaa! '
=>aa( *
configaa+ 1
.aa1 2
UseSqlServerStorageaa2 E
(aaE F
ConfigurationaaF S
.aaS T
GetConnectionStringaaT g
(aag h
$str	aah à
)
aaà â
)
aaâ ä
)
aaä ã
;
aaã å
Consolecc 
.cc 
	WriteLinecc 
(cc 
$strcc 2
)cc2 3
;cc3 4
}dd 	
publicgg 
voidgg 
	Configuregg 
(gg 
IApplicationBuildergg 1
appgg2 5
,gg5 6
IHostingEnvironmentgg7 J
envggK N
)ggN O
{hh 	
ifii 
(ii 
envii 
.ii 
IsDevelopmentii !
(ii! "
)ii" #
)ii# $
{jj 
appkk 
.kk %
UseDeveloperExceptionPagekk -
(kk- .
)kk. /
;kk/ 0
}ll 
elsemm 
{nn 
appoo 
.oo 
UseExceptionHandleroo '
(oo' (
$stroo( 0
)oo0 1
;oo1 2
apppp 
.pp 
UseHstspp 
(pp 
)pp 
;pp 
}qq 
apprr 
.rr  
UseHangfireDashboardrr $
(rr$ %
)rr% &
;rr& '
appss 
.ss 
UseHangfireServerss !
(ss! "
)ss" #
;ss# $
apptt 
.tt 
UseHttpsRedirectiontt #
(tt# $
)tt$ %
;tt% &
appuu 
.uu 
UseStaticFilesuu 
(uu 
)uu  
;uu  !
appvv 
.vv 
UseSpaStaticFilesvv !
(vv! "
)vv" #
;vv# $
appww 
.ww 
UseCookiePolicyww 
(ww  
)ww  !
;ww! "
appxx 
.xx 
UseAuthenticationxx !
(xx! "
)xx" #
;xx# $
appyy 
.yy 
UseMvcyy 
(yy 
routesyy 
=>yy  
{zz 
routes{{ 
.{{ 
MapRoute{{ 
({{  
name|| 
:|| 
$str|| #
,||# $
template}} 
:}} 
$str}} A
)}}A B
;}}B C
}~~ 
)~~ 
;~~ 
app
ÄÄ 
.
ÄÄ 
UseSpa
ÄÄ 
(
ÄÄ 
spa
ÄÄ 
=>
ÄÄ 
{
ÅÅ 
spa
ÇÇ 
.
ÇÇ 
Options
ÇÇ 
.
ÇÇ 

SourcePath
ÇÇ &
=
ÇÇ' (
$str
ÇÇ) 4
;
ÇÇ4 5
if
ÉÉ 
(
ÉÉ 
env
ÉÉ 
.
ÉÉ 
IsDevelopment
ÉÉ %
(
ÉÉ% &
)
ÉÉ& '
)
ÉÉ' (
{
ÑÑ 
spa
ÖÖ 
.
ÖÖ !
UseAngularCliServer
ÖÖ +
(
ÖÖ+ ,
	npmScript
ÖÖ, 5
:
ÖÖ5 6
$str
ÖÖ7 >
)
ÖÖ> ?
;
ÖÖ? @
}
ÜÜ 
}
áá 
)
áá 
;
áá 
RecurringJob
ââ 
.
ââ 
AddOrUpdate
ââ $
(
ââ$ %
(
ââ% &
)
ââ& '
=>
ââ( *
Run
ââ+ .
(
ââ. /
)
ââ/ 0
,
ââ0 1
Cron
ââ2 6
.
ââ6 7
Daily
ââ7 <
)
ââ< =
;
ââ= >
}
ää 	
public
åå 
void
åå 
Run
åå 
(
åå 
)
åå 
{
çç 	
var
éé 

infoPeople
éé 
=
éé 
new
éé  

InfoPeople
éé! +
(
éé+ ,
)
éé, -
;
éé- .
var
èè 
optionsBuilder
èè 
=
èè  
new
èè! $%
DbContextOptionsBuilder
èè% <
<
èè< =
UserDbContext
èè= J
>
èèJ K
(
èèK L
)
èèL M
;
èèM N
optionsBuilder
êê 
.
êê 
UseSqlServer
êê '
(
êê' (
Configuration
êê( 5
.
êê5 6!
GetConnectionString
êê6 I
(
êêI J
$str
êêJ j
)
êêj k
)
êêk l
;
êêl m
var
ëë 
	dbContext
ëë 
=
ëë 
new
ëë 
UserDbContext
ëë  -
(
ëë- .
optionsBuilder
ëë. <
.
ëë< =
Options
ëë= D
)
ëëD E
;
ëëE F
var
íí 
res
íí 
=
íí 

infoPeople
íí  
.
íí  !
	CrawlFull
íí! *
(
íí* +
	dbContext
íí+ 4
)
íí4 5
.
íí5 6
Result
íí6 <
;
íí< =
}
ìì 	
}
îî 
}ïï 